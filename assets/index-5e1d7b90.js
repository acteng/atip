import{S as V,i as P,s as F,D as ue,f as C,q as W,j as M,e as p,a as S,l as E,d as v,g as k,z as A,c as T,m as G,t as R,h as D,k as J,a1 as q,r as re,G as ne,H as te,I as ie,J as ae,ad as L,b as j,y as fe,$ as ce,a0 as z,a2 as se,a3 as de,av as ge,A as _e,v as me}from"./stores-05c702cb.js";import{e as X,S as he,B as be}from"./files-52bcec72.js";let H;const ke=new Uint8Array(16);function ve(){if(!H&&(H=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!H))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return H(ke)}const w=[];for(let l=0;l<256;++l)w.push((l+256).toString(16).slice(1));function pe(l,e=0){return w[l[e+0]]+w[l[e+1]]+w[l[e+2]]+w[l[e+3]]+"-"+w[l[e+4]]+w[l[e+5]]+"-"+w[l[e+6]]+w[l[e+7]]+"-"+w[l[e+8]]+w[l[e+9]]+"-"+w[l[e+10]]+w[l[e+11]]+w[l[e+12]]+w[l[e+13]]+w[l[e+14]]+w[l[e+15]]}const we=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),K={randomUUID:we};function oe(l,e,n){if(K.randomUUID&&!e&&!l)return K.randomUUID();l=l||{};const t=l.random||(l.rng||ve)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=t[i];return e}return pe(t)}function O(l){let e,n,t,i;return{c(){e=p("div"),n=p("span"),n.textContent="Error:",t=S(),i=E(l[0]),v(n,"class","govuk-visually-hidden"),v(e,"class","govuk-error-message")},m(s,u){C(s,e,u),k(e,n),k(e,t),k(e,i)},p(s,u){u&1&&A(i,s[0])},d(s){s&&M(e)}}}function ye(l){let e,n=l[0]&&O(l);return{c(){n&&n.c(),e=ue()},m(t,i){n&&n.m(t,i),C(t,e,i)},p(t,[i]){t[0]?n?n.p(t,i):(n=O(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:W,o:W,d(t){t&&M(e),n&&n.d(t)}}}function Be(l,e,n){let{errorMessage:t}=e;return l.$$set=i=>{"errorMessage"in i&&n(0,t=i.errorMessage)},[t]}class Ue extends V{constructor(e){super(),P(this,e,Be,ye,F,{errorMessage:0})}}function Le(l){let e,n,t;return{c(){e=p("input"),e.disabled=l[1],v(e,"class","govuk-file-upload"),v(e,"id",l[4]),v(e,"type","file")},m(i,s){C(i,e,s),l[6](e),n||(t=q(e,"change",l[3]),n=!0)},p(i,s){s&2&&(e.disabled=i[1])},d(i){i&&M(e),l[6](null),n=!1,t()}}}function Ce(l){let e,n;return e=new Re({props:{label:l[0],id:l[4],$$slots:{default:[Le]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,i){G(e,t,i),n=!0},p(t,[i]){const s={};i&1&&(s.label=t[0]),i&134&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Me(l,e,n){let{label:t}=e,{onLoad:i}=e,{disabled:s=!1}=e,u;async function r(m){let a=u.files[0].name,b=await u.files[0].text();i(a,b)}let o=oe();function f(m){re[m?"unshift":"push"](()=>{u=m,n(2,u)})}return l.$$set=m=>{"label"in m&&n(0,t=m.label),"onLoad"in m&&n(5,i=m.onLoad),"disabled"in m&&n(1,s=m.disabled)},[t,s,u,r,o,i,f]}class Te extends V{constructor(e){super(),P(this,e,Me,Ce,F,{label:0,onLoad:5,disabled:1})}}function Se(l){let e,n,t,i,s;const u=l[3].default,r=ne(u,l,l[2],null);return{c(){e=p("div"),n=p("label"),t=E(l[0]),i=S(),r&&r.c(),v(n,"class","govuk-label govuk-label--s"),v(n,"for",l[1]),v(e,"class","govuk-form-group")},m(o,f){C(o,e,f),k(e,n),k(n,t),k(e,i),r&&r.m(e,null),s=!0},p(o,[f]){(!s||f&1)&&A(t,o[0]),(!s||f&2)&&v(n,"for",o[1]),r&&r.p&&(!s||f&4)&&te(r,u,o,o[2],s?ae(u,o[2],f,null):ie(o[2]),null)},i(o){s||(R(r,o),s=!0)},o(o){D(r,o),s=!1},d(o){o&&M(e),r&&r.d(o)}}}function Ee(l,e,n){let{$$slots:t={},$$scope:i}=e,{label:s}=e,{id:u}=e;return l.$$set=r=>{"label"in r&&n(0,s=r.label),"id"in r&&n(1,u=r.id),"$$scope"in r&&n(2,i=r.$$scope)},[s,u,i,t]}class Re extends V{constructor(e){super(),P(this,e,Ee,Se,F,{label:0,id:1})}}function Q(l,e,n){const t=l.slice();return t[14]=e[n][0],t[15]=e[n][1],t}function Y(l){let e,n;return{c(){e=p("legend"),n=E(l[1]),v(e,"class","govuk-fieldset__legend govuk-fieldset__legend--s"),j(e,"margin-right","8px")},m(t,i){C(t,e,i),k(e,n)},p(t,i){i&2&&A(n,t[1])},d(t){t&&M(e)}}}function Z(l){let e,n;return{c(){e=p("legend"),n=E(l[1]),v(e,"class","govuk-fieldset__legend govuk-fieldset__legend--s")},m(t,i){C(t,e,i),k(e,n)},p(t,i){i&2&&A(n,t[1])},d(t){t&&M(e)}}}function x(l){let e,n;return{c(){e=p("div"),n=E(l[2]),v(e,"class","govuk-hint")},m(t,i){C(t,e,i),k(e,n)},p(t,i){i&4&&A(n,t[2])},d(t){t&&M(e)}}}function $(l){let e,n;return{c(){e=p("legend"),n=E(l[1]),v(e,"class","govuk-fieldset__legend govuk-fieldset__legend--s"),j(e,"margin-right","8px")},m(t,i){C(t,e,i),k(e,n)},p(t,i){i&2&&A(n,t[1])},d(t){t&&M(e)}}}function ee(l){let e,n,t,i,s=!1,u,r,o=l[15]+"",f,m,a,b,h,c;return b=ce(l[13][0]),{c(){e=p("div"),n=p("input"),u=S(),r=p("label"),f=E(o),a=S(),v(n,"class","govuk-radios__input"),v(n,"id",t=l[9]+l[14]),v(n,"type","radio"),n.__value=i=l[14],z(n,n.__value),v(r,"class","govuk-label govuk-radios__label"),v(r,"for",m=l[9]+l[14]),v(e,"class","govuk-radios__item"),b.p(n)},m(g,y){C(g,e,y),k(e,n),n.checked=n.__value===l[0],k(e,u),k(e,r),k(r,f),k(e,a),h||(c=[q(n,"change",l[12]),q(n,"change",l[11])],h=!0)},p(g,y){y&8&&t!==(t=g[9]+g[14])&&v(n,"id",t),y&8&&i!==(i=g[14])&&(n.__value=i,z(n,n.__value),s=!0),(s||y&9)&&(n.checked=n.__value===g[0]),y&8&&o!==(o=g[15]+"")&&A(f,o),y&8&&m!==(m=g[9]+g[14])&&v(r,"for",m)},d(g){g&&M(e),b.r(),h=!1,se(c)}}}function Ae(l){let e,n,t,i,s,u,r,o,f,m,a,b=l[7]&&!l[4]&&Y(l),h=!l[7]&&Z(l);u=new Ue({props:{errorMessage:l[8]}});let c=l[2]&&x(l),g=l[7]&&l[4]&&$(l),y=X(l[3]),_=[];for(let d=0;d<y.length;d+=1)_[d]=ee(Q(l,y,d));return{c(){e=p("div"),b&&b.c(),n=S(),t=p("div"),i=p("fieldset"),h&&h.c(),s=S(),T(u.$$.fragment),r=S(),c&&c.c(),o=S(),f=p("div"),g&&g.c(),m=S();for(let d=0;d<_.length;d+=1)_[d].c();v(f,"class","govuk-radios svelte-1i6hs1"),v(f,"data-module","govuk-radios"),L(f,"govuk-radios--inline",l[4]),L(f,"govuk-radios--small",l[4]),L(f,"nowrap",l[5]),L(f,"no-bottom-margin",l[6]),v(i,"class","govuk-fieldset"),v(t,"class","govuk-form-group"),j(e,"display","flex")},m(d,B){C(d,e,B),b&&b.m(e,null),k(e,n),k(e,t),k(t,i),h&&h.m(i,null),k(i,s),G(u,i,null),k(i,r),c&&c.m(i,null),k(i,o),k(i,f),g&&g.m(f,null),k(f,m);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(f,null);a=!0},p(d,[B]){d[7]&&!d[4]?b?b.p(d,B):(b=Y(d),b.c(),b.m(e,n)):b&&(b.d(1),b=null),d[7]?h&&(h.d(1),h=null):h?h.p(d,B):(h=Z(d),h.c(),h.m(i,s));const I={};if(B&256&&(I.errorMessage=d[8]),u.$set(I),d[2]?c?c.p(d,B):(c=x(d),c.c(),c.m(i,o)):c&&(c.d(1),c=null),d[7]&&d[4]?g?g.p(d,B):(g=$(d),g.c(),g.m(f,m)):g&&(g.d(1),g=null),B&521){y=X(d[3]);let U;for(U=0;U<y.length;U+=1){const N=Q(d,y,U);_[U]?_[U].p(N,B):(_[U]=ee(N),_[U].c(),_[U].m(f,null))}for(;U<_.length;U+=1)_[U].d(1);_.length=y.length}(!a||B&16)&&L(f,"govuk-radios--inline",d[4]),(!a||B&16)&&L(f,"govuk-radios--small",d[4]),(!a||B&32)&&L(f,"nowrap",d[5]),(!a||B&64)&&L(f,"no-bottom-margin",d[6])},i(d){a||(R(u.$$.fragment,d),a=!0)},o(d){D(u.$$.fragment,d),a=!1},d(d){d&&M(e),b&&b.d(),h&&h.d(),J(u),c&&c.d(),g&&g.d(),fe(_,d)}}}function Ie(l,e,n){let t,{label:i}=e,{hint:s=""}=e,{choices:u}=e,{inlineSmall:r=!1}=e,{nowrap:o=!1}=e,{noBottomMargin:f=!1}=e,{leftLabel:m=!1}=e,{required:a=!1}=e,{value:b}=e,h=oe();const c=[[]];function g(_){de.call(this,l,_)}function y(){b=this.__value,n(0,b)}return l.$$set=_=>{"label"in _&&n(1,i=_.label),"hint"in _&&n(2,s=_.hint),"choices"in _&&n(3,u=_.choices),"inlineSmall"in _&&n(4,r=_.inlineSmall),"nowrap"in _&&n(5,o=_.nowrap),"noBottomMargin"in _&&n(6,f=_.noBottomMargin),"leftLabel"in _&&n(7,m=_.leftLabel),"required"in _&&n(10,a=_.required),"value"in _&&n(0,b=_.value)},l.$$.update=()=>{l.$$.dirty&1025&&n(8,t=a&&b==""?"Required":"")},[b,i,s,u,r,o,f,m,t,h,a,g,y,c]}class Ge extends V{constructor(e){super(),P(this,e,Ie,Ae,F,{label:1,hint:2,choices:3,inlineSmall:4,nowrap:5,noBottomMargin:6,leftLabel:7,required:10,value:0})}}const De="/atip/assets/authorities-7624c8c2.geojson";function le(l){let e,n;return e=new he({props:{$$slots:{default:[qe]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){T(e.$$.fragment)},m(t,i){G(e,t,i),n=!0},p(t,i){const s={};i&128&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function qe(l){let e;return{c(){e=E("X")},m(n,t){C(n,e,t)},d(n){n&&M(e)}}}function je(l){let e,n,t,i,s,u,r,o,f,m,a=l[2]&&le(l);const b=l[4].default,h=ne(b,l,l[7],null);return{c(){e=p("div"),n=p("div"),t=p("div"),i=p("h1"),s=E(l[1]),u=S(),a&&a.c(),r=S(),h&&h.c(),v(i,"class","govuk-heading-l"),j(t,"display","flex"),j(t,"justify-content","space-between"),v(n,"class","content centered-fullscreen svelte-1st8ub0"),v(e,"class","background svelte-1st8ub0"),L(e,"open",l[0]),L(e,"closed",!l[0])},m(c,g){C(c,e,g),k(e,n),k(n,t),k(t,i),k(i,s),k(t,u),a&&a.m(t,null),k(n,r),h&&h.m(n,null),o=!0,f||(m=[q(n,"click",ge(Ve)),q(e,"click",l[6])],f=!0)},p(c,[g]){(!o||g&2)&&A(s,c[1]),c[2]?a?(a.p(c,g),g&4&&R(a,1)):(a=le(c),a.c(),R(a,1),a.m(t,null)):a&&(_e(),D(a,1,1,()=>{a=null}),me()),h&&h.p&&(!o||g&128)&&te(h,b,c,c[7],o?ae(b,c[7],g,null):ie(c[7]),null),(!o||g&1)&&L(e,"open",c[0]),(!o||g&1)&&L(e,"closed",!c[0])},i(c){o||(R(a),R(h,c),o=!0)},o(c){D(a),D(h,c),o=!1},d(c){c&&M(e),a&&a.d(),h&&h.d(c),f=!1,se(m)}}}const Ve=()=>null;function Pe(l,e,n){let{$$slots:t={},$$scope:i}=e,{title:s}=e,{open:u=!1}=e,{displayEscapeButton:r=!0}=e,{canCloseByClickingBackground:o=!0}=e;const f=()=>n(0,u=!1),m=()=>{o&&n(0,u=!1)};return l.$$set=a=>{"title"in a&&n(1,s=a.title),"open"in a&&n(0,u=a.open),"displayEscapeButton"in a&&n(2,r=a.displayEscapeButton),"canCloseByClickingBackground"in a&&n(3,o=a.canCloseByClickingBackground),"$$scope"in a&&n(7,i=a.$$scope)},[u,s,r,o,t,f,m,i]}class Je extends V{constructor(e){super(),P(this,e,Pe,je,F,{title:1,open:0,displayEscapeButton:2,canCloseByClickingBackground:3})}}async function Ne(){let e=await(await fetch(De)).json();return be(e)}function We(){if(window.location.hostname=="localhost")return"Local development";if(window.location.hostname=="acteng.github.io"){let l=window.location.pathname.split("/");if(l.length==3&&l[0]==""&&l[1]=="atip")return"Public (development)";if(l.length==4&&l[0]==""&&l[1]=="atip")return`Public (dev branch: ${l[2]})`}else if(window.location.hostname.endsWith(".appspot.com"))return"Private (development)";return"Unknown"}async function ze(l,e){let n=await fetch(l),t=n.body.getReader(),i=n.headers.get("Content-Length");if(!i)throw new Error(`No Content-Length header from ${l}`);let s=parseInt(i),u=0,r=[];for(;;){let{done:m,value:a}=await t.read();if(m)break;a&&(r.push(a),u+=a.length,e(100*u/s))}let o=new Uint8Array(u),f=0;for(let m of r)o.set(m,f),f+=m.length;return o}function Xe(l){let e=l.split("_");if(e.length==2){if(e[0]=="LAD")return`${e[1]} (LAD)`;if(e[0]=="TA")return`${e[1]} (Transport Authority)`}return l}function Ke(){return"https://atip.uk/layers"}function Oe(){return"https://atip.uk/private_layers"}export{Ue as E,Te as F,Je as M,Ge as R,Re as a,Oe as b,We as c,Xe as d,ze as f,Ne as g,Ke as p,oe as v};
