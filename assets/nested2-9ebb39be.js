import{S as q,i as W,s as G,e as A,h as z,$ as Ce,j as $,W as ee,o as p,aP as xr,b as K,c as Q,d as T,g as h,m as b,w as Ct,l as x,t as m,n as _,p as v,X as Et,Y as Nt,Z as Ft,_ as Dt,a7 as qe,J as fe,K as ue,aQ as Tt,u as w,k,D as B,I as Ae,N as cn,O as Tr,q as me,P as Ar,Q as Lr,T as At,U as Ir,V as Pr,aX as el,aY as at,a4 as bn,aZ as tl,f as $n,aO as nl,ar as zt,aj as Jt,ae as pn,r as mn,F as Mr,a as rn,v as qt,aW as V,a_ as ge,a$ as ve,B as J,ah as Y,C as de,ak as Z,b0 as ne,G as kt,H as rl,aS as ll,ab as vn,b1 as Kt,R as Er,b2 as _n,E as Nr,as as ol,ag as sl,aU as wn,al as il,am as kn,an as yn,ao as Bt,aV as Sn,L as al,M as fl,y as ul}from"./index-b861b470.js";import{C as Me,d as Qe,j as Lt,f as rt,h as ie,l as R,c as Wt,k as cl,S as $l,B as pl,b as yt,G as ml}from"./StreetViewTool-9e4fe2dc.js";import{a as Ve,F as _l}from"./Popup-c18c3352.js";import{P as le}from"./Popup-ad98b3a4.js";import{R as gl,C as nt,Z as dl}from"./ZoomOutMap-1c7e187b.js";import{L as hl,a as bl}from"./LineMeasureController-e4106579.js";function vl(r){let e;return{c(){e=A("span"),z(e,"class","svelte-kzgqtg"),Ce(e,"background",r[0])},m(n,t){$(n,e,t)},p(n,[t]){t&1&&Ce(e,"background",n[0])},i:ee,o:ee,d(n){n&&p(e)}}}function wl(r,e,n){let{color:t}=e;return r.$$set=l=>{"color"in l&&n(0,t=l.color)},[t]}class ke extends q{constructor(e){super(),W(this,e,wl,vl,G,{color:0})}}const kl="/atip/assets/help-d011708a.svg";function yl(r){let e,n;const t=r[1].default,l=Et(t,r,r[4],null);return{c(){e=A("div"),l&&l.c(),z(e,"class","govuk-prose")},m(o,i){$(o,e,i),l&&l.m(e,null),n=!0},p(o,i){l&&l.p&&(!n||i&16)&&Nt(l,t,o,o[4],n?Dt(t,o[4],i,null):Ft(o[4]),null)},i(o){n||(m(l,o),n=!0)},o(o){_(l,o),n=!1},d(o){o&&p(e),l&&l.d(o)}}}function Sl(r){let e,n,t,l,o,i,u;function s(f){r[3](f)}let a={title:"Help",$$slots:{default:[yl]},$$scope:{ctx:r}};return r[0]!==void 0&&(a.open=r[0]),t=new xr({props:a}),K.push(()=>Q(t,"open",s)),{c(){e=A("button"),e.innerHTML=`<img src="${kl}" title="Help" alt="Help"/>`,n=T(),h(t.$$.fragment),z(e,"class","svelte-7d9d1l")},m(f,c){$(f,e,c),$(f,n,c),b(t,f,c),o=!0,i||(u=Ct(e,"click",r[2]),i=!0)},p(f,[c]){const d={};c&16&&(d.$$scope={dirty:c,ctx:f}),!l&&c&1&&(l=!0,d.open=f[0],x(()=>l=!1)),t.$set(d)},i(f){o||(m(t.$$.fragment,f),o=!0)},o(f){_(t.$$.fragment,f),o=!1},d(f){f&&(p(e),p(n)),v(t,f),i=!1,u()}}}function Ol(r,e,n){let{$$slots:t={},$$scope:l}=e,o=!1;const i=()=>n(0,o=!0);function u(s){o=s,n(0,o)}return r.$$set=s=>{"$$scope"in s&&n(4,l=s.$$scope)},[o,t,i,u,l]}class ae extends q{constructor(e){super(),W(this,e,Ol,Sl,G,{})}}function On(r,e,n){const t=r.slice();return t[1]=e[n][0],t[2]=e[n][1],t}function Cn(r){let e,n,t,l=r[1]+"",o,i,u;return n=new ke({props:{color:r[2]}}),{c(){e=A("li"),h(n.$$.fragment),t=T(),o=w(l),i=T()},m(s,a){$(s,e,a),b(n,e,null),k(e,t),k(e,o),k(e,i),u=!0},p(s,a){const f={};a&1&&(f.color=s[2]),n.$set(f),(!u||a&1)&&l!==(l=s[1]+"")&&B(o,l)},i(s){u||(m(n.$$.fragment,s),u=!0)},o(s){_(n.$$.fragment,s),u=!1},d(s){s&&p(e),v(n)}}}function Cl(r){let e,n,t=qe(r[0]),l=[];for(let i=0;i<t.length;i+=1)l[i]=Cn(On(r,t,i));const o=i=>_(l[i],1,1,()=>{l[i]=null});return{c(){e=A("ul");for(let i=0;i<l.length;i+=1)l[i].c()},m(i,u){$(i,e,u);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null);n=!0},p(i,u){if(u&1){t=qe(i[0]);let s;for(s=0;s<t.length;s+=1){const a=On(i,t,s);l[s]?(l[s].p(a,u),m(l[s],1)):(l[s]=Cn(a),l[s].c(),m(l[s],1),l[s].m(e,null))}for(fe(),s=t.length;s<l.length;s+=1)o(s);ue()}},i(i){if(!n){for(let u=0;u<t.length;u+=1)m(l[u]);n=!0}},o(i){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)_(l[u]);n=!1},d(i){i&&p(e),Tt(l,i)}}}function Tl(r){let e,n;return e=new Me({props:{label:"Legend",$$slots:{default:[Cl]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&33&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Al(r,e,n){let{rows:t}=e;return r.$$set=l=>{"rows"in l&&n(0,t=l.rows)},[t]}class Ll extends q{constructor(e){super(),W(this,e,Al,Tl,G,{rows:0})}}function Tn(r){let e=r[0],n,t,l=An(r);return{c(){l.c(),n=Ae()},m(o,i){l.m(o,i),$(o,n,i),t=!0},p(o,i){i&1&&G(e,e=o[0])?(fe(),_(l,1,1,ee),ue(),l=An(o),l.c(),m(l,1),l.m(n.parentNode,n)):l.p(o,i)},i(o){t||(m(l),t=!0)},o(o){_(l),t=!1},d(o){o&&p(n),l.d(o)}}}function An(r){let e;const n=r[10].default,t=Et(n,r,r[9],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&512)&&Nt(t,n,l,l[9],e?Dt(n,l[9],o,null):Ft(l[9]),null)},i(l){e||(m(t,l),e=!0)},o(l){_(t,l),e=!1},d(l){t&&t.d(l)}}}function Il(r){let e,n,t=r[0]&&Tn(r);return{c(){t&&t.c(),e=Ae()},m(l,o){t&&t.m(l,o),$(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&m(t,1)):(t=Tn(l),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(fe(),_(t,1,1,()=>{t=null}),ue())},i(l){n||(m(t),n=!0)},o(l){_(t),n=!1},d(l){l&&p(e),t&&t.d(l)}}}function Pl(r,e,n){let t,l,{$$slots:o={},$$scope:i}=e,{id:u=cn("raster-source")}=e,{tiles:s}=e,{tileSize:a=void 0}=e;const{map:f,self:c}=Tr();me(r,f,y=>n(8,l=y)),me(r,c,y=>n(0,t=y));let d,g=!0;return Ar(()=>{t&&d&&l&&(Lr(f,t,d),At(c,t=null,t),n(6,d=void 0))}),r.$$set=y=>{"id"in y&&n(3,u=y.id),"tiles"in y&&n(4,s=y.tiles),"tileSize"in y&&n(5,a=y.tileSize),"$$scope"in y&&n(9,i=y.$$scope)},r.$$.update=()=>{r.$$.dirty&377&&l&&t!==u&&(At(c,t=u,t),Ir(l,t,Pr({type:"raster",tiles:s,tileSize:a}),y=>l&&y===t,()=>{t&&(n(6,d=l==null?void 0:l.getSource(t)),n(7,g=!0))})),r.$$.dirty&264&&(l==null||l.on("style.load",()=>{n(6,d=l==null?void 0:l.getSource(u))})),r.$$.dirty&208&&d&&(g?n(7,g=!1):d.setTiles(s))},[t,f,c,u,s,a,d,g,l,i,o]}class Ml extends q{constructor(e){super(),W(this,e,Pl,Il,G,{id:3,tiles:4,tileSize:5})}}function El(r){let e;const n=r[16].default,t=Et(n,r,r[24],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&16777216)&&Nt(t,n,l,l[24],e?Dt(n,l[24],o,null):Ft(l[24]),null)},i(l){e||(m(t,l),e=!0)},o(l){_(t,l),e=!1},d(l){t&&t.d(l)}}}function Nl(r){let e,n,t;function l(i){r[17](i)}let o={id:r[1],type:"symbol",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],applyToClusters:r[9],minzoom:r[10],maxzoom:r[11],hoverCursor:r[12],manageHoverState:r[13],eventsIfTopMost:r[14],interactive:r[15],$$slots:{default:[El]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new el({props:o}),K.push(()=>Q(e,"hovered",l)),e.$on("click",r[18]),e.$on("dblclick",r[19]),e.$on("contextmenu",r[20]),e.$on("mouseenter",r[21]),e.$on("mousemove",r[22]),e.$on("mouseleave",r[23]),{c(){h(e.$$.fragment)},m(i,u){b(e,i,u),t=!0},p(i,[u]){const s={};u&2&&(s.id=i[1]),u&4&&(s.source=i[2]),u&8&&(s.sourceLayer=i[3]),u&16&&(s.beforeId=i[4]),u&32&&(s.beforeLayerType=i[5]),u&64&&(s.paint=i[6]),u&128&&(s.layout=i[7]),u&256&&(s.filter=i[8]),u&512&&(s.applyToClusters=i[9]),u&1024&&(s.minzoom=i[10]),u&2048&&(s.maxzoom=i[11]),u&4096&&(s.hoverCursor=i[12]),u&8192&&(s.manageHoverState=i[13]),u&16384&&(s.eventsIfTopMost=i[14]),u&32768&&(s.interactive=i[15]),u&16777216&&(s.$$scope={dirty:u,ctx:i}),!n&&u&1&&(n=!0,s.hovered=i[0],x(()=>n=!1)),e.$set(s)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){_(e.$$.fragment,i),t=!1},d(i){v(e,i)}}}function Fl(r,e,n){let{$$slots:t={},$$scope:l}=e,{id:o=cn("symbol")}=e,{source:i=void 0}=e,{sourceLayer:u=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:a=void 0}=e,{paint:f=void 0}=e,{layout:c=void 0}=e,{filter:d=void 0}=e,{applyToClusters:g=void 0}=e,{minzoom:y=void 0}=e,{maxzoom:S=void 0}=e,{hoverCursor:C=void 0}=e,{manageHoverState:O=!1}=e,{hovered:E=null}=e,{eventsIfTopMost:D=!1}=e,{interactive:N=!0}=e;function L(j){E=j,n(0,E)}function F(j){at.call(this,r,j)}function M(j){at.call(this,r,j)}function I(j){at.call(this,r,j)}function P(j){at.call(this,r,j)}function H(j){at.call(this,r,j)}function X(j){at.call(this,r,j)}return r.$$set=j=>{"id"in j&&n(1,o=j.id),"source"in j&&n(2,i=j.source),"sourceLayer"in j&&n(3,u=j.sourceLayer),"beforeId"in j&&n(4,s=j.beforeId),"beforeLayerType"in j&&n(5,a=j.beforeLayerType),"paint"in j&&n(6,f=j.paint),"layout"in j&&n(7,c=j.layout),"filter"in j&&n(8,d=j.filter),"applyToClusters"in j&&n(9,g=j.applyToClusters),"minzoom"in j&&n(10,y=j.minzoom),"maxzoom"in j&&n(11,S=j.maxzoom),"hoverCursor"in j&&n(12,C=j.hoverCursor),"manageHoverState"in j&&n(13,O=j.manageHoverState),"hovered"in j&&n(0,E=j.hovered),"eventsIfTopMost"in j&&n(14,D=j.eventsIfTopMost),"interactive"in j&&n(15,N=j.interactive),"$$scope"in j&&n(24,l=j.$$scope)},[E,o,i,u,s,a,f,c,d,g,y,S,C,O,D,N,t,L,F,M,I,P,H,X,l]}class Dl extends q{constructor(e){super(),W(this,e,Fl,Nl,G,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14,interactive:15})}}function Ln(r){let e=r[0],n,t,l=In(r);return{c(){l.c(),n=Ae()},m(o,i){l.m(o,i),$(o,n,i),t=!0},p(o,i){i&1&&G(e,e=o[0])?(fe(),_(l,1,1,ee),ue(),l=In(o),l.c(),m(l,1),l.m(n.parentNode,n)):l.p(o,i)},i(o){t||(m(l),t=!0)},o(o){_(l),t=!1},d(o){o&&p(n),l.d(o)}}}function In(r){let e;const n=r[9].default,t=Et(n,r,r[8],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&256)&&Nt(t,n,l,l[8],e?Dt(n,l[8],o,null):Ft(l[8]),null)},i(l){e||(m(t,l),e=!0)},o(l){_(t,l),e=!1},d(l){t&&t.d(l)}}}function jl(r){let e,n,t=r[0]&&Ln(r);return{c(){t&&t.c(),e=Ae()},m(l,o){t&&t.m(l,o),$(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&m(t,1)):(t=Ln(l),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(fe(),_(t,1,1,()=>{t=null}),ue())},i(l){n||(m(t),n=!0)},o(l){_(t),n=!1},d(l){l&&p(e),t&&t.d(l)}}}function Rl(r,e,n){let t,l,{$$slots:o={},$$scope:i}=e,{id:u=cn("vector")}=e,{url:s=null}=e,{tiles:a=null}=e,{promoteId:f=null}=e;if(s&&s.includes("pmtiles://")&&!bn.config.REGISTERED_PROTOCOLS.hasOwnProperty("pmtiles")){let y=new tl;bn.addProtocol("pmtiles",y.tile)}const{map:c,self:d}=Tr();me(r,c,y=>n(7,l=y)),me(r,d,y=>n(0,t=y));let g;return Ar(()=>{t&&l&&(Lr(c,t,g),At(d,t=null,t),g=void 0)}),r.$$set=y=>{"id"in y&&n(3,u=y.id),"url"in y&&n(4,s=y.url),"tiles"in y&&n(5,a=y.tiles),"promoteId"in y&&n(6,f=y.promoteId),"$$scope"in y&&n(8,i=y.$$scope)},r.$$.update=()=>{r.$$.dirty&249&&l&&t!==u&&(At(d,t=u,t),Ir(l,t,Pr({type:"vector",url:s,tiles:a,promoteId:f}),y=>l&&y===t,()=>{t&&(g=l==null?void 0:l.getSource(t))})),r.$$.dirty&136&&(l==null||l.on("style.load",()=>{g=l==null?void 0:l.getSource(u)}))},[t,c,d,u,s,a,f,l,i,o]}class he extends q{constructor(e){super(),W(this,e,Rl,jl,G,{id:3,url:4,tiles:5,promoteId:6})}}function Bl(r){let e;return{c(){e=A("p"),e.textContent=`The scheme data shown is fake. Load the real data from a file below.
        We're working to put real scheme data here.`},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Hl(r){let e,n,t=r[0]=="Private (development)"&&Bl();return{c(){t&&t.c(),e=T(),n=A("p"),n.textContent="Note the ATF scheme data has not been validated."},m(l,o){t&&t.m(l,o),$(l,e,o),$(l,n,o)},p:ee,d(l){l&&(p(e),p(n)),t&&t.d(l)}}}function Ul(r){let e,n,t,l,o,i;return o=new ae({props:{$$slots:{default:[Hl]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("App version: "),t=w(r[0]),l=T(),h(o.$$.fragment)},m(u,s){$(u,e,s),k(e,n),k(e,t),k(e,l),b(o,e,null),i=!0},p(u,[s]){const a={};s&2&&(a.$$scope={dirty:s,ctx:u}),o.$set(a)},i(u){i||(m(o.$$.fragment,u),i=!0)},o(u){_(o.$$.fragment,u),i=!1},d(u){u&&p(e),v(o)}}}function Gl(r){return[$n()]}class zl extends q{constructor(e){super(),W(this,e,Gl,Ul,G,{})}}const ql={createDocument:function(e){return new DOMParser().parseFromString(e.trim(),"text/xml")}};var Se=Uint8Array,st=Uint16Array,Fr=Uint32Array,Dr=new Se([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jr=new Se([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Wl=new Se([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rr=function(r,e){for(var n=new st(31),t=0;t<31;++t)n[t]=e+=1<<r[t-1];for(var l=new Fr(n[30]),t=1;t<30;++t)for(var o=n[t];o<n[t+1];++o)l[o]=o-n[t]<<5|t;return[n,l]},Br=Rr(Dr,2),Hr=Br[0],Vl=Br[1];Hr[28]=258,Vl[258]=28;var Xl=Rr(jr,0),Jl=Xl[0],ln=new st(32768);for(var se=0;se<32768;++se){var et=(se&43690)>>>1|(se&21845)<<1;et=(et&52428)>>>2|(et&13107)<<2,et=(et&61680)>>>4|(et&3855)<<4,ln[se]=((et&65280)>>>8|(et&255)<<8)>>>1}var Ot=function(r,e,n){for(var t=r.length,l=0,o=new st(e);l<t;++l)r[l]&&++o[r[l]-1];var i=new st(e);for(l=0;l<e;++l)i[l]=i[l-1]+o[l-1]<<1;var u;if(n){u=new st(1<<e);var s=15-e;for(l=0;l<t;++l)if(r[l])for(var a=l<<4|r[l],f=e-r[l],c=i[r[l]-1]++<<f,d=c|(1<<f)-1;c<=d;++c)u[ln[c]>>>s]=a}else for(u=new st(t),l=0;l<t;++l)r[l]&&(u[l]=ln[i[r[l]-1]++]>>>15-r[l]);return u},jt=new Se(288);for(var se=0;se<144;++se)jt[se]=8;for(var se=144;se<256;++se)jt[se]=9;for(var se=256;se<280;++se)jt[se]=7;for(var se=280;se<288;++se)jt[se]=8;var Ur=new Se(32);for(var se=0;se<32;++se)Ur[se]=5;var Kl=Ot(jt,9,1),Yl=Ot(Ur,5,1),Yt=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},Ie=function(r,e,n){var t=e/8|0;return(r[t]|r[t+1]<<8)>>(e&7)&n},Zt=function(r,e){var n=e/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(e&7)},Zl=function(r){return(r+7)/8|0},gn=function(r,e,n){(e==null||e<0)&&(e=0),(n==null||n>r.length)&&(n=r.length);var t=new(r.BYTES_PER_ELEMENT==2?st:r.BYTES_PER_ELEMENT==4?Fr:Se)(n-e);return t.set(r.subarray(e,n)),t},Ql=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Pe=function(r,e,n){var t=new Error(e||Ql[r]);if(t.code=r,Error.captureStackTrace&&Error.captureStackTrace(t,Pe),!n)throw t;return t},xl=function(r,e,n){var t=r.length;if(!t||n&&n.f&&!n.l)return e||new Se(0);var l=!e||n,o=!n||n.i;n||(n={}),e||(e=new Se(t*3));var i=function(_e){var je=e.length;if(_e>je){var Ye=new Se(Math.max(je*2,_e));Ye.set(e),e=Ye}},u=n.f||0,s=n.p||0,a=n.b||0,f=n.l,c=n.d,d=n.m,g=n.n,y=t*8;do{if(!f){u=Ie(r,s,1);var S=Ie(r,s+1,3);if(s+=3,S)if(S==1)f=Kl,c=Yl,d=9,g=5;else if(S==2){var D=Ie(r,s,31)+257,N=Ie(r,s+10,15)+4,L=D+Ie(r,s+5,31)+1;s+=14;for(var F=new Se(L),M=new Se(19),I=0;I<N;++I)M[Wl[I]]=Ie(r,s+I*3,7);s+=N*3;for(var P=Yt(M),H=(1<<P)-1,X=Ot(M,P,1),I=0;I<L;){var j=X[Ie(r,s,H)];s+=j&15;var C=j>>>4;if(C<16)F[I++]=C;else{var U=0,$e=0;for(C==16?($e=3+Ie(r,s,3),s+=2,U=F[I-1]):C==17?($e=3+Ie(r,s,7),s+=3):C==18&&($e=11+Ie(r,s,127),s+=7);$e--;)F[I++]=U}}var Fe=F.subarray(0,D),be=F.subarray(D);d=Yt(Fe),g=Yt(be),f=Ot(Fe,d,1),c=Ot(be,g,1)}else Pe(1);else{var C=Zl(s)+4,O=r[C-4]|r[C-3]<<8,E=C+O;if(E>t){o&&Pe(0);break}l&&i(a+O),e.set(r.subarray(C,E),a),n.b=a+=O,n.p=s=E*8,n.f=u;continue}if(s>y){o&&Pe(0);break}}l&&i(a+131072);for(var Ke=(1<<d)-1,pe=(1<<g)-1,ce=s;;ce=s){var U=f[Zt(r,s)&Ke],re=U>>>4;if(s+=U&15,s>y){o&&Pe(0);break}if(U||Pe(2),re<256)e[a++]=re;else if(re==256){ce=s,f=null;break}else{var xe=re-254;if(re>264){var I=re-257,Te=Dr[I];xe=Ie(r,s,(1<<Te)-1)+Hr[I],s+=Te}var Le=c[Zt(r,s)&pe],De=Le>>>4;Le||Pe(3),s+=Le&15;var be=Jl[De];if(De>3){var Te=jr[De];be+=Zt(r,s)&(1<<Te)-1,s+=Te}if(s>y){o&&Pe(0);break}l&&i(a+131072);for(var oe=a+xe;a<oe;a+=4)e[a]=e[a-be],e[a+1]=e[a+1-be],e[a+2]=e[a+2-be],e[a+3]=e[a+3-be];a=oe}}n.l=f,n.p=ce,n.b=a,n.f=u,f&&(u=1,n.m=d,n.d=c,n.n=g)}while(!u);return a==e.length?e:gn(e,0,a)},eo=new Se(0),ze=function(r,e){return r[e]|r[e+1]<<8},Ee=function(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0},Qt=function(r,e){return Ee(r,e)+Ee(r,e+4)*4294967296};function to(r,e){return xl(r,e)}var on=typeof TextDecoder<"u"&&new TextDecoder,no=0;try{on.decode(eo,{stream:!0}),no=1}catch{}var ro=function(r){for(var e="",n=0;;){var t=r[n++],l=(t>127)+(t>223)+(t>239);if(n+l>r.length)return[e,gn(r,n-1)];l?l==3?(t=((t&15)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,e+=String.fromCharCode(55296|t>>10,56320|t&1023)):l&1?e+=String.fromCharCode((t&31)<<6|r[n++]&63):e+=String.fromCharCode((t&15)<<12|(r[n++]&63)<<6|r[n++]&63):e+=String.fromCharCode(t)}};function Gr(r,e){if(e){for(var n="",t=0;t<r.length;t+=16384)n+=String.fromCharCode.apply(null,r.subarray(t,t+16384));return n}else{if(on)return on.decode(r);var l=ro(r),o=l[0],i=l[1];return i.length&&Pe(8),o}}var lo=function(r,e){return e+30+ze(r,e+26)+ze(r,e+28)},oo=function(r,e,n){var t=ze(r,e+28),l=Gr(r.subarray(e+46,e+46+t),!(ze(r,e+8)&2048)),o=e+46+t,i=Ee(r,e+20),u=n&&i==4294967295?so(r,o):[i,Ee(r,e+24),Ee(r,e+42)],s=u[0],a=u[1],f=u[2];return[ze(r,e+10),s,a,l,o+ze(r,e+30)+ze(r,e+32),f]},so=function(r,e){for(;ze(r,e)!=1;e+=4+ze(r,e+2));return[Qt(r,e+12),Qt(r,e+4),Qt(r,e+20)]};function io(r,e){for(var n={},t=r.length-22;Ee(r,t)!=101010256;--t)(!t||r.length-t>65558)&&Pe(13);var l=ze(r,t+8);if(!l)return{};var o=Ee(r,t+16),i=o==4294967295||l==65535;if(i){var u=Ee(r,t-12);i=Ee(r,u)==101075792,i&&(l=Ee(r,u+32),o=Ee(r,u+48))}for(var s=e&&e.filter,a=0;a<l;++a){var f=oo(r,o,i),c=f[0],d=f[1],g=f[2],y=f[3],S=f[4],C=f[5],O=lo(r,C);o=S,(!s||s({name:y,size:d,originalSize:g,compression:c}))&&(c?c==8?n[y]=to(r.subarray(O,O+d),new Se(g)):Pe(14,"unknown compression type "+c):n[y]=gn(r,O,O+d))}return n}function ao(r){return r instanceof File||r instanceof Blob?r.arrayBuffer().then(xt):xt(r)}function xt(r){var e=new Uint8Array(r),n=io(e);return Promise.resolve(fo(n))}function fo(r){for(var e=[],n=0,t=Object.keys(r);n<t.length;n++){var l=t[n];e[l]=Gr(r[l])}return e}function We(r,e){for(var n=0;n<r.childNodes.length;){var t=r.childNodes[n];if(t.nodeType===1&&it(t)===e)return t;n++}}function Rt(r,e){for(var n=[],t=0;t<r.childNodes.length;){var l=r.childNodes[t];l.nodeType===1&&it(l)===e&&n.push(l),t++}return n}function Vt(r,e,n){for(var t=0;t<r.childNodes.length;){var l=r.childNodes[t];e?l.nodeType===1&&it(l)===e&&n(l,t):n(l,t),t++}}function uo(r,e,n){var t=[];return Vt(r,e,function(l,o){t.push(n(l,o))}),t}var co=/.+\:/;function it(r){return r.tagName.replace(co,"")}function zr(r){if(r.nodeType!==1)return r.textContent;for(var e="<"+it(r),n=0;n<r.attributes.length;)e+=" "+r.attributes[n].name+'="'+r.attributes[n].value+'"',n++;e+=">";for(var t=0;t<r.childNodes.length;)e+=zr(r.childNodes[t]),t++;return e+="</"+it(r)+">",e}function $o(r){var e=r.documentElement,n=We(e,"sheetData"),t=[];return Vt(n,"row",function(l){Vt(l,"c",function(o){t.push(o)})}),t}function po(r,e){return We(e,"v")}function mo(r,e){if(e.firstChild&&it(e.firstChild)==="is"&&e.firstChild.firstChild&&it(e.firstChild.firstChild)==="t")return e.firstChild.firstChild.textContent}function _o(r){var e=r.documentElement,n=We(e,"dimension");if(n)return n.getAttribute("ref")}function go(r){var e=r.documentElement,n=We(e,"cellStyleXfs");return n?Rt(n,"xf"):[]}function ho(r){var e=r.documentElement,n=We(e,"cellXfs");return n?Rt(n,"xf"):[]}function bo(r){var e=r.documentElement,n=We(e,"numFmts");return n?Rt(n,"numFmt"):[]}function vo(r){var e=r.documentElement;return uo(e,"si",function(n){var t=We(n,"t");if(t)return t.textContent;var l="";return Vt(n,"r",function(o){l+=We(o,"t").textContent}),l})}function wo(r){var e=r.documentElement;return We(e,"workbookPr")}function ko(r){var e=r.documentElement;return Rt(e,"Relationship")}function yo(r){var e=r.documentElement,n=We(e,"sheets");return Rt(n,"sheet")}function So(r,e){var n=e.createDocument(r),t={},l=wo(n);l&&l.getAttribute("date1904")==="1"&&(t.epoch1904=!0),t.sheets=[];var o=function(u){u.getAttribute("name")&&t.sheets.push({id:u.getAttribute("sheetId"),name:u.getAttribute("name"),relationId:u.getAttribute("r:id")})};return yo(n).forEach(o),t}function Oo(r,e){var n=e.createDocument(r),t={sheets:{},sharedStrings:void 0,styles:void 0},l=function(i){var u=i.getAttribute("Target"),s=i.getAttribute("Type");switch(s){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles":t.styles=en(u);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings":t.sharedStrings=en(u);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet":t.sheets[i.getAttribute("Id")]=en(u);break}};return ko(n).forEach(l),t}function en(r){return r[0]==="/"?r.slice(1):"xl/"+r}function Pn(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,t)}return n}function Mn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pn(Object(n),!0).forEach(function(t){Co(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Co(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function To(r,e){if(!r)return{};var n=e.createDocument(r),t=go(n).map(tn),l=bo(n).map(Ao).reduce(function(i,u){return i[u.id]=u,i},[]),o=function(u){return u.hasAttribute("xfId")?Mn(Mn({},t[u.xfId]),tn(u,l)):tn(u,l)};return ho(n).map(o)}function Ao(r){return{id:r.getAttribute("numFmtId"),template:r.getAttribute("formatCode")}}function tn(r,e){var n={};if(r.hasAttribute("numFmtId")){var t=r.getAttribute("numFmtId");e[t]?n.numberFormat=e[t]:n.numberFormat={id:t}}return n}function Lo(r,e){return r?vo(e.createDocument(r)):[]}function qr(r,e){e&&e.epoch1904&&(r+=1462);var n=70*365+19,t=60*60*1e3;return new Date(Math.round((r-n)*24*t))}function Io(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Po(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Po(r,e){if(r){if(typeof r=="string")return En(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(r,e)}}function En(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Mo(r,e,n,t){if(e){var l=n[e];if(!l)throw new Error("Cell style not found: ".concat(e));if(!l.numberFormat)return!1;if(Eo.indexOf(Number(l.numberFormat.id))>=0||t.dateFormat&&l.numberFormat.template===t.dateFormat||t.smartDateParser!==!1&&l.numberFormat.template&&Do(l.numberFormat.template))return!0}}var Eo=[14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57],No=/^\[\$-414\]/,Fo=/;@$/;function Do(r){r=r.toLowerCase(),r=r.replace(No,""),r=r.replace(Fo,"");for(var e=r.split(/\W+/),n=Io(e),t;!(t=n()).done;){var l=t.value;if(jo.indexOf(l)<0)return!1}return!0}var jo=["ss","mm","h","hh","am","pm","d","dd","m","mm","mmm","mmmm","yy","yyyy","e"];function Ro(r,e,n){var t=n.getInlineStringValue,l=n.getInlineStringXml,o=n.getStyleId,i=n.styles,u=n.values,s=n.properties,a=n.options;switch(e||(e="n"),e){case"str":r=nn(r,a);break;case"inlineStr":if(r=t(),r===void 0)throw new Error('Unsupported "inline string" cell value structure: '.concat(l()));r=nn(r,a);break;case"s":var f=Number(r);if(isNaN(f))throw new Error('Invalid "shared" string index: '.concat(r));if(f>=u.length)throw new Error('An out-of-bounds "shared" string index: '.concat(r));r=u[f],r=nn(r,a);break;case"b":if(r==="1")r=!0;else if(r==="0")r=!1;else throw new Error('Unsupported "boolean" cell value: '.concat(r));break;case"z":r=void 0;break;case"e":r=Bo(r);break;case"d":if(r===void 0)break;var c=new Date(r);if(isNaN(c.valueOf()))throw new Error('Unsupported "date" cell value: '.concat(r));r=c;break;case"n":if(r===void 0)break;var d=Number(r);if(isNaN(d))throw new Error('Invalid "numeric" cell value: '.concat(r));r=d,Mo(r,o(),i,a)&&(r=qr(r,s));break;default:throw new TypeError("Cell type not supported: ".concat(e))}return r===void 0&&(r=null),r}function Bo(r){switch(r){case 0:return"#NULL!";case 7:return"#DIV/0!";case 15:return"#VALUE!";case 23:return"#REF!";case 29:return"#NAME?";case 36:return"#NUM!";case 42:return"#N/A";case 43:return"#GETTING_DATA";default:return"#ERROR_".concat(r)}}function nn(r,e){return e.trim!==!1&&(r=r.trim()),r===""&&(r=void 0),r}var Ho=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function Uo(r){var e=function(a,f){return a-f},n=r.map(function(s){return s.row}).sort(e),t=r.map(function(s){return s.column}).sort(e),l=n[0],o=n[n.length-1],i=t[0],u=t[t.length-1];return[{row:l,column:i},{row:o,column:u}]}function Go(r){for(var e=0,n=0;n<r.length;)e*=26,e+=Ho.indexOf(r[n]),n++;return e}function Wr(r){return r=r.split(/(\d+)/),[parseInt(r[1]),Go(r[0].trim())]}function zo(r,e,n,t,l,o,i){var u=Wr(r.getAttribute("r")),s=po(e,r),a=s&&s.textContent,f;return r.hasAttribute("t")&&(f=r.getAttribute("t")),{row:u[0],column:u[1],value:Ro(a,f,{getInlineStringValue:function(){return mo(e,r)},getInlineStringXml:function(){return zr(r)},getStyleId:function(){return r.getAttribute("s")},styles:l,values:t,properties:o,options:i})}}function qo(r,e,n,t,l,o){var i=$o(r);return i.length===0?[]:i.map(function(u){return zo(u,r,e,n,t,l,o)})}function Wo(r,e){return Ko(r)||Jo(r,e)||Xo(r,e)||Vo()}function Vo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xo(r,e){if(r){if(typeof r=="string")return Nn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(r,e)}}function Nn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Jo(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var t=[],l=!0,o=!1,i,u;try{for(n=n.call(r);!(l=(i=n.next()).done)&&(t.push(i.value),!(e&&t.length===e));l=!0);}catch(s){o=!0,u=s}finally{try{!l&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function Ko(r){if(Array.isArray(r))return r}function Yo(r){var e=_o(r);if(e)return e=e.split(":").map(Wr).map(function(n){var t=Wo(n,2),l=t[0],o=t[1];return{row:l,column:o}}),e.length===1&&(e=[e[0],e[0]]),e}function Zo(r,e,n,t,l,o){var i=e.createDocument(r),u=qo(i,e,n,t,l,o),s=Yo(i)||Uo(u);return{cells:u,dimensions:s}}function Qo(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=xo(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xo(r,e){if(r){if(typeof r=="string")return Fn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fn(r,e)}}function Fn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function es(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.rowMap,t=e.accessor,l=t===void 0?function(c){return c}:t,o=e.onlyTrimAtTheEnd,i=r.length-1;i>=0;){for(var u=!0,s=Qo(r[i]),a;!(a=s()).done;){var f=a.value;if(l(f)!==null){u=!1;break}}if(u)r.splice(i,1),n&&n.splice(i,1);else if(o)break;i--}return r}function ts(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=ns(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ns(r,e){if(r){if(typeof r=="string")return Dn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(r,e)}}function Dn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function rs(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.accessor,t=n===void 0?function(c){return c}:n,l=e.onlyTrimAtTheEnd,o=r[0].length-1;o>=0;){for(var i=!0,u=ts(r),s;!(s=u()).done;){var a=s.value;if(t(a[o])!==null){i=!1;break}}if(i)for(var f=0;f<r.length;)r[f].splice(o,1),f++;else if(l)break;o--}return r}function ls(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Vr(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function os(r,e){return as(r)||is(r,e)||Vr(r,e)||ss()}function ss(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vr(r,e){if(r){if(typeof r=="string")return jn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(r,e)}}function jn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function is(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var t=[],l=!0,o=!1,i,u;try{for(n=n.call(r);!(l=(i=n.next()).done)&&(t.push(i.value),!(e&&t.length===e));l=!0);}catch(s){o=!0,u=s}finally{try{!l&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function as(r){if(Array.isArray(r))return r}function fs(r,e){var n=r.dimensions,t=r.cells;if(t.length===0)return[];var l=os(n,2);l[0];for(var o=l[1],i=o.column,u=o.row,s=new Array(u),a=0;a<u;){s[a]=new Array(i);for(var f=0;f<i;)s[a][f]=null,f++;a++}for(var c=ls(t),d;!(d=c()).done;){var g=d.value,y=g.row-1,S=g.column-1;S<i&&y<u&&(s[y][S]=g.value)}var C=e.rowMap;if(C)for(var O=0;O<s.length;)C[O]=O,O++;return s=es(rs(s,{onlyTrimAtTheEnd:!0}),{onlyTrimAtTheEnd:!0,rowMap:C}),e.transformData&&(s=e.transformData(s)),s}function us(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=cs(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cs(r,e){if(r){if(typeof r=="string")return Rn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rn(r,e)}}function Rn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Bn(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,t)}return n}function $s(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bn(Object(n),!0).forEach(function(t){ps(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ps(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ms(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n.sheet||(n=$s({sheet:1},n));var t=function(d){if(!r[d])throw new Error('"'.concat(d,'" file not found inside the *.xlsx file zip archive'));return r[d]},l=Oo(t("xl/_rels/workbook.xml.rels"),e),o=l.sharedStrings?Lo(t(l.sharedStrings),e):[],i=l.styles?To(t(l.styles),e):{},u=So(t("xl/workbook.xml"),e);if(n.getSheets)return u.sheets.map(function(c){var d=c.name;return{name:d}});var s=_s(n.sheet,u.sheets);if(!s||!l.sheets[s])throw gs(n.sheet,u.sheets);var a=Zo(t(l.sheets[s]),e,o,i,u,n),f=fs(a,n);return n.properties?{data:f,properties:u}:f}function _s(r,e){if(typeof r=="number"){var n=e[r-1];return n&&n.relationId}for(var t=us(e),l;!(l=t()).done;){var o=l.value;if(o.name===r)return o.relationId}}function gs(r,e){var n=e&&e.map(function(t,l){return'"'.concat(t.name,'" (#').concat(l+1,")")}).join(", ");return new Error("Sheet ".concat(typeof r=="number"?"#"+r:'"'+r+'"'," not found in the *.xlsx file.").concat(e?" Available sheets: "+n+".":""))}function sn(r){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(r)}function Hn(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function ds(r,e,n){return e&&Hn(r.prototype,e),n&&Hn(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function hs(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&It(r,e)}function vs(r){var e=Xr();return function(){var t=Pt(r),l;if(e){var o=Pt(this).constructor;l=Reflect.construct(t,arguments,o)}else l=t.apply(this,arguments);return ws(this,l)}}function ws(r,e){if(e&&(sn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ks(r)}function ks(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function an(r){var e=typeof Map=="function"?new Map:void 0;return an=function(t){if(t===null||!ys(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(t))return e.get(t);e.set(t,l)}function l(){return Ut(t,arguments,Pt(this).constructor)}return l.prototype=Object.create(t.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),It(l,t)},an(r)}function Ut(r,e,n){return Xr()?Ut=Reflect.construct:Ut=function(l,o,i){var u=[null];u.push.apply(u,o);var s=Function.bind.apply(l,u),a=new s;return i&&It(a,i.prototype),a},Ut.apply(null,arguments)}function Xr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ys(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function It(r,e){return It=Object.setPrototypeOf||function(t,l){return t.__proto__=l,t},It(r,e)}function Pt(r){return Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pt(r)}var Oe=function(r){bs(n,r);var e=vs(n);function n(t){var l;return hs(this,n),l=e.call(this,"invalid"),l.reason=t,l}return ds(n)}(an(Error));function Ss(r){if(typeof r=="string"){var e=r;if(r=Number(r),String(r)!==e)throw new Oe("not_a_number")}if(typeof r!="number")throw new Oe("not_a_number");if(isNaN(r))throw new Oe("invalid_number");if(!isFinite(r))throw new Oe("out_of_bounds");return r}function Os(r){if(typeof r=="string")return r;if(typeof r=="number"){if(isNaN(r))throw new Oe("invalid_number");if(!isFinite(r))throw new Oe("out_of_bounds");return String(r)}throw new Oe("not_a_string")}function Cs(r){if(typeof r=="boolean")return r;throw new Oe("not_a_boolean")}function Ts(r,e){var n=e.properties;if(r instanceof Date){if(isNaN(r.valueOf()))throw new Oe("out_of_bounds");return r}if(typeof r=="number"){if(isNaN(r))throw new Oe("invalid_number");if(!isFinite(r))throw new Oe("out_of_bounds");var t=qr(r,n);if(isNaN(t.valueOf()))throw new Oe("out_of_bounds");return t}throw new Oe("not_a_date")}function As(r,e){return Ps(r)||Is(r,e)||Jr(r,e)||Ls()}function Ls(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Is(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var t=[],l=!0,o=!1,i,u;try{for(n=n.call(r);!(l=(i=n.next()).done)&&(t.push(i.value),!(e&&t.length===e));l=!0);}catch(s){o=!0,u=s}finally{try{!l&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function Ps(r){if(Array.isArray(r))return r}function fn(r){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(r)}function Ms(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Jr(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jr(r,e){if(r){if(typeof r=="string")return Un(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(r,e)}}function Un(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Gn(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,t)}return n}function zn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gn(Object(n),!0).forEach(function(t){Es(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Es(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var qn={isColumnOriented:!1};function Ns(r,e,n){n?n=zn(zn({},qn),n):n=qn;var t=n,l=t.isColumnOriented,o=t.rowMap,i=t.ignoreEmptyRows;Rs(e),l&&(r=js(r));for(var u=r[0],s=[],a=[],f=1;f<r.length;f++){var c=Kr(e,r[f],f,u,a,n);(c!==null||i===!1)&&s.push(c)}if(o)for(var d=Ms(a),g;!(g=d()).done;){var y=g.value;y.row=o[y.row-1]+1}return{rows:s,errors:a}}function Kr(r,e,n,t,l,o){for(var i={},u=!0,s=function(){var d=f[a],g=r[d],y=fn(g.type)==="object"&&!Array.isArray(g.type),S=e[t.indexOf(d)];S===void 0&&(S=null);var C=void 0,O=void 0,E=void 0;if(y)C=Kr(g.type,e,n,t,l,o);else if(S===null)C=null;else if(Array.isArray(g.type)){var D=!1,N=Ds(S).map(function(F){var M=Wn(F,g,o);return M.error&&(C=F,O=M.error,E=M.reason),M.value!==null&&(D=!0),M.value});O||(C=D?N:null)}else{var L=Wn(S,g,o);O=L.error,E=L.reason,C=O?S:L.value}!O&&C===null&&g.required&&(O="required"),O?(O={error:O,row:n+1,column:d,value:C},E&&(O.reason=E),g.type&&(O.type=g.type),l.push(O)):(u&&C!==null&&(u=!1),(C!==null||o.includeNullValues)&&(i[g.prop]=C))},a=0,f=Object.keys(r);a<f.length;a++)s();return u?null:i}function Wn(r,e,n){if(r===null)return{value:null};var t;if(e.parse?t=ft(r,e.parse):e.type?t=Fs(r,Array.isArray(e.type)?e.type[0]:e.type,n):t={value:r},t.error)return t;if(t.value!==null){if(e.oneOf&&e.oneOf.indexOf(t.value)<0)return{error:"invalid",reason:"unknown"};if(e.validate)try{e.validate(t.value)}catch(l){return{error:l.message}}}return t}function ft(r,e){try{return r=e(r),r===void 0?{value:null}:{value:r}}catch(t){var n={error:t.message};return t.reason&&(n.reason=t.reason),n}}function Fs(r,e,n){switch(e){case String:return ft(r,Os);case Number:return ft(r,Ss);case Date:return ft(r,function(t){return Ts(t,{properties:n.properties})});case Boolean:return ft(r,Cs);default:if(typeof e=="function")return ft(r,e);throw new Error("Unsupported schema type: ".concat(e&&e.name||e))}}function Yr(r,e,n){for(var t=0,l="";n+t<r.length;){var o=r[n+t];if(o===e)return[l,t];if(o==='"'){var i=Yr(r,'"',n+t+1);l+=i[0],t+=1+i[1]+1}else l+=o,t++}return[l,t]}function Ds(r){for(var e=[],n=0;n<r.length;){var t=Yr(r,",",n),l=As(t,2),o=l[0],i=l[1];n+=i+1,e.push(o.trim())}return e}var js=function(e){return e[0].map(function(n,t){return e.map(function(l){return l[t]})})};function Rs(r){for(var e=0,n=Object.keys(r);e<n.length;e++){var t=n[e],l=r[t];if(!l.prop)throw new Error('"prop" not defined for schema entry "'.concat(t,'".'))}}function un(r){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(r)}function Zr(r){for(var e={},n=0,t=Object.keys(r);n<t.length;n++){var l=t[n],o=r[l],i=void 0;un(o)==="object"&&(o=Object.keys(r[l])[0],i=Zr(r[l][o])),e[l]={prop:o},i&&(e[l].type=i)}return e}var Bs=["schema","map"];function Vn(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,t)}return n}function Ht(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vn(Object(n),!0).forEach(function(t){Hs(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Hs(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Us(r,e){if(r==null)return{};var n=Gs(r,e),t,l;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(l=0;l<o.length;l++)t=o[l],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function Gs(r,e){if(r==null)return{};var n={},t=Object.keys(r),l,o;for(o=0;o<t.length;o++)l=t[o],!(e.indexOf(l)>=0)&&(n[l]=r[l]);return n}function zs(r,e,n){var t=n.schema,l=n.map,o=Us(n,Bs);!t&&l&&(t=Zr(l));var i=ms(r,e,Ht(Ht({},o),{},{properties:t||o.properties}));return t?Ns(i.data,t,Ht(Ht({},o),{},{properties:i.properties})):i}function qs(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ao(r).then(function(n){return zs(n,ql,e)})}function Ws(r){let e=new Map;for(let[t,l]of Object.entries(r.schemes))e.set(t,l);r.features=r.features.filter(t=>Vs(t));let n=1;for(let t of r.features){let l=e.get(t.properties.scheme_reference);l.browse&&(l.browse.num_features=l.browse.num_features!==void 0?l.browse.num_features+1:1,t.properties.funding_programme=l.browse.funding_programme,t.properties.current_milestone=l.browse.current_milestone,t.id=n++)}return e}function Vs(r){return!["eb0ad8ed183c137da4bae66afa944da9","0a568f07241be96f0a70aa73a0de80c8","6c4a5d57176eaeb3296eba790f869909","475e9a43749ce09c7edaaffa0ae57a2f","117b783cb2916a1bb4262960e523acc5","7a600e6342b226aa0983c8dfed19254f","84cc5eb1b52a4e49188058373e587ff0"].includes(r.properties.id)}async function Xs(r){let e={ID:"id",Inspector:"inspector","Submission Time":"submission_time","Please enter the Scheme Reference number, (e.g. ATF2_WYO_01)":"scheme_reference","Please enter current Design Stage":"current_design_stage","Select Critical Issue type below:":"critical_type","Please Enter Latitude and Longitude \n(Right click on location in Google, left click on information to copy to clipboard, paste below)":"lat_lon",Column1:"location_description","Enter any additional information (e.g. any comments or notes about this critical issue)":"notes"},{rows:n}=await qs(r,{map:e,sheet:"Form Input"}),t={type:"FeatureCollection",features:[]};for(let l of n){let o=nl(l.lat_lon.split(",").map(parseFloat).reverse()),i=l;i.submission_time=l.submission_time.toLocaleString(),t.features.push({type:"Feature",properties:i,geometry:{type:"Point",coordinates:o},id:t.features.length+1})}return t}function Qr(r){return zt(["get","intervention_type"],{area:Qe.area,route:Qe.route,crossing:Qe.crossing,other:Qe.other},"white")}function Xn(r){return[["Areas",Qe.area],["Routes",Qe.route],["Crossings",Qe.crossing],["Other",Qe.other]]}const te={schools:"#007DBB",hospitals:"#B73D25",mrn:"#006478",sports_spaces:"#013220",railway_stations:"#A52A2A",parliamentary_constituencies:"#006E59",wards:"purple",combined_authorities:"cyan",local_authority_districts:"orange",local_planning_authorities:"red",bus_route_with_lane:"#9362BA",bus_route_without_lane:"#C2A6D8",cycle_parking:"black",crossings:"green",cycle_paths:{track:"#0000FF",lane:"#009FEF",shared_use_segregated:"#FF9900",shared_use_unsegregated:"#E7E700"},sequential_low_to_high:["#CDE594","#80C6A3","#1F9EB7","#186290","#080C54"],funding_programmes:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],current_milestone:["grey","grey","red","red","#fbb862","#eddc76","#dafd9d","#76c384","#488f31"]},Ne=["interpolate",["exponential",1.6],["zoom"],3,1,7,2,18,20],wt=Jt({type:"FeatureCollection",features:[],schemes:{}}),Mt=Jt(new Map),Jn=Jt(!0),Gt=Jt("");function Js(r){let e,n,t,l,o;function i(s){r[3](s)}let u={label:"Color interventions",id:"colorInterventions",choices:[["interventionType","By intervention type"],["fundingProgramme","By funding programme"],["currentMilestone","By current milestone"]]};return r[0]!==void 0&&(u.value=r[0]),e=new Lt({props:u}),K.push(()=>Q(e,"value",i)),e.$on("change",r[2]),l=new Ll({props:{rows:r[1]}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};!n&&a&1&&(n=!0,f.value=s[0],x(()=>n=!1)),e.$set(f);const c={};a&2&&(c.rows=s[1]),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}function Kn(r,e){let n=[],t={},l=0;for(let o of r){let i=e[l++%e.length];t[o]=i,n.push([o,i])}return[t,n]}function Ks(r,e,n){let t,l;me(r,Mt,c=>n(4,t=c)),me(r,pn,c=>n(5,l=c));let o="interventionType",i=Xn();function u(){let c;o=="interventionType"?(c=Qr(),n(1,i=Xn())):o=="fundingProgramme"?c=s():o=="currentMilestone"&&(c=a()),l.setPaintProperty("interventions-points","circle-color",c),l.setPaintProperty("interventions-lines","line-color",c),l.setPaintProperty("interventions-polygons","fill-color",c),l.setPaintProperty("interventions-polygons-outlines","line-color",c)}function s(){var C;let c=new Set;for(let O of t.values())(C=O.browse)!=null&&C.funding_programme&&c.add(O.browse.funding_programme);let d=Array.from(c);d.sort();let[g,y]=Kn(d,te.funding_programmes),S=zt(["get","funding_programme"],g,"grey");return n(1,i=y),S}function a(){let c=["removed","no data","not progressed","superseded","preliminary design completed","feasability design completed","detailed design completed","consruction started","construction completed"],[d,g]=Kn(c,te.current_milestone),y=zt(["get","current_milestone"],d,"grey");return n(1,i=g),y}function f(c){o=c,n(0,o)}return[o,i,u,f]}class Ys extends q{constructor(e){super(),W(this,e,Ks,Js,G,{})}}function Zs(r){let e;return{c(){e=w("Clear")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Qs(r){let e,n,t,l,o,i;return t=new rn({props:{$$slots:{default:[Zs]},$$scope:{ctx:r}}}),t.$on("click",r[11]),{c(){e=A("input"),n=T(),h(t.$$.fragment),z(e,"type","text"),z(e,"class","govuk-input govuk-input--width-10"),z(e,"id","filterText")},m(u,s){$(u,e,s),qt(e,r[4]),$(u,n,s),b(t,u,s),l=!0,o||(i=Ct(e,"input",r[10]),o=!0)},p(u,s){s&16&&e.value!==u[4]&&qt(e,u[4]);const a={};s&65536&&(a.$$scope={dirty:s,ctx:u}),t.$set(a)},i(u){l||(m(t.$$.fragment,u),l=!0)},o(u){_(t.$$.fragment,u),l=!1},d(u){u&&(p(e),p(n)),v(t,u),o=!1,i()}}}function xs(r){let e,n,t,l,o,i,u,s,a,f;function c(S){r[8](S)}let d={label:"Authority or region",id:"filterAuthority",choices:r[5],emptyOption:!0};r[2]!==void 0&&(d.value=r[2]),e=new Lt({props:d}),K.push(()=>Q(e,"value",c));function g(S){r[9](S)}let y={label:"Funding programme",id:"filterFundingProgramme",choices:r[6],emptyOption:!0};return r[3]!==void 0&&(y.value=r[3]),l=new Lt({props:y}),K.push(()=>Q(l,"value",g)),u=new Mr({props:{label:"Intervention name or description",id:"filterText",$$slots:{default:[Qs]},$$scope:{ctx:r}}}),a=new Ys({}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment),i=T(),h(u.$$.fragment),s=T(),h(a.$$.fragment)},m(S,C){b(e,S,C),$(S,t,C),b(l,S,C),$(S,i,C),b(u,S,C),$(S,s,C),b(a,S,C),f=!0},p(S,C){const O={};C&32&&(O.choices=S[5]),!n&&C&4&&(n=!0,O.value=S[2],x(()=>n=!1)),e.$set(O);const E={};C&64&&(E.choices=S[6]),!o&&C&8&&(o=!0,E.value=S[3],x(()=>o=!1)),l.$set(E);const D={};C&65552&&(D.$$scope={dirty:C,ctx:S}),u.$set(D)},i(S){f||(m(e.$$.fragment,S),m(l.$$.fragment,S),m(u.$$.fragment,S),m(a.$$.fragment,S),f=!0)},o(S){_(e.$$.fragment,S),_(l.$$.fragment,S),_(u.$$.fragment,S),_(a.$$.fragment,S),f=!1},d(S){S&&(p(t),p(i),p(s)),v(e,S),v(l,S),v(u,S),v(a,S)}}}function ei(r){let e,n=r[0].size.toLocaleString()+"",t,l,o=r[7].route.toLocaleString()+"",i,u,s=r[7].area.toLocaleString()+"",a,f,c=r[7].crossing.toLocaleString()+"",d,g,y=r[7].other.toLocaleString()+"",S,C,O=Yn(r[7].totalLength).toFixed(1)+"",E,D;return{c(){e=w("Showing "),t=w(n),l=w(" schemes ("),i=w(o),u=w(`
    routes, `),a=w(s),f=w(` areas,
    `),d=w(c),g=w(" crossings, "),S=w(y),C=w(`
    other, with total LineString length of `),E=w(O),D=w(" miles)")},m(N,L){$(N,e,L),$(N,t,L),$(N,l,L),$(N,i,L),$(N,u,L),$(N,a,L),$(N,f,L),$(N,d,L),$(N,g,L),$(N,S,L),$(N,C,L),$(N,E,L),$(N,D,L)},p(N,L){L&1&&n!==(n=N[0].size.toLocaleString()+"")&&B(t,n),L&128&&o!==(o=N[7].route.toLocaleString()+"")&&B(i,o),L&128&&s!==(s=N[7].area.toLocaleString()+"")&&B(a,s),L&128&&c!==(c=N[7].crossing.toLocaleString()+"")&&B(d,c),L&128&&y!==(y=N[7].other.toLocaleString()+"")&&B(S,y),L&128&&O!==(O=Yn(N[7].totalLength).toFixed(1)+"")&&B(E,O)},d(N){N&&(p(e),p(t),p(l),p(i),p(u),p(a),p(f),p(d),p(g),p(S),p(C),p(E),p(D))}}}function ti(r){let e,n,t;function l(i){r[12](i)}let o={id:"show-schemes",$$slots:{default:[ei]},$$scope:{ctx:r}};return r[1]!==void 0&&(o.checked=r[1]),e=new ie({props:o}),K.push(()=>Q(e,"checked",l)),{c(){h(e.$$.fragment)},m(i,u){b(e,i,u),t=!0},p(i,u){const s={};u&65665&&(s.$$scope={dirty:u,ctx:i}),!n&&u&2&&(n=!0,s.checked=i[1],x(()=>n=!1)),e.$set(s)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){_(e.$$.fragment,i),t=!1},d(i){v(e,i)}}}function ni(r){let e,n,t,l;return e=new Me({props:{label:"Filters",$$slots:{default:[xs]},$$scope:{ctx:r}}}),t=new rt({props:{small:!0,$$slots:{default:[ti]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(o,i){b(e,o,i),$(o,n,i),b(t,o,i),l=!0},p(o,[i]){const u={};i&65660&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&65667&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(t.$$.fragment,o),l=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function Yn(r){return r*621371e-9}function ri(r,e,n){let t,l,o;me(r,Gt,D=>n(4,t=D)),me(r,wt,D=>n(13,l=D)),me(r,Mt,D=>n(14,o=D));let{schemesToBeShown:i=new Set}=e,{show:u=!0}=e,s=[],a="",f=[],c="",d={area:0,route:0,crossing:0,other:0,totalLength:0};mn(()=>{var L,F;let D=new Set,N=new Set;for(let M of o.values())(L=M.browse)!=null&&L.authority_or_region&&D.add(M.browse.authority_or_region),(F=M.browse)!=null&&F.funding_programme&&N.add(M.browse.funding_programme);n(5,s=Array.from(D.entries())),s.sort(),n(6,f=Array.from(N.entries())),f.sort()});function g(D,N,L){let F=D.toLowerCase(),M=P=>{var H,X,j,U;if(F&&!((H=P.properties.name)!=null&&H.toLowerCase().includes(F))&&!((X=P.properties.description)!=null&&X.toLowerCase().includes(F)))return!1;if(N||L){let $e=o.get(P.properties.scheme_reference);if(N&&((j=$e.browse)==null?void 0:j.authority_or_region)!=N||L&&((U=$e.browse)==null?void 0:U.funding_programme)!=L)return!1}return!0};n(0,i=new Set(l.features.filter(M).map(P=>P.properties.scheme_reference))),n(7,d={area:0,route:0,crossing:0,other:0,totalLength:0});let I=P=>{var H,X;return!(!i.has(P.properties.scheme_reference)||F&&!((H=P.properties.name)!=null&&H.toLowerCase().includes(F))&&!((X=P.properties.description)!=null&&X.toLowerCase().includes(F)))};for(let P of l.features)I(P)?(delete P.properties.hide_while_editing,n(7,d[P.properties.intervention_type]++,d),P.geometry.type=="LineString"&&P.properties.length_meters&&n(7,d.totalLength+=P.properties.length_meters,d)):P.properties.hide_while_editing=!0;wt.set(l),n(7,d)}function y(D){a=D,n(2,a)}function S(D){c=D,n(3,c)}function C(){t=this.value,Gt.set(t)}const O=()=>At(Gt,t="",t);function E(D){u=D,n(1,u)}return r.$$set=D=>{"schemesToBeShown"in D&&n(0,i=D.schemesToBeShown),"show"in D&&n(1,u=D.show)},r.$$.update=()=>{r.$$.dirty&28&&g(t,a,c)},[i,u,a,c,t,s,f,d,y,S,C,O,E]}class li extends q{constructor(e){super(),W(this,e,ri,ni,G,{schemesToBeShown:0,show:1})}}function oi(r){let e;return{c(){e=w(`Open Government License
  `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function si(r){let e,n,t,l,o;return t=new V({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[oi]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("License: "),h(t.$$.fragment),l=w(`. Contains OS data © Crown copyright and database right
  2023.`)},m(i,u){$(i,e,u),k(e,n),b(t,e,null),k(e,l),o=!0},p(i,[u]){const s={};u&1&&(s.$$scope={dirty:u,ctx:i}),t.$set(s)},i(i){o||(m(t.$$.fragment,i),o=!0)},o(i){_(t.$$.fragment,i),o=!1},d(i){i&&p(e),v(t)}}}class Xe extends q{constructor(e){super(),W(this,e,null,si,G,{})}}function Zn(r,e,n){const t=r.slice();return t[2]=e[n],t}function Qn(r,e,n){const t=r.slice();return t[5]=e[n],t}function xn(r){let e,n;return{c(){e=A("span"),n=w(` 
    `),Ce(e,"background",r[5]),Ce(e,"width","100%"),Ce(e,"border","1px solid black")},m(t,l){$(t,e,l),k(e,n)},p(t,l){l&1&&Ce(e,"background",t[5])},d(t){t&&p(e)}}}function er(r){let e,n=r[2]+"",t;return{c(){e=A("span"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&2&&n!==(n=l[2]+"")&&B(t,n)},d(l){l&&p(e)}}}function ii(r){let e,n,t,l=qe(r[0]),o=[];for(let s=0;s<l.length;s+=1)o[s]=xn(Qn(r,l,s));let i=qe(r[1]),u=[];for(let s=0;s<i.length;s+=1)u[s]=er(Zn(r,i,s));return{c(){e=A("div");for(let s=0;s<o.length;s+=1)o[s].c();n=T(),t=A("div");for(let s=0;s<u.length;s+=1)u[s].c();Ce(e,"display","flex"),Ce(t,"display","flex"),Ce(t,"justify-content","space-between")},m(s,a){$(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);$(s,n,a),$(s,t,a);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(t,null)},p(s,[a]){if(a&1){l=qe(s[0]);let f;for(f=0;f<l.length;f+=1){const c=Qn(s,l,f);o[f]?o[f].p(c,a):(o[f]=xn(c),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}if(a&2){i=qe(s[1]);let f;for(f=0;f<i.length;f+=1){const c=Zn(s,i,f);u[f]?u[f].p(c,a):(u[f]=er(c),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=i.length}},i:ee,o:ee,d(s){s&&(p(e),p(n),p(t)),Tt(o,s),Tt(u,s)}}}function ai(r,e,n){let{colorScale:t}=e,{limits:l}=e;return r.$$set=o=>{"colorScale"in o&&n(0,t=o.colorScale),"limits"in o&&n(1,l=o.limits)},[t,l]}class Je extends q{constructor(e){super(),W(this,e,ai,ii,G,{colorScale:0,limits:1})}}function tr(r){const e=r[13].OA21CD;r[14]=e;const n=r[13][r[3]];r[15]=n}function fi(r){let e;return{c(){e=w("Percent of households with a car")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ui(r){let e;return{c(){e=w(`NOMIS TS045
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ci(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function $i(r){let e;return{c(){e=w(`Open Government License
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function pi(r){let e,n,t,l,o,i,u,s,a,f,c,d;return t=new V({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[ui]},$$scope:{ctx:r}}}),o=new V({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[ci]},$$scope:{ctx:r}}}),f=new V({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[$i]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("Car/van availability data is from the 2021 census, via "),h(t.$$.fragment),l=w(". Output area boundaries from "),h(o.$$.fragment),i=w("."),u=T(),s=A("p"),a=w("License: "),h(f.$$.fragment),c=w(`. Contains OS data © Crown copyright and database
        right 2023.`)},m(g,y){$(g,e,y),k(e,n),b(t,e,null),k(e,l),b(o,e,null),k(e,i),$(g,u,y),$(g,s,y),k(s,a),b(f,s,null),k(s,c),d=!0},p(g,y){const S={};y&65536&&(S.$$scope={dirty:y,ctx:g}),t.$set(S);const C={};y&65536&&(C.$$scope={dirty:y,ctx:g}),o.$set(C);const O={};y&65536&&(O.$$scope={dirty:y,ctx:g}),f.$set(O)},i(g){d||(m(t.$$.fragment,g),m(o.$$.fragment,g),m(f.$$.fragment,g),d=!0)},o(g){_(t.$$.fragment,g),_(o.$$.fragment,g),_(f.$$.fragment,g),d=!1},d(g){g&&(p(e),p(u),p(s)),v(t),v(o),v(f)}}}function mi(r){let e,n,t;return n=new ae({props:{$$slots:{default:[pi]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&65536&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function nr(r){let e,n;return e=new Je({props:{colorScale:r[4],limits:r[6]()}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:ee,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function _i(r){let e;return{c(){e=w("Average cars per household")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function gi(r){let e;return{c(){e=w(`NOMIS TS045
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function di(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function hi(r){let e;return{c(){e=w(`Open Government License
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function bi(r){let e,n,t,l,o,i,u,s,a,f,c,d,g,y;return o=new V({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[gi]},$$scope:{ctx:r}}}),u=new V({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[di]},$$scope:{ctx:r}}}),d=new V({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[hi]},$$scope:{ctx:r}}}),{c(){e=A("p"),e.textContent=`Where the census counts "3 or more cars or vans", the average shown here
        assumes 3.`,n=T(),t=A("p"),l=w("Car/van availability data is from the 2021 census, via "),h(o.$$.fragment),i=w(". Output area boundaries from "),h(u.$$.fragment),s=w("."),a=T(),f=A("p"),c=w("License: "),h(d.$$.fragment),g=w(`. Contains OS data © Crown copyright and database
        right 2023.`)},m(S,C){$(S,e,C),$(S,n,C),$(S,t,C),k(t,l),b(o,t,null),k(t,i),b(u,t,null),k(t,s),$(S,a,C),$(S,f,C),k(f,c),b(d,f,null),k(f,g),y=!0},p(S,C){const O={};C&65536&&(O.$$scope={dirty:C,ctx:S}),o.$set(O);const E={};C&65536&&(E.$$scope={dirty:C,ctx:S}),u.$set(E);const D={};C&65536&&(D.$$scope={dirty:C,ctx:S}),d.$set(D)},i(S){y||(m(o.$$.fragment,S),m(u.$$.fragment,S),m(d.$$.fragment,S),y=!0)},o(S){_(o.$$.fragment,S),_(u.$$.fragment,S),_(d.$$.fragment,S),y=!1},d(S){S&&(p(e),p(n),p(t),p(a),p(f)),v(o),v(u),v(d)}}}function vi(r){let e,n,t;return n=new ae({props:{$$slots:{default:[bi]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&65536&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function rr(r){let e,n;return e=new Je({props:{colorScale:r[4],limits:r[6]()}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:ee,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function wi(r){let e;return{c(){e=w("Population density")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ki(r){let e;return{c(){e=w(`NOMIS TS006
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function yi(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Si(r){let e,n,t,l,o,i,u,s,a;return t=new V({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[ki]},$$scope:{ctx:r}}}),o=new V({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[yi]},$$scope:{ctx:r}}}),s=new Xe({}),{c(){e=A("p"),n=w("Population density data is from the 2021 census, via "),h(t.$$.fragment),l=w(". Output area boundaries from "),h(o.$$.fragment),i=w("."),u=T(),h(s.$$.fragment)},m(f,c){$(f,e,c),k(e,n),b(t,e,null),k(e,l),b(o,e,null),k(e,i),$(f,u,c),b(s,f,c),a=!0},p(f,c){const d={};c&65536&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const g={};c&65536&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){a||(m(t.$$.fragment,f),m(o.$$.fragment,f),m(s.$$.fragment,f),a=!0)},o(f){_(t.$$.fragment,f),_(o.$$.fragment,f),_(s.$$.fragment,f),a=!1},d(f){f&&(p(e),p(u)),v(t),v(o),v(s,f)}}}function Oi(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Si]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&65536&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function lr(r){let e,n,t,l;return t=new Je({props:{colorScale:r[4],limits:r[6]().map(Ei)}}),{c(){e=A("p"),e.textContent="(people per square kilometres)",n=T(),h(t.$$.fragment)},m(o,i){$(o,e,i),$(o,n,i),b(t,o,i),l=!0},p:ee,i(o){l||(m(t.$$.fragment,o),l=!0)},o(o){_(t.$$.fragment,o),l=!1},d(o){o&&(p(e),p(n)),v(t,o)}}}function Ci(r){let e,n,t,l=r[15].toLocaleString()+"",o,i,u=r[14]+"",s;return{c(){e=A("p"),n=w("There are "),t=A("b"),o=w(l),i=w(`
          people per square kilometre in `),s=w(u)},m(a,f){$(a,e,f),k(e,n),k(e,t),k(t,o),k(e,i),k(e,s)},p(a,f){f&8200&&l!==(l=a[15].toLocaleString()+"")&&B(o,l),f&8192&&u!==(u=a[14]+"")&&B(s,u)},d(a){a&&p(e)}}}function Ti(r){let e,n,t=r[14]+"",l,o,i,u=r[15]+"",s,a;return{c(){e=A("p"),n=w("Households in "),l=w(t),o=w(` have an average of
          `),i=A("b"),s=w(u),a=w(`
          cars`)},m(f,c){$(f,e,c),k(e,n),k(e,l),k(e,o),k(e,i),k(i,s),k(e,a)},p(f,c){c&8192&&t!==(t=f[14]+"")&&B(l,t),c&8200&&u!==(u=f[15]+"")&&B(s,u)},d(f){f&&p(e)}}}function Ai(r){let e,n,t=r[15]+"",l,o,i,u=r[14]+"",s,a;return{c(){e=A("p"),n=A("b"),l=w(t),o=w("%"),i=w(`
          of households in `),s=w(u),a=w(" have 1 or more cars")},m(f,c){$(f,e,c),k(e,n),k(n,l),k(n,o),k(e,i),k(e,s),k(e,a)},p(f,c){c&8200&&t!==(t=f[15]+"")&&B(l,t),c&8192&&u!==(u=f[14]+"")&&B(s,u)},d(f){f&&p(e)}}}function Li(r){tr(r);let e;function n(o,i){return o[3]=="percent_households_with_car"?Ai:o[3]=="average_cars_per_household"?Ti:Ci}let t=n(r),l=t(r);return{c(){l.c(),e=Ae()},m(o,i){l.m(o,i),$(o,e,i)},p(o,i){tr(o),t===(t=n(o))&&l?l.p(o,i):(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&p(e),l.d(o)}}}function Ii(r){let e,n;return e=new le({props:{$$slots:{default:[Li,({props:t})=>({13:t}),({props:t})=>t?8192:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&73736&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Pi(r){let e,n,t,l;const o=[R(Ze),{sourceLayer:Ze},{paint:{"fill-color":ve(["get",r[3]],r[6](),r[4]),"fill-opacity":J(.5,.7)}},{layout:{visibility:r[3]!=""?"visible":"none"}},{eventsIfTopMost:!0},{manageHoverState:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[Ii]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new Ve({props:i}),e.$on("click",r[5]);const u=[R(`${Ze}-outline`),{sourceLayer:Ze},{paint:{"line-color":"black","line-width":.5}},{layout:{visibility:r[3]!=""?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new de({props:s}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&88?Z(o,[f&0&&ne(R(Ze)),f&0&&{sourceLayer:Ze},f&88&&{paint:{"fill-color":ve(["get",a[3]],a[6](),a[4]),"fill-opacity":J(.5,.7)}},f&8&&{layout:{visibility:a[3]!=""?"visible":"none"}},o[4],o[5],o[6]]):{};f&65544&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&8?Z(u,[f&0&&ne(R(`${Ze}-outline`)),f&0&&{sourceLayer:Ze},u[2],f&8&&{layout:{visibility:a[3]!=""?"visible":"none"}}]):{};t.$set(d)},i(a){l||(m(e.$$.fragment,a),m(t.$$.fragment,a),l=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),l=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function Mi(r){let e,n,t,l,o,i,u,s,a,f,c,d,g,y;function S(I){r[7](I)}let C={id:"percent_households_with_car",$$slots:{right:[mi],default:[fi]},$$scope:{ctx:r}};r[0]!==void 0&&(C.checked=r[0]),e=new ie({props:C}),K.push(()=>Q(e,"checked",S)),e.$on("change",r[8]);let O=r[3]=="percent_households_with_car"&&nr(r);function E(I){r[9](I)}let D={id:"average_cars_per_household",$$slots:{right:[vi],default:[_i]},$$scope:{ctx:r}};r[1]!==void 0&&(D.checked=r[1]),o=new ie({props:D}),K.push(()=>Q(o,"checked",E)),o.$on("change",r[10]);let N=r[3]=="average_cars_per_household"&&rr(r);function L(I){r[11](I)}let F={id:"population_density",$$slots:{right:[Oi],default:[wi]},$$scope:{ctx:r}};r[2]!==void 0&&(F.checked=r[2]),a=new ie({props:F}),K.push(()=>Q(a,"checked",L)),a.$on("change",r[12]);let M=r[3]=="population_density"&&lr(r);return g=new he({props:{url:`pmtiles://${ge()}/v1/${Ze}.pmtiles`,$$slots:{default:[Pi]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),O&&O.c(),l=T(),h(o.$$.fragment),u=T(),N&&N.c(),s=T(),h(a.$$.fragment),c=T(),M&&M.c(),d=T(),h(g.$$.fragment)},m(I,P){b(e,I,P),$(I,t,P),O&&O.m(I,P),$(I,l,P),b(o,I,P),$(I,u,P),N&&N.m(I,P),$(I,s,P),b(a,I,P),$(I,c,P),M&&M.m(I,P),$(I,d,P),b(g,I,P),y=!0},p(I,[P]){const H={};P&65536&&(H.$$scope={dirty:P,ctx:I}),!n&&P&1&&(n=!0,H.checked=I[0],x(()=>n=!1)),e.$set(H),I[3]=="percent_households_with_car"?O?(O.p(I,P),P&8&&m(O,1)):(O=nr(I),O.c(),m(O,1),O.m(l.parentNode,l)):O&&(fe(),_(O,1,1,()=>{O=null}),ue());const X={};P&65536&&(X.$$scope={dirty:P,ctx:I}),!i&&P&2&&(i=!0,X.checked=I[1],x(()=>i=!1)),o.$set(X),I[3]=="average_cars_per_household"?N?(N.p(I,P),P&8&&m(N,1)):(N=rr(I),N.c(),m(N,1),N.m(s.parentNode,s)):N&&(fe(),_(N,1,1,()=>{N=null}),ue());const j={};P&65536&&(j.$$scope={dirty:P,ctx:I}),!f&&P&4&&(f=!0,j.checked=I[2],x(()=>f=!1)),a.$set(j),I[3]=="population_density"?M?(M.p(I,P),P&8&&m(M,1)):(M=lr(I),M.c(),m(M,1),M.m(d.parentNode,d)):M&&(fe(),_(M,1,1,()=>{M=null}),ue());const U={};P&65544&&(U.$$scope={dirty:P,ctx:I}),g.$set(U)},i(I){y||(m(e.$$.fragment,I),m(O),m(o.$$.fragment,I),m(N),m(a.$$.fragment,I),m(M),m(g.$$.fragment,I),y=!0)},o(I){_(e.$$.fragment,I),_(O),_(o.$$.fragment,I),_(N),_(a.$$.fragment,I),_(M),_(g.$$.fragment,I),y=!1},d(I){I&&(p(t),p(l),p(u),p(s),p(c),p(d)),v(e,I),O&&O.d(I),v(o,I),N&&N.d(I),v(a,I),M&&M.d(I),v(g,I)}}}let Ze="census_output_areas";const Ei=r=>r.toLocaleString();function Ni(r,e,n){let t=te.sequential_low_to_high,l=!1,o=!1,i=!1,u="";function s(C){let O=C.detail.features[0].properties.OA21CD;u=="percent_households_with_car"||u=="average_cars_per_household"?window.open(`https://www.ons.gov.uk/census/maps/choropleth/housing/number-of-cars-or-vans/number-of-cars-5a/no-cars-or-vans-in-household?oa=${O}`,"_blank"):window.open(`https://www.ons.gov.uk/census/maps/choropleth/population/population-density/population-density/persons-per-square-kilometre?oa=${O}`,"_blank")}function a(){return u=="percent_households_with_car"?[0,20,40,60,80,100]:u=="average_cars_per_household"?[0,.5,1,1.5,2,2.5]:[0,4700,13e3,33e3,94e3,198e4]}function f(C){l=C,n(0,l)}const c=()=>{n(1,o=!1),n(2,i=!1)};function d(C){o=C,n(1,o)}const g=()=>{n(0,l=!1),n(2,i=!1)};function y(C){i=C,n(2,i)}const S=()=>{n(0,l=!1),n(1,o=!1)};return r.$$.update=()=>{r.$$.dirty&7&&(l?n(3,u="percent_households_with_car"):o?n(3,u="average_cars_per_household"):i?n(3,u="population_density"):n(3,u=""))},[l,o,i,u,t,s,a,f,c,d,g,y,S]}class Fi extends q{constructor(e){super(),W(this,e,Ni,Mi,G,{})}}function Di(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Combined authorities`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function ji(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ri(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::combined-authorities-december-2022-boundaries-en-buc/explore",$$slots:{default:[ji]},$$scope:{ctx:r}}}),i=new Xe({}),{c(){e=A("p"),n=w("Data from "),h(t.$$.fragment),l=w(", as of December 2022."),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function Bi(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Ri]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function Hi(r){let e,n=r[3].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=l[3].name+"")&&B(t,n)},d(l){l&&p(e)}}}function Ui(r){let e,n;return e=new le({props:{$$slots:{default:[Hi,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Gi(r){let e,n,t,l;const o=[R(ut),{paint:{"fill-color":r[1],"fill-opacity":J(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[Ui]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new Ve({props:i}),e.$on("click",qi);const u=[R(`${ut}-outline`),{paint:{"line-color":r[1],"line-width":2.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new de({props:s}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?Z(o,[f&0&&ne(R(ut)),f&2&&{paint:{"fill-color":a[1],"fill-opacity":J(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[3],o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?Z(u,[f&0&&ne(R(`${ut}-outline`)),f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||(m(e.$$.fragment,a),m(t.$$.fragment,a),l=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),l=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function zi(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:ut,$$slots:{right:[Bi],default:[Di]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new kt({props:{data:`${ge()}/v1/${ut}.geojson`,$$slots:{default:[Gi]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let ut="combined_authorities";function qi(r){window.open(`https://www.ons.gov.uk/visualisations/areas/${r.detail.features[0].properties.CAUTH22CD}`,"_blank")}function Wi(r,e,n){let t=te.combined_authorities,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class Vi extends q{constructor(e){super(),W(this,e,Wi,zi,G,{})}}function Xi(r){let e;return{c(){e=w("Indices of Multiple Deprivation")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ji(r){let e;return{c(){e=w(`DLUCH GIS
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ki(r){let e;return{c(){e=w(`here
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Yi(r){let e,n,t,l,o,i,u,s,a;return t=new V({props:{href:"https://data-communities.opendata.arcgis.com/datasets/communities::indices-of-multiple-deprivation-imd-2019-1/explore",$$slots:{default:[Ji]},$$scope:{ctx:r}}}),o=new V({props:{href:"http://dclgapps.communities.gov.uk/imd/iod_index.html",$$slots:{default:[Ki]},$$scope:{ctx:r}}}),s=new Xe({}),{c(){e=A("p"),n=w("The 2019 English IMD scores come from "),h(t.$$.fragment),l=w(`. Note the LSOAs identified are from the 2011 census. A
        detailed breakdown of the score across different categories can be found `),h(o.$$.fragment),i=w("."),u=T(),h(s.$$.fragment)},m(f,c){$(f,e,c),k(e,n),b(t,e,null),k(e,l),b(o,e,null),k(e,i),$(f,u,c),b(s,f,c),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const g={};c&32&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){a||(m(t.$$.fragment,f),m(o.$$.fragment,f),m(s.$$.fragment,f),a=!0)},o(f){_(t.$$.fragment,f),_(o.$$.fragment,f),_(s.$$.fragment,f),a=!1},d(f){f&&(p(e),p(u)),v(t),v(o),v(s,f)}}}function Zi(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Yi]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&32&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function or(r){let e,n;return e=new Je({props:{colorScale:r[1],limits:["Least deprived","Most deprived"]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:ee,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Qi(r){let e,n=r[4].LSOA11CD+"",t,l,o,i=r[4].score+"",u,s,a,f,c,d=r[4].rank.toLocaleString()+"",g,y;return{c(){e=A("p"),t=w(n),l=w(` has an IMD score of
        `),o=A("b"),u=w(i),s=T(),a=A("p"),f=w("Rank: "),c=A("b"),g=w(d),y=w(`
        / 32,844 LSOAs`)},m(S,C){$(S,e,C),k(e,t),k(e,l),k(e,o),k(o,u),$(S,s,C),$(S,a,C),k(a,f),k(a,c),k(c,g),k(a,y)},p(S,C){C&16&&n!==(n=S[4].LSOA11CD+"")&&B(t,n),C&16&&i!==(i=S[4].score+"")&&B(u,i),C&16&&d!==(d=S[4].rank.toLocaleString()+"")&&B(g,d)},d(S){S&&(p(e),p(s),p(a))}}}function xi(r){let e,n;return e=new le({props:{$$slots:{default:[Qi,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&48&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ea(r){let e,n,t,l;const o=[R(Re),{sourceLayer:Re},{paint:{"fill-color":ve(["-",10,["get","decile"]],r[2],r[1]),"fill-opacity":J(.5,.7)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let i={$$slots:{default:[xi]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new Ve({props:i});const u=[R(`${Re}-outline`),{sourceLayer:Re},{paint:{"line-color":"black","line-width":.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new de({props:s}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&7?Z(o,[f&0&&ne(R(Re)),f&0&&{sourceLayer:Re},f&6&&{paint:{"fill-color":ve(["-",10,["get","decile"]],a[2],a[1]),"fill-opacity":J(.5,.7)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5]]):{};f&32&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&1?Z(u,[f&0&&ne(R(`${Re}-outline`)),f&0&&{sourceLayer:Re},u[2],f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||(m(e.$$.fragment,a),m(t.$$.fragment,a),l=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),l=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function ta(r){let e,n,t,l,o,i;function u(f){r[3](f)}let s={id:Re,$$slots:{right:[Zi],default:[Xi]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new ie({props:s}),K.push(()=>Q(e,"checked",u));let a=r[0]&&or(r);return o=new he({props:{url:`pmtiles://${ge()}/v1/${Re}.pmtiles`,$$slots:{default:[ea]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),a&&a.c(),l=T(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],x(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=or(f),a.c(),m(a,1),a.m(l.parentNode,l)):a&&(fe(),_(a,1,1,()=>{a=null}),ue());const g={};c&33&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){i||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),i=!0)},o(f){_(e.$$.fragment,f),_(a),_(o.$$.fragment,f),i=!1},d(f){f&&(p(t),p(l)),v(e,f),a&&a.d(f),v(o,f)}}}let Re="imd";function na(r,e,n){let t=te.sequential_low_to_high,l=[0,2,4,6,8,10],o=!1;function i(u){o=u,n(0,o)}return[o,t,l,i]}class ra extends q{constructor(e){super(),W(this,e,na,ta,G,{})}}function la(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Local Authority Districts`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function oa(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function sa(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::local-authority-districts-may-2023-boundaries-uk-buc/explore",$$slots:{default:[oa]},$$scope:{ctx:r}}}),i=new Xe({}),{c(){e=A("p"),n=w("Data from "),h(t.$$.fragment),l=w(", as of May 2023."),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function ia(r){let e,n,t;return n=new ae({props:{$$slots:{default:[sa]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function aa(r){let e,n=r[3].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=l[3].name+"")&&B(t,n)},d(l){l&&p(e)}}}function fa(r){let e,n;return e=new le({props:{$$slots:{default:[aa,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ua(r){let e,n,t,l;const o=[R(ct),{paint:{"fill-color":r[1],"fill-opacity":J(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[fa]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new Ve({props:i}),e.$on("click",$a);const u=[R(`${ct}-outline`),{paint:{"line-color":r[1],"line-width":2.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new de({props:s}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?Z(o,[f&0&&ne(R(ct)),f&2&&{paint:{"fill-color":a[1],"fill-opacity":J(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[3],o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?Z(u,[f&0&&ne(R(`${ct}-outline`)),f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||(m(e.$$.fragment,a),m(t.$$.fragment,a),l=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),l=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function ca(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:ct,$$slots:{right:[ia],default:[la]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new kt({props:{data:`${ge()}/v1/${ct}.geojson`,$$slots:{default:[ua]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let ct="local_authority_districts";function $a(r){window.open(`https://www.ons.gov.uk/visualisations/areas/${r.detail.features[0].properties.LAD23CD}`,"_blank")}function pa(r,e,n){let t=te.local_authority_districts,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class ma extends q{constructor(e){super(),W(this,e,pa,ca,G,{})}}function _a(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Local Planning Authorities`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function ga(r){let e;return{c(){e=w(`local authority
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function da(r){let e;return{c(){e=w(`national park authorit
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ha(r){let e;return{c(){e=w(`development corporation
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ba(r){let e;return{c(){e=w("this map")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function va(r){let e;return{c(){e=w(`planning.data.gov.uk
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function wa(r){let e,n,t,l,o,i,u,s,a,f,c,d,g,y,S,C,O,E,D,N,L,F;return t=new V({props:{href:"https://www.planning.data.gov.uk/dataset/local-authority",$$slots:{default:[ga]},$$scope:{ctx:r}}}),o=new V({props:{href:"https://www.planning.data.gov.uk/dataset/national-park-authority",$$slots:{default:[da]},$$scope:{ctx:r}}}),u=new V({props:{href:"https://www.planning.data.gov.uk/dataset/development-corporation",$$slots:{default:[ha]},$$scope:{ctx:r}}}),g=new V({props:{href:"https://www.planning.data.gov.uk/map/?dataset=local-planning-authority",$$slots:{default:[ba]},$$scope:{ctx:r}}}),E=new V({props:{href:"https://www.planning.data.gov.uk/dataset/local-planning-authority",$$slots:{default:[va]},$$scope:{ctx:r}}}),L=new Xe({}),{c(){e=A("p"),n=w("LPAs may be a "),h(t.$$.fragment),l=w(", "),h(o.$$.fragment),i=w("y, or "),h(u.$$.fragment),s=w("."),a=T(),f=A("p"),c=A("strong"),d=w(`Note there are overlapping LPAs near Northhamptonshire. Only one
          authority name is shown when hovering. Use `),h(g.$$.fragment),y=w(" to get more details."),S=T(),C=A("p"),O=w("Data from ONS Geography via "),h(E.$$.fragment),D=w(", as of November 2022."),N=T(),h(L.$$.fragment)},m(M,I){$(M,e,I),k(e,n),b(t,e,null),k(e,l),b(o,e,null),k(e,i),b(u,e,null),k(e,s),$(M,a,I),$(M,f,I),k(f,c),k(c,d),b(g,c,null),k(c,y),$(M,S,I),$(M,C,I),k(C,O),b(E,C,null),k(C,D),$(M,N,I),b(L,M,I),F=!0},p(M,I){const P={};I&16&&(P.$$scope={dirty:I,ctx:M}),t.$set(P);const H={};I&16&&(H.$$scope={dirty:I,ctx:M}),o.$set(H);const X={};I&16&&(X.$$scope={dirty:I,ctx:M}),u.$set(X);const j={};I&16&&(j.$$scope={dirty:I,ctx:M}),g.$set(j);const U={};I&16&&(U.$$scope={dirty:I,ctx:M}),E.$set(U)},i(M){F||(m(t.$$.fragment,M),m(o.$$.fragment,M),m(u.$$.fragment,M),m(g.$$.fragment,M),m(E.$$.fragment,M),m(L.$$.fragment,M),F=!0)},o(M){_(t.$$.fragment,M),_(o.$$.fragment,M),_(u.$$.fragment,M),_(g.$$.fragment,M),_(E.$$.fragment,M),_(L.$$.fragment,M),F=!1},d(M){M&&(p(e),p(a),p(f),p(S),p(C),p(N)),v(t),v(o),v(u),v(g),v(E),v(L,M)}}}function ka(r){let e,n,t;return n=new ae({props:{$$slots:{default:[wa]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function ya(r){let e,n=r[3].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=l[3].name+"")&&B(t,n)},d(l){l&&p(e)}}}function Sa(r){let e,n;return e=new le({props:{$$slots:{default:[ya,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Oa(r){let e,n,t,l;const o=[R(Be),{sourceLayer:Be},{paint:{"fill-color":r[1],"fill-opacity":J(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let i={$$slots:{default:[Sa]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new Ve({props:i});const u=[R(`${Be}-outline`),{sourceLayer:Be},{paint:{"line-color":r[1],"line-width":2.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new de({props:s}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?Z(o,[f&0&&ne(R(Be)),f&0&&{sourceLayer:Be},f&2&&{paint:{"fill-color":a[1],"fill-opacity":J(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?Z(u,[f&0&&ne(R(`${Be}-outline`)),f&0&&{sourceLayer:Be},f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||(m(e.$$.fragment,a),m(t.$$.fragment,a),l=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),l=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function Ca(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:Be,$$slots:{right:[ka],default:[_a]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new he({props:{url:`pmtiles://${ge()}/v1/${Be}.pmtiles`,$$slots:{default:[Oa]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let Be="local_planning_authorities";function Ta(r,e,n){let t=te.local_planning_authorities,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class Aa extends q{constructor(e){super(),W(this,e,Ta,Ca,G,{})}}function La(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Parliamentary constituencies`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function Ia(r){let e;return{c(){e=w(`Ordnance Survey Boundary-Line
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Pa(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://www.ordnancesurvey.co.uk/products/boundary-line",$$slots:{default:[Ia]},$$scope:{ctx:r}}}),i=new Xe({}),{c(){e=A("p"),n=w("Data from "),h(t.$$.fragment),l=w(", as of May 2023."),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function Ma(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Pa]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function Ea(r){let e,n=r[3].Name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=l[3].Name+"")&&B(t,n)},d(l){l&&p(e)}}}function Na(r){let e,n;return e=new le({props:{$$slots:{default:[Ea,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Fa(r){let e,n,t,l;const o=[R(He),{sourceLayer:He},{paint:{"fill-color":r[1],"fill-opacity":J(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[Na]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new Ve({props:i}),e.$on("click",ja);const u=[R(`${He}-outline`),{sourceLayer:He},{paint:{"line-color":r[1],"line-width":5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new de({props:s}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?Z(o,[f&0&&ne(R(He)),f&0&&{sourceLayer:He},f&2&&{paint:{"fill-color":a[1],"fill-opacity":J(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5],o[6]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?Z(u,[f&0&&ne(R(`${He}-outline`)),f&0&&{sourceLayer:He},f&2&&{paint:{"line-color":a[1],"line-width":5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||(m(e.$$.fragment,a),m(t.$$.fragment,a),l=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),l=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function Da(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:He,$$slots:{right:[Ma],default:[La]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new he({props:{url:`pmtiles://${ge()}/v1/${He}.pmtiles`,$$slots:{default:[Fa]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let He="parliamentary_constituencies";function ja(r){let e=r.detail.features[0].properties.Name;e=e.replace(/ Boro Const$/,""),e=e.replace(/ Co Const$/,""),e=encodeURIComponent(e),window.open(`https://members.parliament.uk/members/Commons?SearchText=${e}`,"_blank")}function Ra(r,e,n){let t=te.parliamentary_constituencies,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class Ba extends q{constructor(e){super(),W(this,e,Ra,Da,G,{})}}function Ha(r){let e;return{c(){e=w("Pollution")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ua(r){let e;return{c(){e=w(`DEFRA
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ga(r){let e;return{c(){e=w(`Extrium
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function za(r){let e;return{c(){e=w(`FAQ
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function qa(r){let e,n,t,l,o,i,u,s,a,f,c,d,g,y,S,C;return t=new V({props:{href:"https://uk-air.defra.gov.uk/data/wms-services",$$slots:{default:[Ua]},$$scope:{ctx:r}}}),f=new V({props:{href:"http://www.extrium.co.uk/noiseviewer.html",$$slots:{default:[Ga]},$$scope:{ctx:r}}}),d=new V({props:{href:"http://www.extrium.co.uk/noiseviewer/FAQs.pdf",$$slots:{default:[za]},$$scope:{ctx:r}}}),S=new Xe({}),{c(){e=A("p"),n=w("Most layers show air quality data from "),h(t.$$.fragment),l=w(`. The measurements are annual means, in units of
        µgm
        `),o=A("sup"),o.textContent="3",i=w(`
        . Note the particulate matter layers are not corrected for natural sources.`),u=T(),s=A("p"),a=w("The noise layer is from "),h(f.$$.fragment),c=w(", using 2017 data. See their "),h(d.$$.fragment),g=w("."),y=T(),h(S.$$.fragment)},m(O,E){$(O,e,E),k(e,n),b(t,e,null),k(e,l),k(e,o),k(e,i),$(O,u,E),$(O,s,E),k(s,a),b(f,s,null),k(s,c),b(d,s,null),k(s,g),$(O,y,E),b(S,O,E),C=!0},p(O,E){const D={};E&2048&&(D.$$scope={dirty:E,ctx:O}),t.$set(D);const N={};E&2048&&(N.$$scope={dirty:E,ctx:O}),f.$set(N);const L={};E&2048&&(L.$$scope={dirty:E,ctx:O}),d.$set(L)},i(O){C||(m(t.$$.fragment,O),m(f.$$.fragment,O),m(d.$$.fragment,O),m(S.$$.fragment,O),C=!0)},o(O){_(t.$$.fragment,O),_(f.$$.fragment,O),_(d.$$.fragment,O),_(S.$$.fragment,O),C=!1},d(O){O&&(p(e),p(u),p(s),p(y)),v(t),v(f),v(d),v(S,O)}}}function Wa(r){let e,n,t;return n=new ae({props:{$$slots:{default:[qa]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function sr(r){let e,n,t,l,o=r[3](r[0])+"",i,u,s,a,f,c,d,g,y,S,C,O,E;function D(I){r[7](I)}let N={label:"Pollutant",id:"pollutant",choices:[["PM25_viridis","Background PM2.5"],["PM10_viridis","Background PM10"],["NOx_viridis","Background NOx"],["PM25Roads_viridis","Roadside PM2.5"],["PM10Roads_viridis","Roadside PM10"],["NOxRoads_viridis","Roadside NOx"]]};r[0]!==void 0&&(N.value=r[0]),e=new Lt({props:N}),K.push(()=>Q(e,"value",D));const L=[Xa,Va],F=[];function M(I,P){return I[0]=="Noise"?0:1}return g=M(r),y=F[g]=L[g](r),{c(){h(e.$$.fragment),t=T(),l=A("p"),i=w(o),u=T(),s=A("div"),a=A("label"),f=w(`Opacity
      `),c=A("input"),d=T(),y.c(),S=Ae(),z(c,"type","range"),z(c,"min","0"),z(c,"max","100")},m(I,P){b(e,I,P),$(I,t,P),$(I,l,P),k(l,i),$(I,u,P),$(I,s,P),k(s,a),k(a,f),k(a,c),qt(c,r[2]),$(I,d,P),F[g].m(I,P),$(I,S,P),C=!0,O||(E=[Ct(c,"change",r[8]),Ct(c,"input",r[8])],O=!0)},p(I,P){const H={};!n&&P&1&&(n=!0,H.value=I[0],x(()=>n=!1)),e.$set(H),(!C||P&1)&&o!==(o=I[3](I[0])+"")&&B(i,o),P&4&&qt(c,I[2]);let X=g;g=M(I),g===X?F[g].p(I,P):(fe(),_(F[X],1,1,()=>{F[X]=null}),ue(),y=F[g],y?y.p(I,P):(y=F[g]=L[g](I),y.c()),m(y,1),y.m(S.parentNode,S))},i(I){C||(m(e.$$.fragment,I),m(y),C=!0)},o(I){_(e.$$.fragment,I),_(y),C=!1},d(I){I&&(p(t),p(l),p(u),p(s),p(d),p(S)),v(e,I),F[g].d(I),O=!1,rl(E)}}}function Va(r){let e,n,t;return{c(){e=A("img"),vn(e.src,n=r[5](r[0]))||z(e,"src",n),z(e,"width",150),z(e,"alt",t=`Legend for ${r[0]} layer`)},m(l,o){$(l,e,o)},p(l,o){o&1&&!vn(e.src,n=l[5](l[0]))&&z(e,"src",n),o&1&&t!==(t=`Legend for ${l[0]} layer`)&&z(e,"alt",t)},i:ee,o:ee,d(l){l&&p(e)}}}function Xa(r){let e,n;return e=new Je({props:{colorScale:["#FF6600","#FF3333","#990033","#AD9AD6","#0000E0"],limits:["55","60","65","70","75",">"]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:ee,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ja(r){let e,n;const t=[R("pollution"),{paint:{"raster-opacity":r[2]/100}},{layout:{visibility:r[1]?"visible":"none"}}];let l={};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new gl({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&6?Z(t,[t[0],i&4&&{paint:{"raster-opacity":o[2]/100}},i&2&&{layout:{visibility:o[1]?"visible":"none"}}]):{};e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Ka(r){let e,n,t,l,o,i;function u(f){r[6](f)}let s={id:"pollution",$$slots:{right:[Wa],default:[Ha]},$$scope:{ctx:r}};r[1]!==void 0&&(s.checked=r[1]),e=new ie({props:s}),K.push(()=>Q(e,"checked",u));let a=r[1]&&sr(r);return o=new Ml({props:{tiles:[r[4](r[0])],tileSize:256,$$slots:{default:[Ja]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),a&&a.c(),l=T(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&2048&&(d.$$scope={dirty:c,ctx:f}),!n&&c&2&&(n=!0,d.checked=f[1],x(()=>n=!1)),e.$set(d),f[1]?a?(a.p(f,c),c&2&&m(a,1)):(a=sr(f),a.c(),m(a,1),a.m(l.parentNode,l)):a&&(fe(),_(a,1,1,()=>{a=null}),ue());const g={};c&1&&(g.tiles=[f[4](f[0])]),c&2054&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){i||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),i=!0)},o(f){_(e.$$.fragment,f),_(a),_(o.$$.fragment,f),i=!1},d(f){f&&(p(t),p(l)),v(e,f),a&&a.d(f),v(o,f)}}}function Ya(r,e,n){let t,l=!1,o=50,i="PM25_viridis";function u(){return i=="Noise"?"http://wms.extrium.co.uk/geoserver/NoiseE/wms":`https://ukair.maps.rcdo.co.uk/ukairserver/services/aq_amb_2022/${i}/MapServer/WMSServer`}function s(y){return t[1]}function a(y){let S=new URLSearchParams({request:"GetMap",version:"1.3.0",format:"image/png",crs:"EPSG:3857",width:"256",height:"256",styles:"",layers:t[0]}).toString();return`${u()}?bbox={bbox-epsg-3857}&${S}`}function f(y){let S=new URLSearchParams({request:"GetLegendGraphic",version:"1.3.0",format:"image/png",layer:t[0]}).toString();return`${u()}?${S}`}function c(y){l=y,n(1,l)}function d(y){i=y,n(0,i)}function g(){o=ll(this.value),n(2,o)}return r.$$.update=()=>{r.$$.dirty&1&&(t={NOx_viridis:["22","Data for 2022"],PM25_viridis:["21","Data for 2022"],PM10_viridis:["22","Data for 2022"],NOxRoads_viridis:["22","Data for 2022"],PM25Roads_viridis:["14","Data for 2022"],PM10Roads_viridis:["22","Data for 2022"],Noise:["NoiseE:RD_LQ16_R3","Annual average noise level for the 16-hour period between 0700-2300 (dB)"]}[i])},[i,l,o,s,a,f,c,d,g]}class Za extends q{constructor(e){super(),W(this,e,Ya,Ka,G,{})}}function Qa(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Wards`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function xa(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ef(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::wards-may-2023-boundaries-uk-bgc/explore",$$slots:{default:[xa]},$$scope:{ctx:r}}}),i=new Xe({}),{c(){e=A("p"),n=w("Data from "),h(t.$$.fragment),l=w(", as of May 2023."),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function tf(r){let e,n,t;return n=new ae({props:{$$slots:{default:[ef]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function nf(r){let e,n=r[3].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=l[3].name+"")&&B(t,n)},d(l){l&&p(e)}}}function rf(r){let e,n;return e=new le({props:{$$slots:{default:[nf,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function lf(r){let e,n,t,l;const o=[R(Ue),{sourceLayer:Ue},{paint:{"fill-color":r[1],"fill-opacity":J(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[rf]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new Ve({props:i}),e.$on("click",sf);const u=[R(`${Ue}-outline`),{sourceLayer:Ue},{paint:{"line-color":r[1],"line-width":2.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new de({props:s}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?Z(o,[f&0&&ne(R(Ue)),f&0&&{sourceLayer:Ue},f&2&&{paint:{"fill-color":a[1],"fill-opacity":J(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5],o[6]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?Z(u,[f&0&&ne(R(`${Ue}-outline`)),f&0&&{sourceLayer:Ue},f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||(m(e.$$.fragment,a),m(t.$$.fragment,a),l=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),l=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function of(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:Ue,$$slots:{right:[tf],default:[Qa]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new he({props:{url:`pmtiles://${ge()}/v1/${Ue}.pmtiles`,$$slots:{default:[lf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let Ue="wards";function sf(r){let e=encodeURIComponent(r.detail.features[0].properties.name);window.open(`https://www.google.com/search?q=${e}+councillor`,"_blank")}function af(r,e,n){let t=te.wards,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class ff extends q{constructor(e){super(),W(this,e,af,of,G,{})}}function uf(r){let e;return{c(){e=w("Open Data Commons Open Database License")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function cf(r){let e,n,t,l;return t=new V({props:{href:"https://www.openstreetmap.org/copyright",$$slots:{default:[uf]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("License: "),h(t.$$.fragment)},m(o,i){$(o,e,i),k(e,n),b(t,e,null),l=!0},p(o,[i]){const u={};i&1&&(u.$$scope={dirty:i,ctx:o}),t.$set(u)},i(o){l||(m(t.$$.fragment,o),l=!0)},o(o){_(t.$$.fragment,o),l=!1},d(o){o&&p(e),v(t)}}}class lt extends q{constructor(e){super(),W(this,e,null,cf,G,{})}}function $f(r){let e,n,t;return e=new ke({props:{color:te.bus_route_with_lane}}),{c(){h(e.$$.fragment),n=w(`
  Bus routes`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function pf(r){let e;return{c(){e=w(`GTFS
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function mf(r){let e,n,t,l,o,i,u,s,a;return o=new V({props:{href:"https://gtfs.org",$$slots:{default:[pf]},$$scope:{ctx:r}}}),s=new lt({}),{c(){e=A("p"),e.textContent=`This shows all roads with at least one bus route crossing them. It also
        shows whether the road has a bus lane or not.`,n=T(),t=A("p"),l=w("Note this data is from OpenStreetMap (as of 9 August 2023), not "),h(o.$$.fragment),i=w(`, and doesn't include which routes are run or the
        frequency of service.`),u=T(),h(s.$$.fragment)},m(f,c){$(f,e,c),$(f,n,c),$(f,t,c),k(t,l),b(o,t,null),k(t,i),$(f,u,c),b(s,f,c),a=!0},p(f,c){const d={};c&8&&(d.$$scope={dirty:c,ctx:f}),o.$set(d)},i(f){a||(m(o.$$.fragment,f),m(s.$$.fragment,f),a=!0)},o(f){_(o.$$.fragment,f),_(s.$$.fragment,f),a=!1},d(f){f&&(p(e),p(n),p(t),p(u)),v(o),v(s,f)}}}function _f(r){let e,n,t;return n=new ae({props:{$$slots:{default:[mf]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&8&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function gf(r){let e;return{c(){e=A("p"),e.textContent="At least one bus route crosses here, without any bus lanes"},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function df(r){let e;return{c(){e=A("p"),e.textContent=`At least one bus route crosses here, with a bus lane in one or more
          directions`},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function hf(r){let e;function n(o,i){return o[2].has_bus_lane?df:gf}let t=n(r),l=t(r);return{c(){l.c(),e=Ae()},m(o,i){l.m(o,i),$(o,e,i)},p(o,i){t!==(t=n(o))&&(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&p(e),l.d(o)}}}function bf(r){let e,n;return e=new le({props:{$$slots:{default:[hf,({props:t})=>({2:t}),({props:t})=>t?4:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&12&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function vf(r){let e,n;const t=[R($t),{sourceLayer:$t},{paint:{"line-color":["case",["boolean",["get","has_bus_lane"],!1],te.bus_route_with_lane,te.bus_route_without_lane],"line-width":5,"line-opacity":J(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let l={$$slots:{default:[bf]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new de({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&1?Z(t,[i&0&&ne(R($t)),i&0&&{sourceLayer:$t},t[2],i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};i&8&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function wf(r){let e,n,t,l,o;function i(s){r[1](s)}let u={id:$t,$$slots:{right:[_f],default:[$f]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new he({props:{url:`pmtiles://${ge()}/v1/${$t}.pmtiles`,$$slots:{default:[vf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&8&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&9&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let $t="bus_routes";function kf(r,e,n){let t=!1;function l(o){t=o,n(0,t)}return[t,l]}class yf extends q{constructor(e){super(),W(this,e,kf,wf,G,{})}}function ir(r){const e=Ef(r[5]);r[6]=e[0],r[7]=e[1],r[8]=e[2]}function ar(r,e,n){const t=r.slice();return t[6]=e[n][0],t[9]=e[n][1],t[10]=e[n][2],t[11]=e,t[12]=n,t}function Sf(r){let e;return{c(){e=w("Cycle paths")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Of(r){let e,n,t,l,o,i,u,s;return u=new lt({}),{c(){e=A("p"),e.textContent=`This shows different types of cycle path, according to OpenStreetMap (as
        of 15 August 2023).`,n=T(),t=A("ul"),t.innerHTML=`<li><b>Separated tracks</b>
          include fully or partly segregated cycletracks alongside a carriageway,
          stepped cycletracks, and tracks off the carriageway entirely. They&#39;re also
          separated from foot traffic.</li> <li><b>Unprotected lanes</b>
          are mandatory or advisory lanes on the carriageway, without any physical
          protection. They do not included shared bus lanes.</li> <li><b>Shared-use</b>
          paths are split between cycle and foot traffic, and are separated from
          motor traffic somehow. There can be segregation between cyclists and pedestrians
          or not.</li>`,l=T(),o=A("p"),o.textContent=`Note there are many known limitations with this layer. Data in
        OpenStreetMap can be missing, mapped twice, or mapped incorrectly. Our
        processing is also imperfect. You can click a segment to see full
        OpenStreetMap data. Please do report issues with the classification or
        data.`,i=T(),h(u.$$.fragment)},m(a,f){$(a,e,f),$(a,n,f),$(a,t,f),$(a,l,f),$(a,o,f),$(a,i,f),b(u,a,f),s=!0},p:ee,i(a){s||(m(u.$$.fragment,a),s=!0)},o(a){_(u.$$.fragment,a),s=!1},d(a){a&&(p(e),p(n),p(t),p(l),p(o),p(i)),v(u,a)}}}function Cf(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Of]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&8192&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function fr(r){let e,n,t,l;return e=new rt({props:{$$slots:{default:[Af]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=T(),t=A("hr")},m(o,i){b(e,o,i),$(o,n,i),$(o,t,i),l=!0},p(o,i){const u={};i&8194&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){l||(m(e.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),l=!1},d(o){o&&(p(n),p(t)),v(e,o)}}}function Tf(r){let e,n,t=r[9]+"",l,o,i;return e=new ke({props:{color:r[10]}}),{c(){h(e.$$.fragment),n=T(),l=w(t),o=T()},m(u,s){b(e,u,s),$(u,n,s),$(u,l,s),$(u,o,s),i=!0},p:ee,i(u){i||(m(e.$$.fragment,u),i=!0)},o(u){_(e.$$.fragment,u),i=!1},d(u){u&&(p(n),p(l),p(o)),v(e,u)}}}function ur(r){let e,n,t;function l(i){r[4](i,r[6])}let o={id:r[6],$$slots:{default:[Tf]},$$scope:{ctx:r}};return r[1][r[6]]!==void 0&&(o.checked=r[1][r[6]]),e=new ie({props:o}),K.push(()=>Q(e,"checked",l)),{c(){h(e.$$.fragment)},m(i,u){b(e,i,u),t=!0},p(i,u){r=i;const s={};u&8192&&(s.$$scope={dirty:u,ctx:r}),!n&&u&6&&(n=!0,s.checked=r[1][r[6]],x(()=>n=!1)),e.$set(s)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){_(e.$$.fragment,i),t=!1},d(i){v(e,i)}}}function Af(r){let e,n,t=qe(r[2]),l=[];for(let i=0;i<t.length;i+=1)l[i]=ur(ar(r,t,i));const o=i=>_(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=Ae()},m(i,u){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(i,u);$(i,e,u),n=!0},p(i,u){if(u&6){t=qe(i[2]);let s;for(s=0;s<t.length;s+=1){const a=ar(i,t,s);l[s]?(l[s].p(a,u),m(l[s],1)):(l[s]=ur(a),l[s].c(),m(l[s],1),l[s].m(e.parentNode,e))}for(fe(),s=t.length;s<l.length;s+=1)o(s);ue()}},i(i){if(!n){for(let u=0;u<t.length;u+=1)m(l[u]);n=!0}},o(i){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)_(l[u]);n=!1},d(i){i&&p(e),Tt(l,i)}}}function Lf(r){ir(r);let e,n=r[6]+"",t,l,o,i,u,s=r[7]+"",a,f,c,d,g=r[8]+"",y;return{c(){e=A("h2"),t=w(n),l=T(),o=A("p"),i=w("Direction: "),u=A("b"),a=T(),f=A("p"),c=w("Width: "),d=A("b"),y=w(g)},m(S,C){$(S,e,C),k(e,t),$(S,l,C),$(S,o,C),k(o,i),k(o,u),u.innerHTML=s,$(S,a,C),$(S,f,C),k(f,c),k(f,d),k(d,y)},p(S,C){ir(S),C&32&&n!==(n=S[6]+"")&&B(t,n),C&32&&s!==(s=S[7]+"")&&(u.innerHTML=s),C&32&&g!==(g=S[8]+"")&&B(y,g)},d(S){S&&(p(e),p(l),p(o),p(a),p(f))}}}function If(r){let e,n;return e=new le({props:{$$slots:{default:[Lf,({props:t})=>({5:t}),({props:t})=>t?32:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&8224&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Pf(r){let e,n;const t=[R(pt),{sourceLayer:pt},{paint:{"line-color":zt(["get","kind"],{track:te.cycle_paths.track,lane:te.cycle_paths.lane,shared_use_segregated:te.cycle_paths.shared_use_segregated,shared_use_unsegregated:te.cycle_paths.shared_use_unsegregated},"red"),"line-width":Ne,"line-opacity":J(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{filter:cr(r[1])},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let l={$$slots:{default:[If]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new de({props:l}),e.$on("click",Nf),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?Z(t,[i&0&&ne(R(pt)),i&0&&{sourceLayer:pt},t[2],i&1&&{layout:{visibility:o[0]?"visible":"none"}},i&2&&{filter:cr(o[1])},t[5],t[6],t[7]]):{};i&8192&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Mf(r){let e,n,t,l,o,i;function u(f){r[3](f)}let s={id:pt,$$slots:{right:[Cf],default:[Sf]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new ie({props:s}),K.push(()=>Q(e,"checked",u));let a=r[0]&&fr(r);return o=new he({props:{url:`pmtiles://${ge()}/v1/${pt}.pmtiles`,$$slots:{default:[Pf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),a&&a.c(),l=T(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&8192&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],x(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=fr(f),a.c(),m(a,1),a.m(l.parentNode,l)):a&&(fe(),_(a,1,1,()=>{a=null}),ue());const g={};c&8195&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){i||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),i=!0)},o(f){_(e.$$.fragment,f),_(a),_(o.$$.fragment,f),i=!1},d(f){f&&(p(t),p(l)),v(e,f),a&&a.d(f),v(o,f)}}}let pt="cycle_paths";function Ef(r){let e={track:"Separated track",lane:"Unprotected lane",shared_use_segregated:"Shared-use (segregated)",shared_use_unsegregated:"Shared-use (unsegregated)"}[r.kind],n={"one-way":"&uarr;","two-way":"&#8597;",unknown:""}[r.direction],t=r.width=="unknown"?"unknown":`${r.width} meters`;return[e,`${n} ${r.direction}`,t]}function Nf(r){window.open(`http://openstreetmap.org/way/${r.detail.features[0].properties.osm_id}`,"_blank")}function cr(r){let e=Object.keys(r).filter(n=>r[n]);return["in",["get","kind"],["literal",e]]}function Ff(r,e,n){let t=[["track","Separated tracks",te.cycle_paths.track],["lane","Unprotected lanes",te.cycle_paths.lane],["shared_use_segregated","Shared-use (segregated)",te.cycle_paths.shared_use_segregated],["shared_use_unsegregated","Shared-use (unsegregated)",te.cycle_paths.shared_use_unsegregated]],l=!1,o={track:!0,lane:!0,shared_use_segregated:!0,shared_use_unsegregated:!0};function i(s){l=s,n(0,l)}function u(s,a){r.$$.not_equal(o[a],s)&&(o[a]=s,n(1,o))}return[l,o,t,i,u]}class Df extends q{constructor(e){super(),W(this,e,Ff,Mf,G,{})}}function jf(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Major Road Network`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function Rf(r){let e;return{c(){e=w(`Major Road Network
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Bf(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://maps.dft.gov.uk/major-road-network/index.html",$$slots:{default:[Rf]},$$scope:{ctx:r}}}),i=new Xe({}),{c(){e=A("p"),n=w("Data from the "),h(t.$$.fragment),l=w(", as of September 2021."),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function Hf(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Bf]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function Uf(r){let e,n=(r[3].name??"Unknown MRN road")+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=(l[3].name??"Unknown MRN road")+"")&&B(t,n)},d(l){l&&p(e)}}}function Gf(r){let e,n;return e=new le({props:{$$slots:{default:[Uf,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function zf(r){let e,n;const t=[R(mt),{sourceLayer:mt},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":r[1],"line-width":7,"line-opacity":J(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}}];let l={$$slots:{default:[Gf]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new de({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?Z(t,[i&0&&ne(R(mt)),i&0&&{sourceLayer:mt},t[2],t[3],i&2&&{paint:{"line-color":o[1],"line-width":7,"line-opacity":J(1,.5)}},i&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};i&16&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function qf(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:mt,$$slots:{right:[Hf],default:[jf]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new he({props:{url:`pmtiles://${ge()}/v1/${mt}.pmtiles`,$$slots:{default:[zf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let mt="mrn";function Wf(r,e,n){let t=te.mrn,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class Vf extends q{constructor(e){super(),W(this,e,Wf,qf,G,{})}}function Xf(r){let e;return{c(){e=w("OS Pavement widths")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Jf(r){let e;return{c(){e=w(`Public Sector Geospatial Agreement
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Kf(r){let e,n,t,l,o,i,u,s,a;return u=new V({props:{href:"https://www.ordnancesurvey.co.uk/documents/licensing/psga-member-licence.pdf",$$slots:{default:[Jf]},$$scope:{ctx:r}}}),{c(){e=A("p"),e.textContent=`This is average and minimum pavement width (in meters) from Ordnance
        Survey. The coloring shows the average width, and the line thickness has
        no meaning. Hover over a line to see if there's pavement on one or both
        sides of the road. (You won't be able to distinguish left and right
        though; use the OS Road basemap instead.)`,n=T(),t=A("p"),t.textContent="Data valid as of 1 January, 2024",l=T(),o=A("p"),i=w(`License: Contains OS data © Crown copyright and database right
        2023. Made available under the `),h(u.$$.fragment),s=w(".")},m(f,c){$(f,e,c),$(f,n,c),$(f,t,c),$(f,l,c),$(f,o,c),k(o,i),b(u,o,null),k(o,s),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),u.$set(d)},i(f){a||(m(u.$$.fragment,f),a=!0)},o(f){_(u.$$.fragment,f),a=!1},d(f){f&&(p(e),p(n),p(t),p(l),p(o)),v(u)}}}function Yf(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Kf]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&32&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function $r(r){let e,n;return e=new Je({props:{colorScale:r[1],limits:r[2]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:ee,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Zf(r){let e,n,t,l=r[4].side+"",o,i,u,s,a,f=r[4].average+"",c,d,g,y,S,C,O=r[4].minimum+"",E,D;return{c(){e=A("p"),n=w("Side of the road: "),t=A("b"),o=w(l),i=T(),u=A("p"),s=w("Average width: "),a=A("b"),c=w(f),d=w(`
        meters`),g=T(),y=A("p"),S=w("Minimum width: "),C=A("b"),E=w(O),D=w(`
        meters`)},m(N,L){$(N,e,L),k(e,n),k(e,t),k(t,o),$(N,i,L),$(N,u,L),k(u,s),k(u,a),k(a,c),k(u,d),$(N,g,L),$(N,y,L),k(y,S),k(y,C),k(C,E),k(y,D)},p(N,L){L&16&&l!==(l=N[4].side+"")&&B(o,l),L&16&&f!==(f=N[4].average+"")&&B(c,f),L&16&&O!==(O=N[4].minimum+"")&&B(E,O)},d(N){N&&(p(e),p(i),p(u),p(g),p(y))}}}function Qf(r){let e,n;return e=new le({props:{$$slots:{default:[Zf,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&48&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function xf(r){let e,n;const t=[R(_t),{sourceLayer:_t},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":ve(["get","average"],r[2],r[1]),"line-width":Ne,"line-opacity":J(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}}];let l={$$slots:{default:[Qf]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new de({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&7?Z(t,[i&0&&ne(R(_t)),i&0&&{sourceLayer:_t},t[2],t[3],i&6&&{paint:{"line-color":ve(["get","average"],o[2],o[1]),"line-width":Ne,"line-opacity":J(1,.5)}},i&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};i&32&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function eu(r){let e,n,t,l,o,i;function u(f){r[3](f)}let s={id:_t,$$slots:{right:[Yf],default:[Xf]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new ie({props:s}),K.push(()=>Q(e,"checked",u));let a=r[0]&&$r(r);return o=new he({props:{url:`pmtiles://${Kt()}/v1/${_t}.pmtiles`,$$slots:{default:[xf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),a&&a.c(),l=T(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],x(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=$r(f),a.c(),m(a,1),a.m(l.parentNode,l)):a&&(fe(),_(a,1,1,()=>{a=null}),ue());const g={};c&33&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){i||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),i=!0)},o(f){_(e.$$.fragment,f),_(a),_(o.$$.fragment,f),i=!1},d(f){f&&(p(t),p(l)),v(e,f),a&&a.d(f),v(o,f)}}}let _t="pavement_widths";function tu(r,e,n){let t=te.sequential_low_to_high,l=[0,2,4,6,8,13],o=!1;function i(u){o=u,n(0,o)}return[o,t,l,i]}class nu extends q{constructor(e){super(),W(this,e,tu,eu,G,{})}}function ru(r){let e;return{c(){e=w("Propensity to Cycle Tool")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function lu(r){let e;return{c(){e=w("the PCT website")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ou(r){let e;return{c(){e=w("2017 journal article")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function su(r){let e,n,t,l,o,i,u,s,a,f,c;return u=new V({props:{href:"https://www.pct.bike",$$slots:{default:[lu]},$$scope:{ctx:r}}}),a=new V({props:{href:"https://www.jtlu.org/index.php/jtlu/article/view/862",$$slots:{default:[ou]},$$scope:{ctx:r}}}),{c(){e=A("p"),e.textContent=`The PCT shows major links on the transport network on which there is
        high latent demand for cycling under scenarios of change, based on the
        "fastest" routes from CycleStreets. Counts approximate daily rush hour
        traffic levels.`,n=T(),t=A("p"),t.textContent=`Note this layer uses 2011 census data and outdated OpenStreetMap data.
        Please use this layer with caution.`,l=T(),o=A("p"),i=w("See "),h(u.$$.fragment),s=w(" and "),h(a.$$.fragment),f=w(" for details on methodology and data sources.")},m(d,g){$(d,e,g),$(d,n,g),$(d,t,g),$(d,l,g),$(d,o,g),k(o,i),b(u,o,null),k(o,s),b(a,o,null),k(o,f),c=!0},p(d,g){const y={};g&1024&&(y.$$scope={dirty:g,ctx:d}),u.$set(y);const S={};g&1024&&(S.$$scope={dirty:g,ctx:d}),a.$set(S)},i(d){c||(m(u.$$.fragment,d),m(a.$$.fragment,d),c=!0)},o(d){_(u.$$.fragment,d),_(a.$$.fragment,d),c=!1},d(d){d&&(p(e),p(n),p(t),p(l),p(o)),v(u),v(a)}}}function iu(r){let e,n,t;return n=new ae({props:{$$slots:{default:[su]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&1024&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function pr(r){let e,n,t,l,o,i,u,s;e=new Je({props:{colorScale:r[3],limits:r[4]}});function a(g){r[7](g)}let f={legend:"Trip purpose",id:"tripPurpose",choices:[["pct_commute","Commuting"],["pct_school","School"]],inlineSmall:!0};r[0]!==void 0&&(f.value=r[0]),t=new Er({props:f}),K.push(()=>Q(t,"value",a));function c(g){r[8](g)}let d={label:"Scenario",id:"scenario",choices:[["baseline","Baseline (2011)"],["gov_target","Government target (2025)"],["go_dutch","Go Dutch"]]};return r[1]!==void 0&&(d.value=r[1]),i=new Lt({props:d}),K.push(()=>Q(i,"value",c)),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),o=T(),h(i.$$.fragment)},m(g,y){b(e,g,y),$(g,n,y),b(t,g,y),$(g,o,y),b(i,g,y),s=!0},p(g,y){const S={};!l&&y&1&&(l=!0,S.value=g[0],x(()=>l=!1)),t.$set(S);const C={};!u&&y&2&&(u=!0,C.value=g[1],x(()=>u=!1)),i.$set(C)},i(g){s||(m(e.$$.fragment,g),m(t.$$.fragment,g),m(i.$$.fragment,g),s=!0)},o(g){_(e.$$.fragment,g),_(t.$$.fragment,g),_(i.$$.fragment,g),s=!1},d(g){g&&(p(n),p(o)),v(e,g),v(t,g),v(i,g)}}}function au(r){let e,n=r[5](r[9])+"",t;return{c(){e=new _n(!1),t=Ae(),e.a=t},m(l,o){e.m(n,l,o),$(l,t,o)},p(l,o){o&512&&n!==(n=l[5](l[9])+"")&&e.p(n)},d(l){l&&(p(t),e.d())}}}function fu(r){let e,n;return e=new le({props:{$$slots:{default:[au,({props:t})=>({9:t}),({props:t})=>t?512:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&1536&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function uu(r){let e,n;const t=[R(Ge),{sourceLayer:Ge},{paint:{"line-color":ve(["get",r[1]],r[4],r[3]),"line-width":Ne,"line-opacity":J(1,.5)}},{layout:{visibility:r[2]&&r[0]==Ge?"visible":"none"}}];let l={$$slots:{default:[fu]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new de({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&31?Z(t,[i&0&&ne(R(Ge)),i&0&&{sourceLayer:Ge},i&26&&{paint:{"line-color":ve(["get",o[1]],o[4],o[3]),"line-width":Ne,"line-opacity":J(1,.5)}},i&5&&{layout:{visibility:o[2]&&o[0]==Ge?"visible":"none"}}]):{};i&1024&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function cu(r){let e,n=r[5](r[9])+"",t;return{c(){e=new _n(!1),t=Ae(),e.a=t},m(l,o){e.m(n,l,o),$(l,t,o)},p(l,o){o&512&&n!==(n=l[5](l[9])+"")&&e.p(n)},d(l){l&&(p(t),e.d())}}}function $u(r){let e,n;return e=new le({props:{$$slots:{default:[cu,({props:t})=>({9:t}),({props:t})=>t?512:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&1536&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function pu(r){let e,n;const t=[R(ot),{sourceLayer:ot},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":ve(["get",r[1]],r[4],r[3]),"line-width":Ne,"line-opacity":J(1,.5)}},{layout:{visibility:r[2]&&r[0]==ot?"visible":"none"}}];let l={$$slots:{default:[$u]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new de({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&31?Z(t,[i&0&&ne(R(ot)),i&0&&{sourceLayer:ot},t[2],t[3],i&26&&{paint:{"line-color":ve(["get",o[1]],o[4],o[3]),"line-width":Ne,"line-opacity":J(1,.5)}},i&5&&{layout:{visibility:o[2]&&o[0]==ot?"visible":"none"}}]):{};i&1024&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function mu(r){let e,n,t,l,o,i,u,s;function a(d){r[6](d)}let f={id:Ge,$$slots:{right:[iu],default:[ru]},$$scope:{ctx:r}};r[2]!==void 0&&(f.checked=r[2]),e=new ie({props:f}),K.push(()=>Q(e,"checked",a));let c=r[2]&&pr(r);return o=new he({props:{url:`pmtiles://${ge()}/v1/${Ge}.pmtiles`,$$slots:{default:[uu]},$$scope:{ctx:r}}}),u=new he({props:{url:`pmtiles://${ge()}/v1/${ot}.pmtiles`,$$slots:{default:[pu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),c&&c.c(),l=T(),h(o.$$.fragment),i=T(),h(u.$$.fragment)},m(d,g){b(e,d,g),$(d,t,g),c&&c.m(d,g),$(d,l,g),b(o,d,g),$(d,i,g),b(u,d,g),s=!0},p(d,[g]){const y={};g&1024&&(y.$$scope={dirty:g,ctx:d}),!n&&g&4&&(n=!0,y.checked=d[2],x(()=>n=!1)),e.$set(y),d[2]?c?(c.p(d,g),g&4&&m(c,1)):(c=pr(d),c.c(),m(c,1),c.m(l.parentNode,l)):c&&(fe(),_(c,1,1,()=>{c=null}),ue());const S={};g&1031&&(S.$$scope={dirty:g,ctx:d}),o.$set(S);const C={};g&1031&&(C.$$scope={dirty:g,ctx:d}),u.$set(C)},i(d){s||(m(e.$$.fragment,d),m(c),m(o.$$.fragment,d),m(u.$$.fragment,d),s=!0)},o(d){_(e.$$.fragment,d),_(c),_(o.$$.fragment,d),_(u.$$.fragment,d),s=!1},d(d){d&&(p(t),p(l),p(i)),v(e,d),c&&c.d(d),v(o,d),v(u,d)}}}let Ge="pct_commute",ot="pct_school";function _u(r,e,n){let t=te.sequential_low_to_high,l=[0,50,100,500,1e3,2e3],o=Ge,i="baseline",u=!1;function s(d){let g=d.baseline,y=d.gov_target,S=d.go_dutch,C=`<h2>Trip purpose: ${o==Ge?"commuting":"school"}</h2>`;if(C+=`<p>Baseline (2011): <b>${g.toLocaleString()}</b></p>`,g==0)C+=`<p>Government target (2025): <b>${y.toLocaleString()}</b></p>`,C+=`<p>Go Dutch: <b>${S.toLocaleString()}</b></p>`;else{let O=(y/g).toFixed(1),E=(S/g).toFixed(1);C+=`<p>Government target (2025): ${y.toLocaleString()} (<b>${O}x</b> of baseline)</p>`,C+=`<p>Go Dutch: ${S.toLocaleString()} (<b>${E}x</b> of baseline)</p>`}return C}function a(d){u=d,n(2,u)}function f(d){o=d,n(0,o)}function c(d){i=d,n(1,i)}return[o,i,u,t,l,s,a,f,c]}class gu extends q{constructor(e){super(),W(this,e,_u,mu,G,{})}}function du(r){let e;return{c(){e=w("OS Speeds")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function hu(r){let e;return{c(){e=w("Basemap")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function bu(r){let e;return{c(){e=w(`Public Sector Geospatial Agreement
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function vu(r){let e,n,t,l,o,i,u,s,a,f,c,d;return t=new V({props:{href:"https://basemap.co.uk/speed-data",$$slots:{default:[hu]},$$scope:{ctx:r}}}),f=new V({props:{href:"https://www.ordnancesurvey.co.uk/documents/licensing/psga-member-licence.pdf",$$slots:{default:[bu]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("The average speed data is collected over a six-month period by "),h(t.$$.fragment),l=w(` from 135,000 vehicle telematic systems and provided through
        Ordnance Survey. The averages are grouped by different time periods for weekdays
        and weekends. This map shows the highest average.`),o=T(),i=A("p"),i.textContent="Data valid as of 1 September, 2023",u=T(),s=A("p"),a=w(`License: Contains OS data © Crown copyright and database right
        2023. Made available under the `),h(f.$$.fragment),c=w(".")},m(g,y){$(g,e,y),k(e,n),b(t,e,null),k(e,l),$(g,o,y),$(g,i,y),$(g,u,y),$(g,s,y),k(s,a),b(f,s,null),k(s,c),d=!0},p(g,y){const S={};y&256&&(S.$$scope={dirty:y,ctx:g}),t.$set(S);const C={};y&256&&(C.$$scope={dirty:y,ctx:g}),f.$set(C)},i(g){d||(m(t.$$.fragment,g),m(f.$$.fragment,g),d=!0)},o(g){_(t.$$.fragment,g),_(f.$$.fragment,g),d=!1},d(g){g&&(p(e),p(o),p(i),p(u),p(s)),v(t),v(f)}}}function wu(r){let e,n,t;return n=new ae({props:{$$slots:{default:[vu]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&256&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function mr(r){let e,n,t,l,o;e=new Je({props:{colorScale:r[2],limits:r[3]}});function i(s){r[6](s)}let u={legend:"Show speed types",id:"showSpeed",choices:[["indicative_mph","Posted speed limit"],["highest_mph","Highest measured average speed"]],inlineSmall:!0};return r[0]!==void 0&&(u.value=r[0]),t=new Er({props:u}),K.push(()=>Q(t,"value",i)),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(s,a){b(e,s,a),$(s,n,a),b(t,s,a),o=!0},p(s,a){const f={};!l&&a&1&&(l=!0,f.value=s[0],x(()=>l=!1)),t.$set(f)},i(s){o||(m(e.$$.fragment,s),m(t.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),o=!1},d(s){s&&p(n),v(e,s),v(t,s)}}}function ku(r){let e,n,t=r[7].indicative_mph+"",l,o,i,u,s,a=r[7].highest_mph+"",f,c,d=r[4][r[7].highest_description]+"",g,y;return{c(){e=A("p"),n=w("Posted speed limit: "),l=w(t),o=w(" mph"),i=T(),u=A("p"),s=w("Highest average speed: "),f=w(a),c=w(" mph (during "),g=w(d),y=w(")")},m(S,C){$(S,e,C),k(e,n),k(e,l),k(e,o),$(S,i,C),$(S,u,C),k(u,s),k(u,f),k(u,c),k(u,g),k(u,y)},p(S,C){C&128&&t!==(t=S[7].indicative_mph+"")&&B(l,t),C&128&&a!==(a=S[7].highest_mph+"")&&B(f,a),C&128&&d!==(d=S[4][S[7].highest_description]+"")&&B(g,d)},d(S){S&&(p(e),p(i),p(u))}}}function yu(r){let e,n;return e=new le({props:{$$slots:{default:[ku,({props:t})=>({7:t}),({props:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&384&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Su(r){let e,n;const t=[R(gt),{sourceLayer:gt},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":ve(["get",r[0]],r[3],r[2]),"line-width":Ne,"line-opacity":J(1,.5)}},{layout:{visibility:r[1]?"visible":"none"}}];let l={$$slots:{default:[yu]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new de({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&15?Z(t,[i&0&&ne(R(gt)),i&0&&{sourceLayer:gt},t[2],t[3],i&13&&{paint:{"line-color":ve(["get",o[0]],o[3],o[2]),"line-width":Ne,"line-opacity":J(1,.5)}},i&2&&{layout:{visibility:o[1]?"visible":"none"}}]):{};i&256&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Ou(r){let e,n,t,l,o,i;function u(f){r[5](f)}let s={id:gt,$$slots:{right:[wu],default:[du]},$$scope:{ctx:r}};r[1]!==void 0&&(s.checked=r[1]),e=new ie({props:s}),K.push(()=>Q(e,"checked",u));let a=r[1]&&mr(r);return o=new he({props:{url:`pmtiles://${Kt()}/v1/${gt}.pmtiles`,$$slots:{default:[Su]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),a&&a.c(),l=T(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&256&&(d.$$scope={dirty:c,ctx:f}),!n&&c&2&&(n=!0,d.checked=f[1],x(()=>n=!1)),e.$set(d),f[1]?a?(a.p(f,c),c&2&&m(a,1)):(a=mr(f),a.c(),m(a,1),a.m(l.parentNode,l)):a&&(fe(),_(a,1,1,()=>{a=null}),ue());const g={};c&259&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){i||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),i=!0)},o(f){_(e.$$.fragment,f),_(a),_(o.$$.fragment,f),i=!1},d(f){f&&(p(t),p(l)),v(e,f),a&&a.d(f),v(o,f)}}}let gt="road_speeds";function Cu(r,e,n){let t=te.sequential_low_to_high,l=[0,20,30,40,50,90],o="indicative_mph",i=!1,u={mf4to7:"Monday-Friday 4-7am",mf7to9:"Monday-Friday 7-9am",mf9to12:"Monday-Friday 9am-12pm",mf12to14:"Monday-Friday 12-2pm",mf14to16:"Monday-Friday 2-4pm",mf16to19:"Monday-Friday 4-7pm",mf19to22:"Monday-Friday 7-10pm",mf22to4:"Monday-Friday 10pm-4am",ss4to7:"Saturday-Sunday 4-7am",ss7to10:"Saturday-Sunday 7-10am",ss10to14:"Saturday-Sunday 10am-2pm",ss14to19:"Saturday-Sunday 2-7pm",ss19to22:"Saturday-Sunday 7-10pm",ss22to4:"Saturday-Sunday 10pm-4am"};function s(f){i=f,n(1,i)}function a(f){o=f,n(0,o)}return[o,i,t,l,u,s,a]}class Tu extends q{constructor(e){super(),W(this,e,Cu,Ou,G,{})}}function Au(r){let e;return{c(){e=w("OS Road widths")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Lu(r){let e;return{c(){e=w(`Public Sector Geospatial Agreement
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Iu(r){let e,n,t,l,o,i,u,s,a;return u=new V({props:{href:"https://www.ordnancesurvey.co.uk/documents/licensing/psga-member-licence.pdf",$$slots:{default:[Lu]},$$scope:{ctx:r}}}),{c(){e=A("p"),e.textContent=`This is average and minimum road carriageway width (in meters) from
        Ordnance Survey. The coloring shows the average width, and the line
        thickness has no meaning. Be careful interpreting the data near dual
        carriageways and crossing islands.`,n=T(),t=A("p"),t.textContent="Data valid as of 1 September, 2023",l=T(),o=A("p"),i=w(`License: Contains OS data © Crown copyright and database right
        2023. Made available under the `),h(u.$$.fragment),s=w(".")},m(f,c){$(f,e,c),$(f,n,c),$(f,t,c),$(f,l,c),$(f,o,c),k(o,i),b(u,o,null),k(o,s),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),u.$set(d)},i(f){a||(m(u.$$.fragment,f),a=!0)},o(f){_(u.$$.fragment,f),a=!1},d(f){f&&(p(e),p(n),p(t),p(l),p(o)),v(u)}}}function Pu(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Iu]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&32&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function _r(r){let e,n;return e=new Je({props:{colorScale:r[1],limits:r[2]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:ee,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Mu(r){let e,n,t,l=r[4].average+"",o,i,u,s,a,f,c=r[4].minimum+"",d,g;return{c(){e=A("p"),n=w("Average width: "),t=A("b"),o=w(l),i=w(`
        meters`),u=T(),s=A("p"),a=w("Minimum width: "),f=A("b"),d=w(c),g=w(`
        meters`)},m(y,S){$(y,e,S),k(e,n),k(e,t),k(t,o),k(e,i),$(y,u,S),$(y,s,S),k(s,a),k(s,f),k(f,d),k(s,g)},p(y,S){S&16&&l!==(l=y[4].average+"")&&B(o,l),S&16&&c!==(c=y[4].minimum+"")&&B(d,c)},d(y){y&&(p(e),p(u),p(s))}}}function Eu(r){let e,n;return e=new le({props:{$$slots:{default:[Mu,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&48&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Nu(r){let e,n;const t=[R(dt),{sourceLayer:dt},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":ve(["get","average"],r[2],r[1]),"line-width":Ne,"line-opacity":J(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}}];let l={$$slots:{default:[Eu]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new de({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&7?Z(t,[i&0&&ne(R(dt)),i&0&&{sourceLayer:dt},t[2],t[3],i&6&&{paint:{"line-color":ve(["get","average"],o[2],o[1]),"line-width":Ne,"line-opacity":J(1,.5)}},i&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};i&32&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Fu(r){let e,n,t,l,o,i;function u(f){r[3](f)}let s={id:dt,$$slots:{right:[Pu],default:[Au]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new ie({props:s}),K.push(()=>Q(e,"checked",u));let a=r[0]&&_r(r);return o=new he({props:{url:`pmtiles://${Kt()}/v1/${dt}.pmtiles`,$$slots:{default:[Nu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),a&&a.c(),l=T(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],x(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=_r(f),a.c(),m(a,1),a.m(l.parentNode,l)):a&&(fe(),_(a,1,1,()=>{a=null}),ue());const g={};c&33&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){i||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),i=!0)},o(f){_(e.$$.fragment,f),_(a),_(o.$$.fragment,f),i=!1},d(f){f&&(p(t),p(l)),v(e,f),a&&a.d(f),v(o,f)}}}let dt="road_widths";function Du(r,e,n){let t=te.sequential_low_to_high,l=[0,5,10,15,20,100],o=!1;function i(u){o=u,n(0,o)}return[o,t,l,i]}class ju extends q{constructor(e){super(),W(this,e,Du,Fu,G,{})}}function Ru(r){let e,n,t;return{c(){e=A("input"),z(e,"class","govuk-file-upload"),z(e,"id","load-criticals"),z(e,"type","file")},m(l,o){$(l,e,o),r[7](e),n||(t=Ct(e,"change",r[5]),n=!0)},p:ee,d(l){l&&p(e),r[7](null),n=!1,t()}}}function gr(r){let e,n;return e=new rt({props:{small:!0,$$slots:{default:[Hu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&2054&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Bu(r){let e,n,t=r[2].toLocaleString()+"",l,o,i;return e=new ke({props:{color:St}}),{c(){h(e.$$.fragment),n=w(`
        Show `),l=w(t),o=w(" issues")},m(u,s){b(e,u,s),$(u,n,s),$(u,l,s),$(u,o,s),i=!0},p(u,s){(!i||s&4)&&t!==(t=u[2].toLocaleString()+"")&&B(l,t)},i(u){i||(m(e.$$.fragment,u),i=!0)},o(u){_(e.$$.fragment,u),i=!1},d(u){u&&(p(n),p(l),p(o)),v(e,u)}}}function Hu(r){let e,n,t;function l(i){r[8](i)}let o={id:"show-criticals",$$slots:{default:[Bu]},$$scope:{ctx:r}};return r[1]!==void 0&&(o.checked=r[1]),e=new ie({props:o}),K.push(()=>Q(e,"checked",l)),{c(){h(e.$$.fragment)},m(i,u){b(e,i,u),t=!0},p(i,u){const s={};u&2052&&(s.$$scope={dirty:u,ctx:i}),!n&&u&2&&(n=!0,s.checked=i[1],x(()=>n=!1)),e.$set(s)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){_(e.$$.fragment,i),t=!1},d(i){v(e,i)}}}function Uu(r){let e,n,t,l,o,i;e=new Mr({props:{label:"Load from .xlsx",id:"load-criticals",$$slots:{default:[Ru]},$$scope:{ctx:r}}}),t=new Nr({props:{errorMessage:r[3]}});let u=r[2]>0&&gr(r);return{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),u&&u.c(),o=Ae()},m(s,a){b(e,s,a),$(s,n,a),b(t,s,a),$(s,l,a),u&&u.m(s,a),$(s,o,a),i=!0},p(s,a){const f={};a&2049&&(f.$$scope={dirty:a,ctx:s}),e.$set(f);const c={};a&8&&(c.errorMessage=s[3]),t.$set(c),s[2]>0?u?(u.p(s,a),a&4&&m(u,1)):(u=gr(s),u.c(),m(u,1),u.m(o.parentNode,o)):u&&(fe(),_(u,1,1,()=>{u=null}),ue())},i(s){i||(m(e.$$.fragment,s),m(t.$$.fragment,s),m(u),i=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),_(u),i=!1},d(s){s&&(p(n),p(l),p(o)),v(e,s),v(t,s),u&&u.d(s)}}}function Gu(r){let e,n,t=r[10].critical_type+"",l,o,i,u,s,a=r[10].location_description+"",f,c,d,g,y,S=r[10].notes+"",C,O,E,D,N,L,F,M=r[10].id+"",I,P,H,X,j,U=(r[10].inspector??"???")+"",$e,Fe,be,Ke=r[10].submission_time+"",pe,ce,re,xe,Te,Le=r[10].scheme_reference+"",De,oe,_e,je=r[10].current_design_stage+"",Ye;return{c(){e=A("div"),n=A("h2"),l=w(t),o=T(),i=A("p"),u=A("u"),u.textContent="Location",s=w(`
          : `),f=w(a),c=T(),d=A("p"),g=A("u"),g.textContent="Notes",y=w(`
          : `),C=w(S),O=T(),E=A("hr"),D=T(),N=A("p"),L=w("Critical issue ID: "),F=A("b"),I=w(M),P=T(),H=A("p"),X=w("Submitted by "),j=A("b"),$e=w(U),Fe=w(`
          at
          `),be=A("b"),pe=w(Ke),ce=T(),re=A("p"),xe=w("For scheme "),Te=A("b"),De=w(Le),oe=w(`
          in stage
          `),_e=A("b"),Ye=w(je),Ce(e,"max-width","30vw")},m(we,ye){$(we,e,ye),k(e,n),k(n,l),k(e,o),k(e,i),k(i,u),k(i,s),k(i,f),k(e,c),k(e,d),k(d,g),k(d,y),k(d,C),k(e,O),k(e,E),k(e,D),k(e,N),k(N,L),k(N,F),k(F,I),k(e,P),k(e,H),k(H,X),k(H,j),k(j,$e),k(H,Fe),k(H,be),k(be,pe),k(e,ce),k(e,re),k(re,xe),k(re,Te),k(Te,De),k(re,oe),k(re,_e),k(_e,Ye)},p(we,ye){ye&1024&&t!==(t=we[10].critical_type+"")&&B(l,t),ye&1024&&a!==(a=we[10].location_description+"")&&B(f,a),ye&1024&&S!==(S=we[10].notes+"")&&B(C,S),ye&1024&&M!==(M=we[10].id+"")&&B(I,M),ye&1024&&U!==(U=(we[10].inspector??"???")+"")&&B($e,U),ye&1024&&Ke!==(Ke=we[10].submission_time+"")&&B(pe,Ke),ye&1024&&Le!==(Le=we[10].scheme_reference+"")&&B(De,Le),ye&1024&&je!==(je=we[10].current_design_stage+"")&&B(Ye,je)},d(we){we&&p(e)}}}function zu(r){let e,n;return e=new le({props:{$$slots:{default:[Gu,({props:t})=>({10:t}),({props:t})=>t?1024:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&3072&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function qu(r){let e,n,t,l,o,i;const u=[R(`${tt}-clusters`),{applyToClusters:!0},{paint:{"circle-color":St,"circle-opacity":.9,"circle-radius":["step",["get","point_count"],20,15,30,30,40]}},{layout:{visibility:r[1]?"visible":"none"}},{hoverCursor:"pointer"}];let s={};for(let g=0;g<u.length;g+=1)s=Y(s,u[g]);e=new nt({props:s}),e.$on("click",r[6]);const a=[R(`${tt}-counts`),{applyToClusters:!0},{layout:{"text-field":"{point_count_abbreviated}",visibility:r[1]?"visible":"none"}}];let f={};for(let g=0;g<a.length;g+=1)f=Y(f,a[g]);t=new Dl({props:f});const c=[R(`${tt}-points`),{applyToClusters:!1},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"circle-color":St,"circle-opacity":J(.9,.5),"circle-radius":15,"circle-stroke-color":"black","circle-stroke-width":3}},{layout:{visibility:r[1]?"visible":"none"}}];let d={$$slots:{default:[zu]},$$scope:{ctx:r}};for(let g=0;g<c.length;g+=1)d=Y(d,c[g]);return o=new nt({props:d}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),h(o.$$.fragment)},m(g,y){b(e,g,y),$(g,n,y),b(t,g,y),$(g,l,y),b(o,g,y),i=!0},p(g,y){const S=y&2?Z(u,[y&0&&ne(R(`${tt}-clusters`)),u[1],y&0&&{paint:{"circle-color":St,"circle-opacity":.9,"circle-radius":["step",["get","point_count"],20,15,30,30,40]}},y&2&&{layout:{visibility:g[1]?"visible":"none"}},u[4]]):{};e.$set(S);const C=y&2?Z(a,[y&0&&ne(R(`${tt}-counts`)),a[1],y&2&&{layout:{"text-field":"{point_count_abbreviated}",visibility:g[1]?"visible":"none"}}]):{};t.$set(C);const O=y&2?Z(c,[y&0&&ne(R(`${tt}-points`)),c[1],c[2],c[3],y&0&&{paint:{"circle-color":St,"circle-opacity":J(.9,.5),"circle-radius":15,"circle-stroke-color":"black","circle-stroke-width":3}},y&2&&{layout:{visibility:g[1]?"visible":"none"}}]):{};y&2048&&(O.$$scope={dirty:y,ctx:g}),o.$set(O)},i(g){i||(m(e.$$.fragment,g),m(t.$$.fragment,g),m(o.$$.fragment,g),i=!0)},o(g){_(e.$$.fragment,g),_(t.$$.fragment,g),_(o.$$.fragment,g),i=!1},d(g){g&&(p(n),p(l)),v(e,g),v(t,g),v(o,g)}}}function Wu(r){let e,n,t,l;return e=new Me({props:{label:"Critical Issues",$$slots:{default:[Uu]},$$scope:{ctx:r}}}),t=new kt({props:{id:tt,data:r[4],cluster:{radius:500,maxZoom:14},$$slots:{default:[qu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(o,i){b(e,o,i),$(o,n,i),b(t,o,i),l=!0},p(o,[i]){const u={};i&2063&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&16&&(s.data=o[4]),i&2050&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(t.$$.fragment,o),l=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}let tt="criticals",St="red";function Vu(r,e,n){let t;me(r,pn,g=>n(9,t=g));let l,o=!0,i=0,u="",s=ol();async function a(g){try{n(4,s=await Xs(l.files[0])),n(2,i=s.features.length),n(3,u="")}catch(y){n(3,u=`The file you loaded is broken: ${y}`)}}function f(g){t.getSource(tt).getClusterExpansionZoom(g.detail.features[0].properties.cluster_id,(y,S)=>{y||t.easeTo({center:g.detail.features[0].geometry.coordinates,zoom:S})})}function c(g){K[g?"unshift":"push"](()=>{l=g,n(0,l)})}function d(g){o=g,n(1,o)}return[l,o,i,u,s,a,f,c,d]}class Xu extends q{constructor(e){super(),W(this,e,Vu,Wu,G,{})}}function Ju(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Crossings`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function Ku(r){let e;return{c(){e=w("crossing")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Yu(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://wiki.openstreetmap.org/wiki/Key:crossing",$$slots:{default:[Ku]},$$scope:{ctx:r}}}),i=new lt({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(" data from OpenStreetMap (as of 9 August 2023)."),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function Zu(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Yu]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function Qu(r){let e,n=dr(r[3])+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=dr(l[3])+"")&&B(t,n)},d(l){l&&p(e)}}}function xu(r){let e,n;return e=new le({props:{$$slots:{default:[Qu,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ec(r){let e,n;const t=[R(ht),{sourceLayer:ht},{paint:{"circle-color":r[1],"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},{layout:{visibility:r[0]?"visible":"none"}},{hoverCursor:"pointer"},{eventsIfTopMost:!0}];let l={$$slots:{default:[xu]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new nt({props:l}),e.$on("click",nc),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?Z(t,[i&0&&ne(R(ht)),i&0&&{sourceLayer:ht},i&2&&{paint:{"circle-color":o[1],"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};i&16&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function tc(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:ht,$$slots:{right:[Zu],default:[Ju]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new he({props:{url:`pmtiles://${ge()}/v1/${ht}.pmtiles`,$$slots:{default:[ec]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let ht="crossings";function dr(r){return{no:"Location where crossing is impossible/illegal but where there is a clear desire line to cross",traffic_signals:"Signalised crossing",marked:"Crossing with no traffic signals",uncontrolled:"Crossing with no traffic signals",unmarked:"Crossing with no markings or signals",zebra:"Zebra crossing",island:"Crossing with an island",informal:"Informal crossing with an obvious desire line, but no official infrastructure to support it"}[r.crossing]??`Unknown crossing type (${r.crossing})`}function nc(r){window.open(`http://openstreetmap.org/node/${r.detail.features[0].properties.osm_id}`,"_blank")}function rc(r,e,n){let t=te.crossings,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class lc extends q{constructor(e){super(),W(this,e,rc,tc,G,{})}}function oc(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Cycle parking`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function sc(r){let e;return{c(){e=w("OpenStreetMap")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ic(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:amenity%3Dbicycle_parking",$$slots:{default:[sc]},$$scope:{ctx:r}}}),i=new lt({}),{c(){e=A("p"),n=w("Cycle parking, according to "),h(t.$$.fragment),l=w(` (as of 9 August 2023). The type of parking, public/private
        access, and whether it's covered are not shown.`),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function ac(r){let e,n,t;return n=new ae({props:{$$slots:{default:[ic]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function fc(r){let e,n,t,l=(r[3].capacity??"unknown")+"",o;return{c(){e=A("p"),n=w("Capacity: "),t=A("b"),o=w(l)},m(i,u){$(i,e,u),k(e,n),k(e,t),k(t,o)},p(i,u){u&8&&l!==(l=(i[3].capacity??"unknown")+"")&&B(o,l)},d(i){i&&p(e)}}}function uc(r){let e,n;return e=new le({props:{$$slots:{default:[fc,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function cc(r){let e,n;const t=[R(bt),{sourceLayer:bt},{paint:{"circle-color":r[1],"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let l={$$slots:{default:[uc]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new nt({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?Z(t,[i&0&&ne(R(bt)),i&0&&{sourceLayer:bt},i&2&&{paint:{"circle-color":o[1],"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};i&16&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function $c(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:bt,$$slots:{right:[ac],default:[oc]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new he({props:{url:`pmtiles://${ge()}/v1/${bt}.pmtiles`,$$slots:{default:[cc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let bt="cycle_parking";function pc(r,e,n){let t=te.cycle_parking,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class mc extends q{constructor(e){super(),W(this,e,pc,$c,G,{})}}function _c(r){let e,n,t,l;return e=new ke({props:{color:r[4]}}),{c(){h(e.$$.fragment),n=T(),t=w(r[2])},m(o,i){b(e,o,i),$(o,n,i),$(o,t,i),l=!0},p(o,i){(!l||i&4)&&B(t,o[2])},i(o){l||(m(e.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),l=!1},d(o){o&&(p(n),p(t)),v(e,o)}}}function gc(r){let e;const n=r[5].default,t=Et(n,r,r[7],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&128)&&Nt(t,n,l,l[7],e?Dt(n,l[7],o,null):Ft(l[7]),null)},i(l){e||(m(t,l),e=!0)},o(l){_(t,l),e=!1},d(l){t&&t.d(l)}}}function dc(r){let e,n,t;return n=new ae({props:{$$slots:{default:[gc]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&128&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function hc(r){let e,n=(r[8].name??`Unnamed ${r[1]}`)+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&258&&n!==(n=(l[8].name??`Unnamed ${l[1]}`)+"")&&B(t,n)},d(l){l&&p(e)}}}function bc(r){let e,n;return e=new le({props:{$$slots:{default:[hc,({props:t})=>({8:t}),({props:t})=>t?256:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function vc(r){let e,n;const t=[R(r[0]),{sourceLayer:r[0]},{paint:{"fill-color":r[4],"fill-opacity":J(.7,1)}},{layout:{visibility:r[3]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let l={$$slots:{default:[bc]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new Ve({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&25?Z(t,[i&1&&ne(R(o[0])),i&1&&{sourceLayer:o[0]},i&16&&{paint:{"fill-color":o[4],"fill-opacity":J(.7,1)}},i&8&&{layout:{visibility:o[3]?"visible":"none"}},t[4],t[5]]):{};i&130&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function wc(r){let e,n,t,l,o;function i(s){r[6](s)}let u={id:r[0],$$slots:{right:[dc],default:[_c]},$$scope:{ctx:r}};return r[3]!==void 0&&(u.checked=r[3]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new he({props:{url:`pmtiles://${ge()}/v1/${r[0]}.pmtiles`,$$slots:{default:[vc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&1&&(f.id=s[0]),a&132&&(f.$$scope={dirty:a,ctx:s}),!n&&a&8&&(n=!0,f.checked=s[3],x(()=>n=!1)),e.$set(f);const c={};a&1&&(c.url=`pmtiles://${ge()}/v1/${s[0]}.pmtiles`),a&139&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}function kc(r,e,n){let{$$slots:t={},$$scope:l}=e,{name:o}=e,{singularNoun:i}=e,{pluralNoun:u}=e,s=te[o],a=!1;function f(c){a=c,n(3,a)}return r.$$set=c=>{"name"in c&&n(0,o=c.name),"singularNoun"in c&&n(1,i=c.singularNoun),"pluralNoun"in c&&n(2,u=c.pluralNoun),"$$scope"in c&&n(7,l=c.$$scope)},[o,i,u,a,s,t,f,l]}class dn extends q{constructor(e){super(),W(this,e,kc,wc,G,{name:0,singularNoun:1,pluralNoun:2})}}function yc(r){let e;return{c(){e=w("hospital")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Sc(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:amenity%3Dhospital",$$slots:{default:[yc]},$$scope:{ctx:r}}}),i=new lt({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(` data from OpenStreetMap (as of 9 August 2023). It doesn't include
    outpatient clinics or individual doctor's offices.`),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&1&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function Oc(r){let e,n;return e=new dn({props:{name:"hospitals",singularNoun:"hospital",pluralNoun:"Hospitals",$$slots:{default:[Sc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}class Cc extends q{constructor(e){super(),W(this,e,null,Oc,G,{})}}function Tc(r){let e,n,t;return e=new ke({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Railway Stations`)},m(l,o){b(e,l,o),$(l,n,o),t=!0},p:ee,i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){l&&p(n),v(e,l)}}}function Ac(r){let e;return{c(){e=w("railway station")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Lc(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:railway%3Dstation",$$slots:{default:[Ac]},$$scope:{ctx:r}}}),i=new lt({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(" data from OpenStreetMap (as of 9 August 2023)."),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function Ic(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Lc]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function Pc(r){let e,n=(r[3].name??"Unnamed railway station")+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=(l[3].name??"Unnamed railway station")+"")&&B(t,n)},d(l){l&&p(e)}}}function Mc(r){let e,n;return e=new le({props:{$$slots:{default:[Pc,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ec(r){let e,n;const t=[R(Xt),{paint:{"circle-color":r[1],"circle-radius":Wt/2}},{layout:{visibility:r[0]?"visible":"none"}}];let l={$$slots:{default:[Mc]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new nt({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?Z(t,[i&0&&ne(R(Xt)),i&2&&{paint:{"circle-color":o[1],"circle-radius":Wt/2}},i&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};i&16&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Nc(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:Xt,$$slots:{right:[Ic],default:[Tc]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new ie({props:u}),K.push(()=>Q(e,"checked",i)),l=new kt({props:{data:`${ge()}/v1/${Xt}.geojson`,$$slots:{default:[Ec]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],x(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}let Xt="railway_stations";function Fc(r,e,n){let t=te.railway_stations,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class Dc extends q{constructor(e){super(),W(this,e,Fc,Nc,G,{})}}function jc(r){let e;return{c(){e=w("primary and secondary schools")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Rc(r){let e,n,t,l,o,i,u;return t=new V({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:amenity%3Dschool",$$slots:{default:[jc]},$$scope:{ctx:r}}}),i=new lt({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(` from OpenStreetMap (as of 9 August 2023). It doesn't include
    kindergartens, colleges, universities, or other training schools.`),o=T(),h(i.$$.fragment)},m(s,a){$(s,e,a),k(e,n),b(t,e,null),k(e,l),$(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&1&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(e),p(o)),v(t),v(i,s)}}}function Bc(r){let e,n;return e=new dn({props:{name:"schools",singularNoun:"school",pluralNoun:"Schools",$$slots:{default:[Rc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}class Hc extends q{constructor(e){super(),W(this,e,null,Bc,G,{})}}function Uc(r){let e;return{c(){e=w("sports pitches")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Gc(r){let e;return{c(){e=w("sports centres")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function zc(r){let e,n,t,l,o,i,u,s,a;return t=new V({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:leisure%3Dpitch",$$slots:{default:[Uc]},$$scope:{ctx:r}}}),o=new V({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:leisure%3Dsports_centre",$$slots:{default:[Gc]},$$scope:{ctx:r}}}),s=new lt({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(" and "),h(o.$$.fragment),i=w(" data from OpenStreetMap (as of 9 August 2023)."),u=T(),h(s.$$.fragment)},m(f,c){$(f,e,c),k(e,n),b(t,e,null),k(e,l),b(o,e,null),k(e,i),$(f,u,c),b(s,f,c),a=!0},p(f,c){const d={};c&1&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const g={};c&1&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){a||(m(t.$$.fragment,f),m(o.$$.fragment,f),m(s.$$.fragment,f),a=!0)},o(f){_(t.$$.fragment,f),_(o.$$.fragment,f),_(s.$$.fragment,f),a=!1},d(f){f&&(p(e),p(u)),v(t),v(o),v(s,f)}}}function qc(r){let e,n;return e=new dn({props:{name:"sports_spaces",singularNoun:"sports space",pluralNoun:"Sports spaces",$$slots:{default:[zc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}class Wc extends q{constructor(e){super(),W(this,e,null,qc,G,{})}}function Vc(r){let e;return{c(){e=w("Vehicle counts")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Xc(r){let e;return{c(){e=w(`DfT road statistics
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Jc(r){let e;return{c(){e=w("methodology")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Kc(r){let e,n,t,l,o,i,u,s,a,f,c;return t=new V({props:{href:"https://roadtraffic.dft.gov.uk/downloads",$$slots:{default:[Xc]},$$scope:{ctx:r}}}),o=new V({props:{href:"https://storage.googleapis.com/dft-statistics/road-traffic/all-traffic-data-metadata.pdf",$$slots:{default:[Jc]},$$scope:{ctx:r}}}),f=new Xe({}),{c(){e=A("p"),n=w("2022 AADF (annual average daily flow) data from "),h(t.$$.fragment),l=w(`. This counts the total daily number of vehicles
        traveling past a count point (in both directions) on an average day of
        the year. See `),h(o.$$.fragment),i=w(" for details and caveats about the measurements."),u=T(),s=A("p"),s.textContent=`The colors show motor vehicles AADF, not pedal cycles. Click a point for
        full data.`,a=T(),h(f.$$.fragment)},m(d,g){$(d,e,g),k(e,n),b(t,e,null),k(e,l),b(o,e,null),k(e,i),$(d,u,g),$(d,s,g),$(d,a,g),b(f,d,g),c=!0},p(d,g){const y={};g&64&&(y.$$scope={dirty:g,ctx:d}),t.$set(y);const S={};g&64&&(S.$$scope={dirty:g,ctx:d}),o.$set(S)},i(d){c||(m(t.$$.fragment,d),m(o.$$.fragment,d),m(f.$$.fragment,d),c=!0)},o(d){_(t.$$.fragment,d),_(o.$$.fragment,d),_(f.$$.fragment,d),c=!1},d(d){d&&(p(e),p(u),p(s),p(a)),v(t),v(o),v(f,d)}}}function Yc(r){let e,n,t;return n=new ae({props:{$$slots:{default:[Kc]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),z(e,"slot","right")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function hr(r){let e,n;return e=new Je({props:{colorScale:r[1],limits:r[3]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:ee,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Zc(r){let e,n=r[5].location+"",t,l,o,i,u,s=r[5].motor_vehicles_2022.toLocaleString()+"",a,f,c,d,g,y=r[5].pedal_cycles_2022.toLocaleString()+"",S,C,O,E,D,N=r[5].method+"",L;return{c(){e=A("h2"),t=w(n),l=T(),o=A("p"),i=w("Total motor vehicles (2022 AADF): "),u=A("b"),a=w(s),f=T(),c=A("p"),d=w("Total pedal cycles (2022 AADF): "),g=A("b"),S=w(y),C=T(),O=A("p"),E=w("Count method: "),D=A("b"),L=w(N)},m(F,M){$(F,e,M),k(e,t),$(F,l,M),$(F,o,M),k(o,i),k(o,u),k(u,a),$(F,f,M),$(F,c,M),k(c,d),k(c,g),k(g,S),$(F,C,M),$(F,O,M),k(O,E),k(O,D),k(D,L)},p(F,M){M&32&&n!==(n=F[5].location+"")&&B(t,n),M&32&&s!==(s=F[5].motor_vehicles_2022.toLocaleString()+"")&&B(a,s),M&32&&y!==(y=F[5].pedal_cycles_2022.toLocaleString()+"")&&B(S,y),M&32&&N!==(N=F[5].method+"")&&B(L,N)},d(F){F&&(p(e),p(l),p(o),p(f),p(c),p(C),p(O))}}}function Qc(r){let e,n;return e=new le({props:{$$slots:{default:[Zc,({props:t})=>({5:t}),({props:t})=>t?32:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&96&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function xc(r){let e,n;const t=[R(vt),{sourceLayer:vt},{paint:{"circle-color":ve(["get","motor_vehicles_2022"],r[2],r[1]),"circle-opacity":.9,"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,15],"circle-stroke-color":"black","circle-stroke-width":.1}},{layout:{visibility:r[0]?"visible":"none"}},{hoverCursor:"pointer"},{eventsIfTopMost:!0}];let l={$$slots:{default:[Qc]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new nt({props:l}),e.$on("click",t$),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&7?Z(t,[i&0&&ne(R(vt)),i&0&&{sourceLayer:vt},i&6&&{paint:{"circle-color":ve(["get","motor_vehicles_2022"],o[2],o[1]),"circle-opacity":.9,"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,15],"circle-stroke-color":"black","circle-stroke-width":.1}},i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};i&64&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function e$(r){let e,n,t,l,o,i;function u(f){r[4](f)}let s={id:vt,$$slots:{right:[Yc],default:[Vc]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new ie({props:s}),K.push(()=>Q(e,"checked",u));let a=r[0]&&hr(r);return o=new he({props:{url:`pmtiles://${ge()}/v1/${vt}.pmtiles`,$$slots:{default:[xc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=T(),a&&a.c(),l=T(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&64&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],x(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=hr(f),a.c(),m(a,1),a.m(l.parentNode,l)):a&&(fe(),_(a,1,1,()=>{a=null}),ue());const g={};c&65&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){i||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),i=!0)},o(f){_(e.$$.fragment,f),_(a),_(o.$$.fragment,f),i=!1},d(f){f&&(p(t),p(l)),v(e,f),a&&a.d(f),v(o,f)}}}let vt="vehicle_counts";function t$(r){window.open(`https://roadtraffic.dft.gov.uk/manualcountpoints/${r.detail.features[0].properties.count_point}`,"_blank")}function n$(r,e,n){let t=te.sequential_low_to_high,l=[0,4e4,8e4,12e4,16e4,205e3],o=["","40k","80k","120k","160k",""],i=!1;function u(s){i=s,n(0,i)}return[i,t,l,o,u]}class r$ extends q{constructor(e){super(),W(this,e,n$,e$,G,{})}}function l$(r){let e,n,t,l,o,i,u,s;return e=new Hc({}),t=new Cc({}),o=new Wc({}),u=new Dc({}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),h(o.$$.fragment),i=T(),h(u.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),$(a,l,f),b(o,a,f),$(a,i,f),b(u,a,f),s=!0},i(a){s||(m(e.$$.fragment,a),m(t.$$.fragment,a),m(o.$$.fragment,a),m(u.$$.fragment,a),s=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),_(o.$$.fragment,a),_(u.$$.fragment,a),s=!1},d(a){a&&(p(n),p(l),p(i)),v(e,a),v(t,a),v(o,a),v(u,a)}}}function o$(r){let e,n;return e=new rt({props:{small:!0,$$slots:{default:[l$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function s$(r){let e,n,t,l,o,i,u,s,a,f;return e=new Df({}),t=new Vf({}),o=new yf({}),u=new mc({}),a=new lc({}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),h(o.$$.fragment),i=T(),h(u.$$.fragment),s=T(),h(a.$$.fragment)},m(c,d){b(e,c,d),$(c,n,d),b(t,c,d),$(c,l,d),b(o,c,d),$(c,i,d),b(u,c,d),$(c,s,d),b(a,c,d),f=!0},i(c){f||(m(e.$$.fragment,c),m(t.$$.fragment,c),m(o.$$.fragment,c),m(u.$$.fragment,c),m(a.$$.fragment,c),f=!0)},o(c){_(e.$$.fragment,c),_(t.$$.fragment,c),_(o.$$.fragment,c),_(u.$$.fragment,c),_(a.$$.fragment,c),f=!1},d(c){c&&(p(n),p(l),p(i),p(s)),v(e,c),v(t,c),v(o,c),v(u,c),v(a,c)}}}function i$(r){let e,n;return e=new rt({props:{small:!0,$$slots:{default:[s$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function a$(r){let e,n,t,l,o,i,u,s,a,f;return e=new Ba({}),t=new ff({}),o=new Vi({}),u=new ma({}),a=new Aa({}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),h(o.$$.fragment),i=T(),h(u.$$.fragment),s=T(),h(a.$$.fragment)},m(c,d){b(e,c,d),$(c,n,d),b(t,c,d),$(c,l,d),b(o,c,d),$(c,i,d),b(u,c,d),$(c,s,d),b(a,c,d),f=!0},i(c){f||(m(e.$$.fragment,c),m(t.$$.fragment,c),m(o.$$.fragment,c),m(u.$$.fragment,c),m(a.$$.fragment,c),f=!0)},o(c){_(e.$$.fragment,c),_(t.$$.fragment,c),_(o.$$.fragment,c),_(u.$$.fragment,c),_(a.$$.fragment,c),f=!1},d(c){c&&(p(n),p(l),p(i),p(s)),v(e,c),v(t,c),v(o,c),v(u,c),v(a,c)}}}function f$(r){let e,n;return e=new rt({props:{small:!0,$$slots:{default:[a$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function u$(r){let e,n,t,l;return e=new Fi({}),t=new ra({}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(o,i){b(e,o,i),$(o,n,i),b(t,o,i),l=!0},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(t.$$.fragment,o),l=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function c$(r){let e,n;return e=new rt({props:{small:!0,$$slots:{default:[u$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function $$(r){let e,n,t,l,o,i;return e=new ju({}),t=new nu({}),o=new Tu({}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),h(o.$$.fragment)},m(u,s){b(e,u,s),$(u,n,s),b(t,u,s),$(u,l,s),b(o,u,s),i=!0},i(u){i||(m(e.$$.fragment,u),m(t.$$.fragment,u),m(o.$$.fragment,u),i=!0)},o(u){_(e.$$.fragment,u),_(t.$$.fragment,u),_(o.$$.fragment,u),i=!1},d(u){u&&(p(n),p(l)),v(e,u),v(t,u),v(o,u)}}}function p$(r){let e,n,t,l,o=$n()=="Private (development)",i,u,s;e=new r$({}),t=new gu({});let a=o&&$$();return u=new Za({}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),a&&a.c(),i=T(),h(u.$$.fragment)},m(f,c){b(e,f,c),$(f,n,c),b(t,f,c),$(f,l,c),a&&a.m(f,c),$(f,i,c),b(u,f,c),s=!0},p:ee,i(f){s||(m(e.$$.fragment,f),m(t.$$.fragment,f),m(a),m(u.$$.fragment,f),s=!0)},o(f){_(e.$$.fragment,f),_(t.$$.fragment,f),_(a),_(u.$$.fragment,f),s=!1},d(f){f&&(p(n),p(l),p(i)),v(e,f),v(t,f),a&&a.d(f),v(u,f)}}}function m$(r){let e,n;return e=new rt({props:{small:!0,$$slots:{default:[p$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&16&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function _$(r){let e,n,t,l,o;function i(s){r[3](s)}let u={};return r[0]!==void 0&&(u.enabled=r[0]),e=new $l({props:u}),K.push(()=>Q(e,"enabled",i)),l=new hl({}),{c(){h(e.$$.fragment),t=T(),h(l.$$.fragment)},m(s,a){b(e,s,a),$(s,t,a),b(l,s,a),o=!0},p(s,a){const f={};!n&&a&1&&(n=!0,f.enabled=s[0],x(()=>n=!1)),e.$set(f)},i(s){o||(m(e.$$.fragment,s),m(l.$$.fragment,s),o=!0)},o(s){_(e.$$.fragment,s),_(l.$$.fragment,s),o=!1},d(s){s&&p(t),v(e,s),v(l,s)}}}function g$(r){let e,n,t,l,o,i,u,s,a,f,c,d,g,y,S,C;return e=new Xu({}),t=new Me({props:{label:"Trip generators",$$slots:{default:[o$]},$$scope:{ctx:r}}}),o=new Me({props:{label:"Existing infrastructure",$$slots:{default:[i$]},$$scope:{ctx:r}}}),u=new Me({props:{label:"Boundaries",$$slots:{default:[f$]},$$scope:{ctx:r}}}),a=new Me({props:{label:"Census",$$slots:{default:[c$]},$$scope:{ctx:r}}}),c=new Me({props:{label:"Other",$$slots:{default:[m$]},$$scope:{ctx:r}}}),g=new Me({props:{label:"Tools",$$slots:{default:[_$]},$$scope:{ctx:r}}}),S=new cl({props:{disabled:!r[1]}}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),h(o.$$.fragment),i=T(),h(u.$$.fragment),s=T(),h(a.$$.fragment),f=T(),h(c.$$.fragment),d=T(),h(g.$$.fragment),y=T(),h(S.$$.fragment)},m(O,E){b(e,O,E),$(O,n,E),b(t,O,E),$(O,l,E),b(o,O,E),$(O,i,E),b(u,O,E),$(O,s,E),b(a,O,E),$(O,f,E),b(c,O,E),$(O,d,E),b(g,O,E),$(O,y,E),b(S,O,E),C=!0},p(O,E){const D={};E&16&&(D.$$scope={dirty:E,ctx:O}),t.$set(D);const N={};E&16&&(N.$$scope={dirty:E,ctx:O}),o.$set(N);const L={};E&16&&(L.$$scope={dirty:E,ctx:O}),u.$set(L);const F={};E&16&&(F.$$scope={dirty:E,ctx:O}),a.$set(F);const M={};E&16&&(M.$$scope={dirty:E,ctx:O}),c.$set(M);const I={};E&17&&(I.$$scope={dirty:E,ctx:O}),g.$set(I);const P={};E&2&&(P.disabled=!O[1]),S.$set(P)},i(O){C||(m(e.$$.fragment,O),m(t.$$.fragment,O),m(o.$$.fragment,O),m(u.$$.fragment,O),m(a.$$.fragment,O),m(c.$$.fragment,O),m(g.$$.fragment,O),m(S.$$.fragment,O),C=!0)},o(O){_(e.$$.fragment,O),_(t.$$.fragment,O),_(o.$$.fragment,O),_(u.$$.fragment,O),_(a.$$.fragment,O),_(c.$$.fragment,O),_(g.$$.fragment,O),_(S.$$.fragment,O),C=!1},d(O){O&&(p(n),p(l),p(i),p(s),p(f),p(d),p(y)),v(e,O),v(t,O),v(o,O),v(u,O),v(a,O),v(c,O),v(g,O),v(S,O)}}}function d$(r){let e,n;const t=[R("cover-interactive-layers"),{paint:{"fill-color":"black","fill-opacity":0}},{layout:{visibility:r[1]?"none":"visible"}}];let l={};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new Ve({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&2?Z(t,[t[0],t[1],{layout:{visibility:o[1]?"none":"visible"}}]):{};e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function h$(r){let e,n,t,l;return e=new Me({props:{label:"Layers",open:!0,$$slots:{default:[g$]},$$scope:{ctx:r}}}),t=new kt({props:{data:r[2],$$slots:{default:[d$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(o,i){b(e,o,i),$(o,n,i),b(t,o,i),l=!0},p(o,[i]){const u={};i&19&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&18&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(t.$$.fragment,o),l=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function b$(r,e,n){let t,l;me(r,Jn,u=>n(1,l=u));let o={type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]}};function i(u){t=u,n(0,t),n(1,l)}return r.$$.update=()=>{r.$$.dirty&2&&n(0,t=!l),r.$$.dirty&1&&Jn.set(!t)},[t,l,o,i]}class v$ extends q{constructor(e){super(),W(this,e,b$,h$,G,{})}}function w$(r,e,n){let{loadFile:t}=e;return mn(async()=>{let o=await(await fetch(`${Kt()}/v1/random_schemes.geojson`)).text();t(o)}),r.$$set=l=>{"loadFile"in l&&n(0,t=l.loadFile)},[t]}class k$ extends q{constructor(e){super(),W(this,e,w$,null,G,{loadFile:0})}}function br(r){var o;let e,n,t=((o=r[0].browse)==null?void 0:o.current_milestone)+"",l;return{c(){e=A("p"),n=w("Current milestone: "),l=w(t)},m(i,u){$(i,e,u),k(e,n),k(e,l)},p(i,u){var s;u&1&&t!==(t=((s=i[0].browse)==null?void 0:s.current_milestone)+"")&&B(l,t)},d(i){i&&p(e)}}}function y$(r){let e;return{c(){e=w("Show on map")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function S$(r){let e;return{c(){e=w("Edit scheme locally")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function O$(r){let e,n,t,l;return e=new rn({props:{$$slots:{default:[y$]},$$scope:{ctx:r}}}),e.$on("click",r[1]),t=new rn({props:{$$slots:{default:[S$]},$$scope:{ctx:r}}}),t.$on("click",r[2]),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(o,i){b(e,o,i),$(o,n,i),b(t,o,i),l=!0},p(o,i){const u={};i&32&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&32&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(t.$$.fragment,o),l=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function C$(r){var N,L,F,M;let e,n,t=((N=r[0].browse)==null?void 0:N.authority_or_region)+"",l,o,i,u,s=((L=r[0].browse)==null?void 0:L.capital_scheme_id)+"",a,f,c,d,g=((F=r[0].browse)==null?void 0:F.funding_programme)+"",y,S,C,O,E,D=((M=r[0].browse)==null?void 0:M.current_milestone)&&br(r);return O=new pl({props:{$$slots:{default:[O$]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("Authority or region: "),l=w(t),o=T(),i=A("p"),u=w("Capital scheme ID: "),a=w(s),f=T(),c=A("p"),d=w("Funding programme: "),y=w(g),S=T(),D&&D.c(),C=T(),h(O.$$.fragment)},m(I,P){$(I,e,P),k(e,n),k(e,l),$(I,o,P),$(I,i,P),k(i,u),k(i,a),$(I,f,P),$(I,c,P),k(c,d),k(c,y),$(I,S,P),D&&D.m(I,P),$(I,C,P),b(O,I,P),E=!0},p(I,P){var X,j,U,$e;(!E||P&1)&&t!==(t=((X=I[0].browse)==null?void 0:X.authority_or_region)+"")&&B(l,t),(!E||P&1)&&s!==(s=((j=I[0].browse)==null?void 0:j.capital_scheme_id)+"")&&B(a,s),(!E||P&1)&&g!==(g=((U=I[0].browse)==null?void 0:U.funding_programme)+"")&&B(y,g),($e=I[0].browse)!=null&&$e.current_milestone?D?D.p(I,P):(D=br(I),D.c(),D.m(C.parentNode,C)):D&&(D.d(1),D=null);const H={};P&32&&(H.$$scope={dirty:P,ctx:I}),O.$set(H)},i(I){E||(m(O.$$.fragment,I),E=!0)},o(I){_(O.$$.fragment,I),E=!1},d(I){I&&(p(e),p(o),p(i),p(f),p(c),p(S),p(C)),D&&D.d(I),v(O,I)}}}function T$(r){var t;let e,n;return e=new Me({props:{label:`${r[0].scheme_reference}: ${(t=r[0].browse)==null?void 0:t.num_features} features`,$$slots:{default:[C$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(l,o){b(e,l,o),n=!0},p(l,[o]){var u;const i={};o&1&&(i.label=`${l[0].scheme_reference}: ${(u=l[0].browse)==null?void 0:u.num_features} features`),o&33&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(m(e.$$.fragment,l),n=!0)},o(l){_(e.$$.fragment,l),n=!1},d(l){v(e,l)}}}function A$(r,e,n){let t,l;me(r,wt,s=>n(3,t=s)),me(r,pn,s=>n(4,l=s));let{scheme:o}=e;function i(){let s={type:"FeatureCollection",features:t.features.filter(a=>a.properties.scheme_reference==o.scheme_reference)};l==null||l.fitBounds(sl(s),{padding:20,animate:!1})}function u(){var f,c;let s={type:"FeatureCollection",features:t.features.filter(d=>d.properties.scheme_reference==o.scheme_reference)},a=((f=o.browse)==null?void 0:f.authority_or_region)||"unknown authority";window.localStorage.setItem(a,JSON.stringify(s)),window.open(`scheme.html?authority=${(c=o.browse)==null?void 0:c.authority_or_region}`,"_blank")}return r.$$set=s=>{"scheme"in s&&n(0,o=s.scheme)},[o,i,u]}class L$ extends q{constructor(e){super(),W(this,e,A$,T$,G,{scheme:0})}}function vr(r){let e,n,t=wn(r[0].length_meters)+"",l;return{c(){e=A("p"),n=w("Length: "),l=w(t)},m(o,i){$(o,e,i),k(e,n),k(e,l)},p(o,i){i&1&&t!==(t=wn(o[0].length_meters)+"")&&B(l,t)},d(o){o&&p(e)}}}function wr(r){let e,n=r[2](r[0].description)+"";return{c(){e=A("p")},m(t,l){$(t,e,l),e.innerHTML=n},p(t,l){l&1&&n!==(n=t[2](t[0].description)+"")&&(e.innerHTML=n)},d(t){t&&p(e)}}}function kr(r){var o;let e,n,t=((o=r[1].browse)==null?void 0:o.current_milestone)+"",l;return{c(){e=A("p"),n=w("Current milestone: "),l=w(t)},m(i,u){$(i,e,u),k(e,n),k(e,l)},p(i,u){var s;u&2&&t!==(t=((s=i[1].browse)==null?void 0:s.current_milestone)+"")&&B(l,t)},d(i){i&&p(e)}}}function I$(r){var xe,Te,Le,De;let e,n,t,l=r[2](r[0].name)+"",o,i=r[0].intervention_type+"",u,s,a,f,c,d,g,y,S,C=r[0].scheme_reference+"",O,E,D,N,L=((xe=r[1].browse)==null?void 0:xe.authority_or_region)+"",F,M,I,P,H=((Te=r[1].browse)==null?void 0:Te.capital_scheme_id)+"",X,j,U,$e,Fe=((Le=r[1].browse)==null?void 0:Le.funding_programme)+"",be,Ke,pe=r[0].length_meters&&vr(r),ce=r[0].description&&wr(r),re=((De=r[1].browse)==null?void 0:De.current_milestone)&&kr(r);return{c(){e=A("div"),n=A("h2"),t=new _n(!1),o=w(" ("),u=w(i),s=w(")"),a=T(),pe&&pe.c(),f=T(),ce&&ce.c(),c=T(),d=A("hr"),g=T(),y=A("p"),S=w("Part of scheme: "),O=w(C),E=T(),D=A("p"),N=w("Authority or region: "),F=w(L),M=T(),I=A("p"),P=w("Capital scheme ID: "),X=w(H),j=T(),U=A("p"),$e=w("Funding programme: "),be=w(Fe),Ke=T(),re&&re.c(),t.a=o,Ce(e,"max-width","30vw")},m(oe,_e){$(oe,e,_e),k(e,n),t.m(l,n),k(n,o),k(n,u),k(n,s),k(e,a),pe&&pe.m(e,null),k(e,f),ce&&ce.m(e,null),k(e,c),k(e,d),k(e,g),k(e,y),k(y,S),k(y,O),k(e,E),k(e,D),k(D,N),k(D,F),k(e,M),k(e,I),k(I,P),k(I,X),k(e,j),k(e,U),k(U,$e),k(U,be),k(e,Ke),re&&re.m(e,null)},p(oe,[_e]){var je,Ye,we,ye;_e&1&&l!==(l=oe[2](oe[0].name)+"")&&t.p(l),_e&1&&i!==(i=oe[0].intervention_type+"")&&B(u,i),oe[0].length_meters?pe?pe.p(oe,_e):(pe=vr(oe),pe.c(),pe.m(e,f)):pe&&(pe.d(1),pe=null),oe[0].description?ce?ce.p(oe,_e):(ce=wr(oe),ce.c(),ce.m(e,c)):ce&&(ce.d(1),ce=null),_e&1&&C!==(C=oe[0].scheme_reference+"")&&B(O,C),_e&2&&L!==(L=((je=oe[1].browse)==null?void 0:je.authority_or_region)+"")&&B(F,L),_e&2&&H!==(H=((Ye=oe[1].browse)==null?void 0:Ye.capital_scheme_id)+"")&&B(X,H),_e&2&&Fe!==(Fe=((we=oe[1].browse)==null?void 0:we.funding_programme)+"")&&B(be,Fe),(ye=oe[1].browse)!=null&&ye.current_milestone?re?re.p(oe,_e):(re=kr(oe),re.c(),re.m(e,null)):re&&(re.d(1),re=null)},i:ee,o:ee,d(oe){oe&&p(e),pe&&pe.d(),ce&&ce.d(),re&&re.d()}}}function P$(r,e,n){let t,l,o;me(r,Gt,s=>n(4,l=s)),me(r,Mt,s=>n(3,o=s));let{props:i}=e;function u(s){return l?s.replace(new RegExp(l,"gi"),a=>`<mark>${a}</mark>`):s}return r.$$set=s=>{"props"in s&&n(0,i=s.props)},r.$$.update=()=>{r.$$.dirty&9&&n(1,t=o.get(i.scheme_reference))},[i,t,u,o]}class hn extends q{constructor(e){super(),W(this,e,P$,I$,G,{props:0})}}function M$(r){let e,n=r[6].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&64&&n!==(n=l[6].name+"")&&B(t,n)},d(l){l&&p(e)}}}function E$(r){let e,n;return e=new hn({props:{props:r[6]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.props=t[6]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function N$(r){let e,n,t,l;return e=new le({props:{popupClass:"border-popup",$$slots:{default:[M$,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:r}}}),t=new le({props:{openOn:"click",popupClass:"border-popup",$$slots:{default:[E$,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(o,i){b(e,o,i),$(o,n,i),b(t,o,i),l=!0},p(o,i){const u={};i&192&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&192&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(t.$$.fragment,o),l=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function F$(r){let e,n=r[6].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&64&&n!==(n=l[6].name+"")&&B(t,n)},d(l){l&&p(e)}}}function D$(r){let e,n;return e=new hn({props:{props:r[6]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.props=t[6]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function j$(r){let e,n,t,l;return e=new le({props:{popupClass:"border-popup",$$slots:{default:[F$,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:r}}}),t=new le({props:{openOn:"click",popupClass:"border-popup",$$slots:{default:[D$,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(o,i){b(e,o,i),$(o,n,i),b(t,o,i),l=!0},p(o,i){const u={};i&192&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&192&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(t.$$.fragment,o),l=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function R$(r){let e,n=r[6].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){$(l,e,o),k(e,t)},p(l,o){o&64&&n!==(n=l[6].name+"")&&B(t,n)},d(l){l&&p(e)}}}function B$(r){let e,n;return e=new hn({props:{props:r[6]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.props=t[6]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function H$(r){let e,n,t,l;return e=new le({props:{popupClass:"border-popup",$$slots:{default:[R$,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:r}}}),t=new le({props:{openOn:"click",popupClass:"border-popup",$$slots:{default:[B$,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment)},m(o,i){b(e,o,i),$(o,n,i),b(t,o,i),l=!0},p(o,i){const u={};i&192&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&192&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(t.$$.fragment,o),l=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function U$(r){let e,n,t,l,o,i,u,s,a,f;const c=[R("interventions-points"),{filter:["all",kn,r[3],r[4]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"circle-color":r[2],"circle-radius":Wt,"circle-opacity":J(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{hoverCursor:"pointer"}];let d={$$slots:{default:[N$]},$$scope:{ctx:r}};for(let L=0;L<c.length;L+=1)d=Y(d,c[L]);e=new nt({props:d});const g=[R("interventions-lines"),{filter:["all",yn,r[3]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":r[2],"line-width":yt,"line-opacity":J(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{hoverCursor:"pointer"}];let y={$$slots:{default:[j$]},$$scope:{ctx:r}};for(let L=0;L<g.length;L+=1)y=Y(y,g[L]);t=new de({props:y});const S=[R("interventions-lines-endpoints"),{filter:["==","endpoint",!0]},{paint:{"circle-radius":.5*yt,"circle-opacity":0,"circle-stroke-color":Qe.lineEndpointColor,"circle-stroke-width":2}},{layout:{visibility:r[0]?"visible":"none"}}];let C={};for(let L=0;L<S.length;L+=1)C=Y(C,S[L]);o=new nt({props:C});const O=[R("interventions-polygons"),{filter:["all",Bt,r[3]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"fill-color":r[2],"fill-opacity":J(.2,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{hoverCursor:"pointer"}];let E={$$slots:{default:[H$]},$$scope:{ctx:r}};for(let L=0;L<O.length;L+=1)E=Y(E,O[L]);u=new Ve({props:E});const D=[R("interventions-polygons-outlines"),{filter:["all",Bt,r[3]]},{paint:{"line-color":r[2],"line-opacity":.5,"line-width":.7*yt}},{layout:{visibility:r[0]?"visible":"none"}}];let N={};for(let L=0;L<D.length;L+=1)N=Y(N,D[L]);return a=new de({props:N}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),h(o.$$.fragment),i=T(),h(u.$$.fragment),s=T(),h(a.$$.fragment)},m(L,F){b(e,L,F),$(L,n,F),b(t,L,F),$(L,l,F),b(o,L,F),$(L,i,F),b(u,L,F),$(L,s,F),b(a,L,F),f=!0},p(L,F){const M=F&29?Z(c,[c[0],F&24&&{filter:["all",kn,L[3],L[4]]},c[2],c[3],F&4&&{paint:{"circle-color":L[2],"circle-radius":Wt,"circle-opacity":J(1,.5)}},F&1&&{layout:{visibility:L[0]?"visible":"none"}},c[6]]):{};F&128&&(M.$$scope={dirty:F,ctx:L}),e.$set(M);const I=F&13?Z(g,[g[0],F&8&&{filter:["all",yn,L[3]]},g[2],g[3],F&4&&{paint:{"line-color":L[2],"line-width":yt,"line-opacity":J(1,.5)}},F&1&&{layout:{visibility:L[0]?"visible":"none"}},g[6]]):{};F&128&&(I.$$scope={dirty:F,ctx:L}),t.$set(I);const P=F&1?Z(S,[S[0],S[1],S[2],{layout:{visibility:L[0]?"visible":"none"}}]):{};o.$set(P);const H=F&13?Z(O,[O[0],F&8&&{filter:["all",Bt,L[3]]},O[2],O[3],F&4&&{paint:{"fill-color":L[2],"fill-opacity":J(.2,.5)}},F&1&&{layout:{visibility:L[0]?"visible":"none"}},O[6]]):{};F&128&&(H.$$scope={dirty:F,ctx:L}),u.$set(H);const X=F&13?Z(D,[D[0],F&8&&{filter:["all",Bt,L[3]]},F&4&&{paint:{"line-color":L[2],"line-opacity":.5,"line-width":.7*yt}},F&1&&{layout:{visibility:L[0]?"visible":"none"}}]):{};a.$set(X)},i(L){f||(m(e.$$.fragment,L),m(t.$$.fragment,L),m(o.$$.fragment,L),m(u.$$.fragment,L),m(a.$$.fragment,L),f=!0)},o(L){_(e.$$.fragment,L),_(t.$$.fragment,L),_(o.$$.fragment,L),_(u.$$.fragment,L),_(a.$$.fragment,L),f=!1},d(L){L&&(p(n),p(l),p(i),p(s)),v(e,L),v(t,L),v(o,L),v(u,L),v(a,L)}}}function G$(r){let e,n;return e=new kt({props:{data:r[1],$$slots:{default:[U$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&2&&(o.data=t[1]),l&129&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function z$(r,e,n){let t,l;me(r,wt,a=>n(5,l=a));let{showSchemes:o}=e,i=Qr();const u=["!=",["get","hide_while_editing"],!0],s=["!=",["get","endpoint"],!0];return r.$$set=a=>{"showSchemes"in a&&n(0,o=a.showSchemes)},r.$$.update=()=>{r.$$.dirty&32&&n(1,t=il(l))},[o,t,i,u,s,l]}class q$ extends q{constructor(e){super(),W(this,e,z$,G$,G,{showSchemes:0})}}function yr(r,e,n){const t=r.slice();return t[10]=e[n],t}function W$(r){let e,n;return e=new k$({props:{loadFile:r[6]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:ee,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Sr(r){let e,n,t,l;function o(s){r[7](s)}function i(s){r[8](s)}let u={};return r[1]!==void 0&&(u.schemesToBeShown=r[1]),r[2]!==void 0&&(u.show=r[2]),e=new li({props:u}),K.push(()=>Q(e,"schemesToBeShown",o)),K.push(()=>Q(e,"show",i)),{c(){h(e.$$.fragment)},m(s,a){b(e,s,a),l=!0},p(s,a){const f={};!n&&a&2&&(n=!0,f.schemesToBeShown=s[1],x(()=>n=!1)),!t&&a&4&&(t=!0,f.show=s[2],x(()=>t=!1)),e.$set(f)},i(s){l||(m(e.$$.fragment,s),l=!0)},o(s){_(e.$$.fragment,s),l=!1},d(s){v(e,s)}}}function Or(r){let e,n;return e=new L$({props:{scheme:r[10]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.scheme=t[10]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Cr(r){let e=r[1].has(r[10].scheme_reference),n,t,l=e&&Or(r);return{c(){l&&l.c(),n=Ae()},m(o,i){l&&l.m(o,i),$(o,n,i),t=!0},p(o,i){i&34&&(e=o[1].has(o[10].scheme_reference)),e?l?(l.p(o,i),i&34&&m(l,1)):(l=Or(o),l.c(),m(l,1),l.m(n.parentNode,n)):l&&(fe(),_(l,1,1,()=>{l=null}),ue())},i(o){t||(m(l),t=!0)},o(o){_(l),t=!1},d(o){o&&p(n),l&&l.d(o)}}}function V$(r){let e,n,t,l,o,i,u,s,a,f,c=$n()=="Private (development)",d,g,y,S,C,O,E,D;o=new dl({props:{boundaryGeojson:r[3]}}),u=new zl({}),a=new al({});let N=c&&W$(r);g=new _l({props:{label:"Load schemes from GeoJSON",id:"load-geojson",loadFile:r[6]}}),S=new Nr({props:{errorMessage:r[0]}});let L=r[5].size>0&&Sr(r),F=qe(r[5].values()),M=[];for(let P=0;P<F.length;P+=1)M[P]=Cr(yr(r,F,P));const I=P=>_(M[P],1,1,()=>{M[P]=null});return{c(){e=A("div"),n=A("div"),t=A("h1"),t.textContent="Browse schemes",l=T(),h(o.$$.fragment),i=T(),h(u.$$.fragment),s=T(),h(a.$$.fragment),f=T(),N&&N.c(),d=T(),h(g.$$.fragment),y=T(),h(S.$$.fragment),C=T(),L&&L.c(),O=T(),E=A("ul");for(let P=0;P<M.length;P+=1)M[P].c();Ce(n,"display","flex"),Ce(n,"justify-content","space-between"),z(e,"slot","sidebar"),z(e,"class","govuk-prose")},m(P,H){$(P,e,H),k(e,n),k(n,t),k(n,l),b(o,n,null),k(e,i),b(u,e,null),k(e,s),b(a,e,null),k(e,f),N&&N.m(e,null),k(e,d),b(g,e,null),k(e,y),b(S,e,null),k(e,C),L&&L.m(e,null),k(e,O),k(e,E);for(let X=0;X<M.length;X+=1)M[X]&&M[X].m(E,null);D=!0},p(P,H){const X={};H&8&&(X.boundaryGeojson=P[3]),o.$set(X),c&&N.p(P,H);const j={};if(H&1&&(j.errorMessage=P[0]),S.$set(j),P[5].size>0?L?(L.p(P,H),H&32&&m(L,1)):(L=Sr(P),L.c(),m(L,1),L.m(e,O)):L&&(fe(),_(L,1,1,()=>{L=null}),ue()),H&34){F=qe(P[5].values());let U;for(U=0;U<F.length;U+=1){const $e=yr(P,F,U);M[U]?(M[U].p($e,H),m(M[U],1)):(M[U]=Cr($e),M[U].c(),m(M[U],1),M[U].m(E,null))}for(fe(),U=F.length;U<M.length;U+=1)I(U);ue()}},i(P){if(!D){m(o.$$.fragment,P),m(u.$$.fragment,P),m(a.$$.fragment,P),m(N),m(g.$$.fragment,P),m(S.$$.fragment,P),m(L);for(let H=0;H<F.length;H+=1)m(M[H]);D=!0}},o(P){_(o.$$.fragment,P),_(u.$$.fragment,P),_(a.$$.fragment,P),_(N),_(g.$$.fragment,P),_(S.$$.fragment,P),_(L),M=M.filter(Boolean);for(let H=0;H<M.length;H+=1)_(M[H]);D=!1},d(P){P&&p(e),v(o),v(u),v(a),N&&N.d(),v(g),v(S),L&&L.d(),Tt(M,P)}}}function X$(r){let e,n,t,l,o,i,u;return e=new ml({}),t=new q$({props:{showSchemes:r[2]}}),i=new v$({}),{c(){h(e.$$.fragment),n=T(),h(t.$$.fragment),l=T(),o=A("div"),h(i.$$.fragment),z(o,"class","top-right svelte-u44ed2")},m(s,a){b(e,s,a),$(s,n,a),b(t,s,a),$(s,l,a),$(s,o,a),b(i,o,null),u=!0},p(s,a){const f={};a&4&&(f.showSchemes=s[2]),t.$set(f)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),m(i.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),_(i.$$.fragment,s),u=!1},d(s){s&&(p(n),p(l),p(o)),v(e,s),v(t,s),v(i)}}}function J$(r){let e,n,t;return n=new fl({props:{style:r[4],startBounds:[-5.96,49.89,2.31,55.94],$$slots:{default:[X$]},$$scope:{ctx:r}}}),{c(){e=A("div"),h(n.$$.fragment),z(e,"slot","main")},m(l,o){$(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.style=l[4]),o&8196&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){_(n.$$.fragment,l),t=!1},d(l){l&&p(e),v(n)}}}function K$(r){let e,n;return e=new bl({props:{$$slots:{main:[J$],sidebar:[V$]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&8255&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Y$(r,e,n){let t,l,o;me(r,wt,g=>n(3,t=g)),me(r,Sn,g=>n(4,l=g)),me(r,Mt,g=>n(5,o=g)),mn(()=>{ul()});const i=new URLSearchParams(window.location.search);Sn.set(i.get("style")||"dataviz");let u="",s=new Set,a=!0;function f(g){try{wt.set(JSON.parse(g)),Mt.set(Ws(t)),n(0,u="")}catch(y){n(0,u=`The file you loaded is broken: ${y}`)}}function c(g){s=g,n(1,s)}function d(g){a=g,n(2,a)}return[u,s,a,t,l,o,f,c,d]}class Z$ extends q{constructor(e){super(),W(this,e,Y$,K$,G,{})}}document.body.className=document.body.className?document.body.className+" js-enabled":"js-enabled";new Z$({target:document.getElementById("app")});
