import{S as L,i as B,s as $,aI as O,e as v,g as b,h as C,j as p,aJ as R,aK as W,aL as q,t as g,l as k,o as y,d as S,K as F,v as P,aB as ae,a_ as ie,a$ as _e,F as de,f as M,m as E,p as I,E as oe,I as j,a3 as z,aC as me,b0 as K,J as be,b1 as ge,u as J,r as H,H as re,b2 as A,aP as he,b3 as pe,w as D,x as T,n as G,b4 as ke,q as ve,A as N,B as ue,a6 as we,b as ce,O as Q,aq as U,R as Ce,c as ye,k as Se,aQ as Ve,b5 as Me,a as fe}from"./index-36214108.js";function Ee(n){let e,l,t;const s=n[3].default,a=O(s,n,n[2],null);return{c(){e=v("fieldset"),l=v("div"),a&&a.c(),b(l,"class",n[0]),b(l,"data-module","govuk-checkboxes"),b(e,"class","govuk-fieldset")},m(i,r){C(i,e,r),p(e,l),a&&a.m(l,null),t=!0},p(i,[r]){a&&a.p&&(!t||r&4)&&R(a,s,i,i[2],t?q(s,i[2],r,null):W(i[2]),null)},i(i){t||(g(a,i),t=!0)},o(i){k(a,i),t=!1},d(i){i&&y(e),a&&a.d(i)}}}function Ie(n,e,l){let{$$slots:t={},$$scope:s}=e,{small:a=!1}=e,i=a?"govuk-checkboxes--small":"govuk-checkboxes";return n.$$set=r=>{"small"in r&&l(1,a=r.small),"$$scope"in r&&l(2,s=r.$$scope)},[i,a,s,t]}class it extends L{constructor(e){super(),B(this,e,Ie,Ee,$,{small:1})}}const Le=n=>({}),Y=n=>({});function Be(n){let e,l,t,s,a,i,r,o,c;const _=n[5].default,f=O(_,n,n[4],null),u=n[5].right,d=O(u,n,n[4],Y);return{c(){e=v("div"),l=v("input"),t=S(),s=v("label"),f&&f.c(),a=S(),i=v("span"),d&&d.c(),b(l,"type","checkbox"),b(l,"class","govuk-checkboxes__input"),b(l,"id",n[1]),b(s,"class","govuk-label govuk-checkboxes__label"),b(s,"for",n[1]),b(s,"title",n[2]),F(i,"float","right"),b(e,"class","govuk-checkboxes__item"),b(e,"style",n[3])},m(m,h){C(m,e,h),p(e,l),l.checked=n[0],p(e,t),p(e,s),f&&f.m(s,null),p(e,a),p(e,i),d&&d.m(i,null),r=!0,o||(c=[P(l,"change",n[7]),P(l,"change",n[6])],o=!0)},p(m,[h]){(!r||h&2)&&b(l,"id",m[1]),h&1&&(l.checked=m[0]),f&&f.p&&(!r||h&16)&&R(f,_,m,m[4],r?q(_,m[4],h,null):W(m[4]),null),(!r||h&2)&&b(s,"for",m[1]),(!r||h&4)&&b(s,"title",m[2]),d&&d.p&&(!r||h&16)&&R(d,u,m,m[4],r?q(u,m[4],h,Le):W(m[4]),Y)},i(m){r||(g(f,m),g(d,m),r=!0)},o(m){k(f,m),k(d,m),r=!1},d(m){m&&y(e),f&&f.d(m),d&&d.d(m),o=!1,ae(c)}}}function $e(n,e,l){let{$$slots:t={},$$scope:s}=e;const a=_e(t);let{id:i}=e,{checked:r}=e,{hint:o=null}=e,_=a.right!==void 0?"float: none":"";function f(d){ie.call(this,n,d)}function u(){r=this.checked,l(0,r)}return n.$$set=d=>{"id"in d&&l(1,i=d.id),"checked"in d&&l(0,r=d.checked),"hint"in d&&l(2,o=d.hint),"$$scope"in d&&l(4,s=d.$$scope)},[r,i,o,_,s,t,f,u]}class ot extends L{constructor(e){super(),B(this,e,$e,Be,$,{id:1,checked:0,hint:2})}}function Z(n,e,l){const t=n.slice();return t[9]=e[l][0],t[10]=e[l][1],t}function X(n){let e;return{c(){e=v("option"),e.__value="",J(e,e.__value)},m(l,t){C(l,e,t)},d(l){l&&y(e)}}}function x(n){let e,l=n[10]+"",t,s;return{c(){e=v("option"),t=H(l),e.__value=s=n[9],J(e,e.__value)},m(a,i){C(a,e,i),p(e,t)},p(a,i){i&8&&l!==(l=a[10]+"")&&re(t,l),i&8&&s!==(s=a[9])&&(e.__value=s,J(e,e.__value))},d(a){a&&y(e)}}}function Oe(n){let e,l,t,s,a,i,r;e=new oe({props:{errorMessage:n[6]}});let o=n[4]&&X(),c=j(n[3]),_=[];for(let f=0;f<c.length;f+=1)_[f]=x(Z(n,c,f));return{c(){M(e.$$.fragment),l=S(),t=v("select"),o&&o.c(),s=z();for(let f=0;f<_.length;f+=1)_[f].c();b(t,"class","govuk-select"),b(t,"id",n[2]),t.disabled=n[5],n[0]===void 0&&me(()=>n[8].call(t))},m(f,u){E(e,f,u),C(f,l,u),C(f,t,u),o&&o.m(t,null),p(t,s);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(t,null);K(t,n[0],!0),a=!0,i||(r=[P(t,"change",n[8]),P(t,"change",n[7])],i=!0)},p(f,u){const d={};if(u&64&&(d.errorMessage=f[6]),e.$set(d),f[4]?o||(o=X(),o.c(),o.m(t,s)):o&&(o.d(1),o=null),u&8){c=j(f[3]);let m;for(m=0;m<c.length;m+=1){const h=Z(f,c,m);_[m]?_[m].p(h,u):(_[m]=x(h),_[m].c(),_[m].m(t,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=c.length}(!a||u&4)&&b(t,"id",f[2]),(!a||u&32)&&(t.disabled=f[5]),u&9&&K(t,f[0])},i(f){a||(g(e.$$.fragment,f),a=!0)},o(f){k(e.$$.fragment,f),a=!1},d(f){f&&(y(l),y(t)),I(e,f),o&&o.d(),be(_,f),i=!1,ae(r)}}}function Re(n){let e,l;return e=new de({props:{label:n[1],id:n[2],$$slots:{default:[Oe]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},m(t,s){E(e,t,s),l=!0},p(t,[s]){const a={};s&2&&(a.label=t[1]),s&4&&(a.id=t[2]),s&8317&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function We(n,e,l){let{label:t}=e,{id:s}=e,{choices:a}=e,{emptyOption:i=!1}=e,{disabled:r=!1}=e,{errorMessage:o=""}=e,{value:c}=e;function _(u){ie.call(this,n,u)}function f(){c=ge(this),l(0,c),l(3,a)}return n.$$set=u=>{"label"in u&&l(1,t=u.label),"id"in u&&l(2,s=u.id),"choices"in u&&l(3,a=u.choices),"emptyOption"in u&&l(4,i=u.emptyOption),"disabled"in u&&l(5,r=u.disabled),"errorMessage"in u&&l(6,o=u.errorMessage),"value"in u&&l(0,c=u.value)},[c,t,s,a,i,r,o,_,f]}class rt extends L{constructor(e){super(),B(this,e,We,Re,$,{label:1,id:2,choices:3,emptyOption:4,disabled:5,errorMessage:6,value:0})}}function qe(n){let e,l,t,s,a,i,r;const o=n[3].default,c=O(o,n,n[2],null);return{c(){e=v("details"),l=v("summary"),t=v("span"),s=H(n[0]),a=S(),i=v("div"),c&&c.c(),b(t,"class","govuk-details__summary-text"),b(l,"class","govuk-details__summary"),b(i,"class","govuk-details__text"),e.open=n[1],b(e,"class","govuk-details"),b(e,"data-module","govuk-details")},m(_,f){C(_,e,f),p(e,l),p(l,t),p(t,s),p(e,a),p(e,i),c&&c.m(i,null),r=!0},p(_,[f]){(!r||f&1)&&re(s,_[0]),c&&c.p&&(!r||f&4)&&R(c,o,_,_[2],r?q(o,_[2],f,null):W(_[2]),null),(!r||f&2)&&(e.open=_[1])},i(_){r||(g(c,_),r=!0)},o(_){k(c,_),r=!1},d(_){_&&y(e),c&&c.d(_)}}}function He(n,e,l){let{$$slots:t={},$$scope:s}=e,{label:a}=e,{open:i=!1}=e;return n.$$set=r=>{"label"in r&&l(0,a=r.label),"open"in r&&l(1,i=r.open),"$$scope"in r&&l(2,s=r.$$scope)},[a,i,s,t]}class Pe extends L{constructor(e){super(),B(this,e,He,qe,$,{label:0,open:1})}}const ze=n=>({}),ee=n=>({}),De=n=>({}),te=n=>({});function Te(n){let e,l,t,s,a,i,r,o,c,_,f;const u=n[4].sidebar,d=O(u,n,n[3],te),m=n[4].main,h=O(m,n,n[3],ee);return{c(){e=v("div"),l=v("aside"),t=v("div"),d&&d.c(),s=S(),a=v("button"),a.textContent="â†’",r=S(),o=v("main"),h&&h.c(),b(t,"class","sidebar-content content-container svelte-1n0etgd"),b(a,"type","button"),b(a,"class","sidebar-toggle rounded-rect svelte-1n0etgd"),b(l,"class",i=A(n[1]?"":"collapsed")+" svelte-1n0etgd"),F(l,"--sidebarWidth",n[0]),b(o,"class","svelte-1n0etgd"),b(e,"class","overall-layout svelte-1n0etgd")},m(w,V){C(w,e,V),p(e,l),p(l,t),d&&d.m(t,null),p(l,s),p(l,a),p(e,r),p(e,o),h&&h.m(o,null),c=!0,_||(f=P(a,"click",n[2]),_=!0)},p(w,[V]){d&&d.p&&(!c||V&8)&&R(d,u,w,w[3],c?q(u,w[3],V,De):W(w[3]),te),(!c||V&2&&i!==(i=A(w[1]?"":"collapsed")+" svelte-1n0etgd"))&&b(l,"class",i),(!c||V&1)&&F(l,"--sidebarWidth",w[0]),h&&h.p&&(!c||V&8)&&R(h,m,w,w[3],c?q(m,w[3],V,ze):W(w[3]),ee)},i(w){c||(g(d,w),g(h,w),c=!0)},o(w){k(d,w),k(h,w),c=!1},d(w){w&&y(e),d&&d.d(w),h&&h.d(w),_=!1,f()}}}function Ge(n,e,l){let{$$slots:t={},$$scope:s}=e,{sidebarWidth:a="25rem"}=e,i=!0;function r(){l(1,i=!i)}return n.$$set=o=>{"sidebarWidth"in o&&l(0,a=o.sidebarWidth),"$$scope"in o&&l(3,s=o.$$scope)},[a,i,r,s,t]}class ut extends L{constructor(e){super(),B(this,e,Ge,Te,$,{sidebarWidth:0})}}function Ne(n){let e,l,t,s;const a=[Je,Fe],i=[];function r(o,c){return o[0]?0:1}return e=r(n),l=i[e]=a[e](n),{c(){l.c(),t=z()},m(o,c){i[e].m(o,c),C(o,t,c),s=!0},p(o,c){l.p(o,c)},i(o){s||(g(l),s=!0)},o(o){k(l),s=!1},d(o){o&&y(t),i[e].d(o)}}}function Fe(n){let e,l;return e=new oe({props:{errorMessage:"You shouldn't be able to view this app without being logged in!"}}),{c(){M(e.$$.fragment)},m(t,s){E(e,t,s),l=!0},p:D,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function Je(n){let e;return{c(){e=v("p"),e.textContent=`Logged in as ${n[0]}`},m(l,t){C(l,e,t)},p:D,i:D,o:D,d(l){l&&y(e)}}}function je(n){let e=he()=="Test (on GCP)",l,t,s=e&&Ne(n);return{c(){s&&s.c(),l=z()},m(a,i){s&&s.m(a,i),C(a,l,i),t=!0},p(a,[i]){e&&s.p(a,i)},i(a){t||(g(s),t=!0)},o(a){k(s),t=!1},d(a){a&&y(l),s&&s.d(a)}}}function Ke(n){return[pe.get("email")]}class ct extends L{constructor(e){super(),B(this,e,Ke,je,$,{})}}function le(n){let e;const l=n[5].default,t=O(l,n,n[4],null);return{c(){t&&t.c()},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a&16)&&R(t,l,s,s[4],e?q(l,s[4],a,null):W(s[4]),null)},i(s){e||(g(t,s),e=!0)},o(s){k(t,s),e=!1},d(s){t&&t.d(s)}}}function Ae(n){let e,l,t=n[1]&&le(n);return{c(){e=v("div"),t&&t.c(),b(e,"class","map svelte-12dpf1u")},m(s,a){C(s,e,a),t&&t.m(e,null),n[6](e),l=!0},p(s,[a]){s[1]?t?(t.p(s,a),a&2&&g(t,1)):(t=le(s),t.c(),g(t,1),t.m(e,null)):t&&(T(),k(t,1,1,()=>{t=null}),G())},i(s){l||(g(t),l=!0)},o(s){k(t),l=!1},d(s){s&&y(e),t&&t.d(),n[6](null)}}}function Qe(n,e,l){let{$$slots:t={},$$scope:s}=e,{style:a}=e,{startBounds:i=null}=e,r,o,c=!1,_=!window.location.hash;ke("setCamera",_),ve(()=>{r=new N.Map({container:o,style:`https://api.maptiler.com/maps/${a}/style.json?key=MZEJTanw3WpxRvt7qDfo`,hash:!0}),r.addControl(new N.ScaleControl({})),r.addControl(new N.NavigationControl({visualizePitch:!0}),"bottom-right"),r.on("load",()=>{l(1,c=!0),_&&i&&r.fitBounds(i,{animate:!1}),ue.set(r)}),new ResizeObserver(()=>{r.resize()}).observe(o)}),we(()=>{r.remove()});function f(u){ce[u?"unshift":"push"](()=>{o=u,l(0,o)})}return n.$$set=u=>{"style"in u&&l(2,a=u.style),"startBounds"in u&&l(3,i=u.startBounds),"$$scope"in u&&l(4,s=u.$$scope)},[o,c,a,i,s,t,f]}class ft extends L{constructor(e){super(),B(this,e,Qe,Ae,$,{style:2,startBounds:3})}}const Ue={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black",streetview:"blue"},_t=10,dt=10,Ye="/atip/browse_about/assets/camera_cursor-824d29b6.svg";function se(n){let e,l,t,s;const a=[Xe,Ze],i=[];function r(o,c){return o[0]?0:1}return e=r(n),l=i[e]=a[e](n),{c(){l.c(),t=z()},m(o,c){i[e].m(o,c),C(o,t,c),s=!0},p(o,c){let _=e;e=r(o),e===_?i[e].p(o,c):(T(),k(i[_],1,1,()=>{i[_]=null}),G(),l=i[e],l?l.p(o,c):(l=i[e]=a[e](o),l.c()),g(l,1),l.m(t.parentNode,t))},i(o){s||(g(l),s=!0)},o(o){k(l),s=!1},d(o){o&&y(t),i[e].d(o)}}}function Ze(n){let e,l;return e=new fe({props:{$$slots:{default:[xe]},$$scope:{ctx:n}}}),e.$on("click",n[3]),{c(){M(e.$$.fragment)},m(t,s){E(e,t,s),l=!0},p(t,s){const a={};s&512&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function Xe(n){let e,l;return e=new fe({props:{$$slots:{default:[et]},$$scope:{ctx:n}}}),e.$on("click",n[2]),{c(){M(e.$$.fragment)},m(t,s){E(e,t,s),l=!0},p(t,s){const a={};s&512&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function xe(n){let e;return{c(){e=H("Disable Street View")},m(l,t){C(l,e,t)},d(l){l&&y(e)}}}function et(n){let e;return{c(){e=H("Enable Street View")},m(l,t){C(l,e,t)},d(l){l&&y(e)}}}function ne(n){let e,l,t,s,a;function i(o){n[6](o)}let r={legend:"Source",id:"streetViewImagery",choices:[["google","Google Street View"],["bing","Bing Streetside"]]};return n[4].streetViewImagery!==void 0&&(r.value=n[4].streetViewImagery),e=new Ce({props:r}),ce.push(()=>ye(e,"value",i)),s=new Pe({props:{label:"Help",$$slots:{default:[lt]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=S(),M(s.$$.fragment)},m(o,c){E(e,o,c),C(o,t,c),E(s,o,c),a=!0},p(o,c){const _={};!l&&c&16&&(l=!0,_.value=o[4].streetViewImagery,Se(()=>l=!1)),e.$set(_);const f={};c&512&&(f.$$scope={dirty:c,ctx:o}),s.$set(f)},i(o){a||(g(e.$$.fragment,o),g(s.$$.fragment,o),a=!0)},o(o){k(e.$$.fragment,o),k(s.$$.fragment,o),a=!1},d(o){o&&y(t),I(e,o),I(s,o)}}}function tt(n){let e;return{c(){e=H("Luc Chaissac")},m(l,t){C(l,e,t)},d(l){l&&y(e)}}}function lt(n){let e,l,t,s,a,i,r,o,c;return o=new Ve({props:{href:"https://icon-icons.com/icon/screenshot-cursor-camera/100181",$$slots:{default:[tt]},$$scope:{ctx:n}}}),{c(){e=v("ul"),l=v("li"),l.innerHTML=`<b>Click</b>
        on the map to open a new tab with a 3rd-party imagery provider`,t=S(),s=v("li"),s.innerHTML=`Press <b>Escape</b>
        to exit this mode`,a=S(),i=v("li"),r=H("Cursor by "),M(o.$$.fragment)},m(_,f){C(_,e,f),p(e,l),p(e,t),p(e,s),p(e,a),p(e,i),p(i,r),E(o,i,null),c=!0},p(_,f){const u={};f&512&&(u.$$scope={dirty:f,ctx:_}),o.$set(u)},i(_){c||(g(o.$$.fragment,_),c=!0)},o(_){k(o.$$.fragment,_),c=!1},d(_){_&&y(e),I(o)}}}function st(n){let e,l,t,s=n[1]&&se(n),a=!n[0]&&ne(n);return{c(){s&&s.c(),e=S(),a&&a.c(),l=z()},m(i,r){s&&s.m(i,r),C(i,e,r),a&&a.m(i,r),C(i,l,r),t=!0},p(i,[r]){i[1]?s?(s.p(i,r),r&2&&g(s,1)):(s=se(i),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(T(),k(s,1,1,()=>{s=null}),G()),i[0]?a&&(T(),k(a,1,1,()=>{a=null}),G()):a?(a.p(i,r),r&1&&g(a,1)):(a=ne(i),a.c(),g(a,1),a.m(l.parentNode,l))},i(i){t||(g(s),g(a),t=!0)},o(i){k(s),k(a),t=!1},d(i){i&&(y(e),y(l)),s&&s.d(i),a&&a.d(i)}}}function nt(n,e,l){let t,s;Q(n,ue,u=>l(8,t=u)),Q(n,U,u=>l(4,s=u));let{displayEnableButton:a}=e,{isInactive:i}=e,r=[];function o(u){if(i)return;let d=u.lngLat.lng,m=u.lngLat.lat;s.streetViewImagery=="google"?window.open(`http://maps.google.com/maps?q=&layer=c&cbll=${m},${d}&cbp=11,0,0,0,0`,"_blank"):s.streetViewImagery=="bing"&&window.open(`https://www.bing.com/maps?cp=${m}~${d}&style=x`,"_blank")}function c(){l(0,i=!1),t.on("click",o),t.getCanvas().style.cursor=`url(${Ye}), auto`,r=Me();for(let u of r)u.setProperty(t,"line-color",Ue.streetview)}function _(){l(0,i=!0),t.off("click",o),t.getCanvas().style.cursor="inherit";for(let u of r)u.returnToDefaultPaintValues(t)}function f(u){n.$$.not_equal(s.streetViewImagery,u)&&(s.streetViewImagery=u,U.set(s))}return n.$$set=u=>{"displayEnableButton"in u&&l(1,a=u.displayEnableButton),"isInactive"in u&&l(0,i=u.isInactive)},[i,a,c,_,s,o,f]}class mt extends L{constructor(e){super(),B(this,e,nt,st,$,{displayEnableButton:1,isInactive:0,handleMapClickEvent:5,enableStreetView:2,disableStreetView:3})}get handleMapClickEvent(){return this.$$.ctx[5]}get enableStreetView(){return this.$$.ctx[2]}get disableStreetView(){return this.$$.ctx[3]}}export{Pe as C,ut as L,ft as M,mt as S,_t as a,it as b,Ue as c,ot as d,rt as e,ct as f,dt as l};
