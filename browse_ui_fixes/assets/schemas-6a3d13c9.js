import{S as C,i as L,s as B,H as O,e as g,h as m,j as y,k as p,L as E,M,N as z,t as b,l as k,p as S,f as j,w as I,aL as fe,Q as de,F as ve,g as H,m as R,q as G,V as N,ad as ke,aM as we,aY as V,W as _e,aZ as ye,v as F,u as T,U as A,b as U,c as me,o as ge,X,x as W,R as Se,aH as pe,a_ as Y,y as he,n as be,a$ as Ce,r as Le,B as Z,C as Q,ag as Be,a as $e,_ as J,D as Oe,a2 as Ee,a0 as Me,a8 as K,a7 as x,a1 as ze,ac as je,ab as De,aa as ee,az as te}from"./data_getter-d21d97c4.js";function Pe(s){let e,n,t;const l=s[3].default,o=O(l,s,s[2],null);return{c(){e=g("fieldset"),n=g("div"),o&&o.c(),m(n,"class",s[0]),m(n,"data-module","govuk-checkboxes"),m(e,"class","govuk-fieldset")},m(a,r){y(a,e,r),p(e,n),o&&o.m(n,null),t=!0},p(a,[r]){o&&o.p&&(!t||r&4)&&E(o,l,a,a[2],t?z(l,a[2],r,null):M(a[2]),null)},i(a){t||(b(o,a),t=!0)},o(a){k(o,a),t=!1},d(a){a&&S(e),o&&o.d(a)}}}function Ie(s,e,n){let{$$slots:t={},$$scope:l}=e,{small:o=!1}=e,a=o?"govuk-checkboxes--small":"govuk-checkboxes";return s.$$set=r=>{"small"in r&&n(1,o=r.small),"$$scope"in r&&n(2,l=r.$$scope)},[a,o,l,t]}class ht extends C{constructor(e){super(),L(this,e,Ie,Pe,B,{small:1})}}const He=s=>({}),ne=s=>({});function Re(s){let e,n,t,l,o,a,r,i;const u=s[4].default,c=O(u,s,s[3],null),_=s[4].right,d=O(_,s,s[3],ne);return{c(){e=g("div"),n=g("input"),t=j(),l=g("label"),c&&c.c(),o=j(),d&&d.c(),m(n,"type","checkbox"),m(n,"class","govuk-checkboxes__input"),m(n,"id",s[1]),m(l,"class","govuk-label govuk-checkboxes__label"),m(l,"for",s[1]),m(l,"title",s[2]),m(e,"class","govuk-checkboxes__item")},m(f,v){y(f,e,v),p(e,n),n.checked=s[0],p(e,t),p(e,l),c&&c.m(l,null),p(e,o),d&&d.m(e,null),a=!0,r||(i=[I(n,"change",s[6]),I(n,"change",s[5])],r=!0)},p(f,[v]){(!a||v&2)&&m(n,"id",f[1]),v&1&&(n.checked=f[0]),c&&c.p&&(!a||v&8)&&E(c,u,f,f[3],a?z(u,f[3],v,null):M(f[3]),null),(!a||v&2)&&m(l,"for",f[1]),(!a||v&4)&&m(l,"title",f[2]),d&&d.p&&(!a||v&8)&&E(d,_,f,f[3],a?z(_,f[3],v,He):M(f[3]),ne)},i(f){a||(b(c,f),b(d,f),a=!0)},o(f){k(c,f),k(d,f),a=!1},d(f){f&&S(e),c&&c.d(f),d&&d.d(f),r=!1,fe(i)}}}function Ge(s,e,n){let{$$slots:t={},$$scope:l}=e,{id:o}=e,{checked:a}=e,{hint:r=null}=e;function i(c){de.call(this,s,c)}function u(){a=this.checked,n(0,a)}return s.$$set=c=>{"id"in c&&n(1,o=c.id),"checked"in c&&n(0,a=c.checked),"hint"in c&&n(2,r=c.hint),"$$scope"in c&&n(3,l=c.$$scope)},[a,o,r,l,t,i,u]}class bt extends C{constructor(e){super(),L(this,e,Ge,Re,B,{id:1,checked:0,hint:2})}}function le(s,e,n){const t=s.slice();return t[8]=e[n][0],t[9]=e[n][1],t}function se(s){let e;return{c(){e=g("option"),e.__value="",F(e,e.__value)},m(n,t){y(n,e,t)},d(n){n&&S(e)}}}function oe(s){let e,n=s[9]+"",t,l;return{c(){e=g("option"),t=T(n),e.__value=l=s[8],F(e,e.__value)},m(o,a){y(o,e,a),p(e,t)},p(o,a){a&8&&n!==(n=o[9]+"")&&A(t,n),a&8&&l!==(l=o[8])&&(e.__value=l,F(e,e.__value))},d(o){o&&S(e)}}}function Ne(s){let e,n,t,l,o=s[4]&&se(),a=N(s[3]),r=[];for(let i=0;i<a.length;i+=1)r[i]=oe(le(s,a,i));return{c(){e=g("select"),o&&o.c(),n=ke();for(let i=0;i<r.length;i+=1)r[i].c();m(e,"class","govuk-select"),m(e,"id",s[2]),e.disabled=s[5],s[0]===void 0&&we(()=>s[7].call(e))},m(i,u){y(i,e,u),o&&o.m(e,null),p(e,n);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);V(e,s[0],!0),t||(l=[I(e,"change",s[7]),I(e,"change",s[6])],t=!0)},p(i,u){if(i[4]?o||(o=se(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),u&8){a=N(i[3]);let c;for(c=0;c<a.length;c+=1){const _=le(i,a,c);r[c]?r[c].p(_,u):(r[c]=oe(_),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=a.length}u&4&&m(e,"id",i[2]),u&32&&(e.disabled=i[5]),u&9&&V(e,i[0])},d(i){i&&S(e),o&&o.d(),_e(r,i),t=!1,fe(l)}}}function Ze(s){let e,n;return e=new ve({props:{label:s[1],id:s[2],$$slots:{default:[Ne]},$$scope:{ctx:s}}}),{c(){H(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},p(t,[l]){const o={};l&2&&(o.label=t[1]),l&4&&(o.id=t[2]),l&4157&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function qe(s,e,n){let{label:t}=e,{id:l}=e,{choices:o}=e,{emptyOption:a=!1}=e,{disabled:r=!1}=e,{value:i}=e;function u(_){de.call(this,s,_)}function c(){i=ye(this),n(0,i),n(3,o)}return s.$$set=_=>{"label"in _&&n(1,t=_.label),"id"in _&&n(2,l=_.id),"choices"in _&&n(3,o=_.choices),"emptyOption"in _&&n(4,a=_.emptyOption),"disabled"in _&&n(5,r=_.disabled),"value"in _&&n(0,i=_.value)},[i,t,l,o,a,r,u,c]}class Fe extends C{constructor(e){super(),L(this,e,qe,Ze,B,{label:1,id:2,choices:3,emptyOption:4,disabled:5,value:0})}}function We(s){let e,n,t;function l(a){s[2](a)}let o={label:"Basemap",id:"basemap",choices:[["streets","Streets"],["hybrid","Satellite"],["dataviz","Dataviz"]]};return s[0]!==void 0&&(o.value=s[0]),e=new Fe({props:o}),U.push(()=>me(e,"value",l)),e.$on("change",s[1]),{c(){H(e.$$.fragment)},m(a,r){R(e,a,r),t=!0},p(a,[r]){const i={};!n&&r&1&&(n=!0,i.value=a[0],ge(()=>n=!1)),e.$set(i)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){k(e.$$.fragment,a),t=!1},d(a){G(e,a)}}}function Je(s,e,n){let{style:t}=e;function l(){let a=new URLSearchParams(window.location.search);a.set("style",t);let r=`${window.location.pathname}?${a.toString()}${window.location.hash}`;window.location.href=r}function o(a){t=a,n(0,t)}return s.$$set=a=>{"style"in a&&n(0,t=a.style)},[t,l,o]}class vt extends C{constructor(e){super(),L(this,e,Je,We,B,{style:0})}}function Te(s){let e,n,t,l,o,a,r;const i=s[3].default,u=O(i,s,s[2],null);return{c(){e=g("details"),n=g("summary"),t=g("span"),l=T(s[0]),o=j(),a=g("div"),u&&u.c(),m(t,"class","govuk-details__summary-text"),m(n,"class","govuk-details__summary"),m(a,"class","govuk-details__text"),e.open=s[1],m(e,"class","govuk-details"),m(e,"data-module","govuk-details")},m(c,_){y(c,e,_),p(e,n),p(n,t),p(t,l),p(e,o),p(e,a),u&&u.m(a,null),r=!0},p(c,[_]){(!r||_&1)&&A(l,c[0]),u&&u.p&&(!r||_&4)&&E(u,i,c,c[2],r?z(i,c[2],_,null):M(c[2]),null),(!r||_&2)&&(e.open=c[1])},i(c){r||(b(u,c),r=!0)},o(c){k(u,c),r=!1},d(c){c&&S(e),u&&u.d(c)}}}function Ae(s,e,n){let{$$slots:t={},$$scope:l}=e,{label:o}=e,{open:a=!1}=e;return s.$$set=r=>{"label"in r&&n(0,o=r.label),"open"in r&&n(1,a=r.open),"$$scope"in r&&n(2,l=r.$$scope)},[o,a,l,t]}class Ue extends C{constructor(e){super(),L(this,e,Ae,Te,B,{label:0,open:1})}}function Qe(s){let e;return{c(){e=g("span"),m(e,"class","svelte-kzgqtg"),X(e,"background",s[0])},m(n,t){y(n,e,t)},p(n,[t]){t&1&&X(e,"background",n[0])},i:W,o:W,d(n){n&&S(e)}}}function Ve(s,e,n){let{color:t}=e;return s.$$set=l=>{"color"in l&&n(0,t=l.color)},[t]}class Xe extends C{constructor(e){super(),L(this,e,Ve,Qe,B,{color:0})}}const Ye="/atip/browse_ui_fixes/assets/help-d011708a.svg";function Ke(s){let e,n;const t=s[1].default,l=O(t,s,s[4],null);return{c(){e=g("div"),l&&l.c(),m(e,"class","govuk-prose")},m(o,a){y(o,e,a),l&&l.m(e,null),n=!0},p(o,a){l&&l.p&&(!n||a&16)&&E(l,t,o,o[4],n?z(t,o[4],a,null):M(o[4]),null)},i(o){n||(b(l,o),n=!0)},o(o){k(l,o),n=!1},d(o){o&&S(e),l&&l.d(o)}}}function xe(s){let e,n,t,l,o,a,r,i,u;function c(d){s[3](d)}let _={title:"Help",$$slots:{default:[Ke]},$$scope:{ctx:s}};return s[0]!==void 0&&(_.open=s[0]),o=new Se({props:_}),U.push(()=>me(o,"open",c)),{c(){e=g("button"),n=g("img"),l=j(),H(o.$$.fragment),pe(n.src,t=Ye)||m(n,"src",t),m(n,"title","Help"),m(n,"alt","Help")},m(d,f){y(d,e,f),p(e,n),y(d,l,f),R(o,d,f),r=!0,i||(u=I(e,"click",s[2]),i=!0)},p(d,[f]){const v={};f&16&&(v.$$scope={dirty:f,ctx:d}),!a&&f&1&&(a=!0,v.open=d[0],ge(()=>a=!1)),o.$set(v)},i(d){r||(b(o.$$.fragment,d),r=!0)},o(d){k(o.$$.fragment,d),r=!1},d(d){d&&(S(e),S(l)),G(o,d),i=!1,u()}}}function et(s,e,n){let{$$slots:t={},$$scope:l}=e,o=!1;const a=()=>n(0,o=!0);function r(i){o=i,n(0,o)}return s.$$set=i=>{"$$scope"in i&&n(4,l=i.$$scope)},[o,t,a,r,l]}class kt extends C{constructor(e){super(),L(this,e,et,xe,B,{})}}const tt=s=>({}),ae=s=>({}),nt=s=>({}),ie=s=>({});function lt(s){let e,n,t,l,o,a,r,i,u,c,_;const d=s[3].sidebar,f=O(d,s,s[2],ie),v=s[3].main,$=O(v,s,s[2],ae);return{c(){e=g("div"),n=g("aside"),t=g("div"),f&&f.c(),l=j(),o=g("button"),o.textContent="â†’",r=j(),i=g("main"),$&&$.c(),m(t,"class","sidebar-content content-container svelte-ect12w"),m(o,"type","button"),m(o,"class","sidebar-toggle rounded-rect svelte-ect12w"),m(n,"class",a=Y(s[0]?"":"collapsed")+" svelte-ect12w"),m(i,"class","svelte-ect12w"),m(e,"class","overall-layout svelte-ect12w")},m(h,D){y(h,e,D),p(e,n),p(n,t),f&&f.m(t,null),p(n,l),p(n,o),p(e,r),p(e,i),$&&$.m(i,null),u=!0,c||(_=I(o,"click",s[1]),c=!0)},p(h,[D]){f&&f.p&&(!u||D&4)&&E(f,d,h,h[2],u?z(d,h[2],D,nt):M(h[2]),ie),(!u||D&1&&a!==(a=Y(h[0]?"":"collapsed")+" svelte-ect12w"))&&m(n,"class",a),$&&$.p&&(!u||D&4)&&E($,v,h,h[2],u?z(v,h[2],D,tt):M(h[2]),ae)},i(h){u||(b(f,h),b($,h),u=!0)},o(h){k(f,h),k($,h),u=!1},d(h){h&&S(e),f&&f.d(h),$&&$.d(h),c=!1,_()}}}function st(s,e,n){let{$$slots:t={},$$scope:l}=e,o=!0;function a(){n(0,o=!o)}return s.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[o,a,l,t]}class wt extends C{constructor(e){super(),L(this,e,st,lt,B,{})}}function re(s,e,n){const t=s.slice();return t[1]=e[n][0],t[2]=e[n][1],t}function ce(s){let e,n,t,l=s[1]+"",o,a,r;return n=new Xe({props:{color:s[2]}}),{c(){e=g("li"),H(n.$$.fragment),t=j(),o=T(l),a=j()},m(i,u){y(i,e,u),R(n,e,null),p(e,t),p(e,o),p(e,a),r=!0},p(i,u){const c={};u&1&&(c.color=i[2]),n.$set(c),(!r||u&1)&&l!==(l=i[1]+"")&&A(o,l)},i(i){r||(b(n.$$.fragment,i),r=!0)},o(i){k(n.$$.fragment,i),r=!1},d(i){i&&S(e),G(n)}}}function ot(s){let e,n,t=N(s[0]),l=[];for(let a=0;a<t.length;a+=1)l[a]=ce(re(s,t,a));const o=a=>k(l[a],1,1,()=>{l[a]=null});return{c(){e=g("ul");for(let a=0;a<l.length;a+=1)l[a].c()},m(a,r){y(a,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);n=!0},p(a,r){if(r&1){t=N(a[0]);let i;for(i=0;i<t.length;i+=1){const u=re(a,t,i);l[i]?(l[i].p(u,r),b(l[i],1)):(l[i]=ce(u),l[i].c(),b(l[i],1),l[i].m(e,null))}for(he(),i=t.length;i<l.length;i+=1)o(i);be()}},i(a){if(!n){for(let r=0;r<t.length;r+=1)b(l[r]);n=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)k(l[r]);n=!1},d(a){a&&S(e),_e(l,a)}}}function at(s){let e,n;return e=new Ue({props:{label:"Legend",$$slots:{default:[ot]},$$scope:{ctx:s}}}),{c(){H(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},p(t,[l]){const o={};l&33&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function it(s,e,n){let{rows:t}=e;return s.$$set=l=>{"rows"in l&&n(0,t=l.rows)},[t]}class yt extends C{constructor(e){super(),L(this,e,it,at,B,{rows:0})}}function ue(s){let e;const n=s[5].default,t=O(n,s,s[4],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&16)&&E(t,n,l,l[4],e?z(n,l[4],o,null):M(l[4]),null)},i(l){e||(b(t,l),e=!0)},o(l){k(t,l),e=!1},d(l){t&&t.d(l)}}}function rt(s){let e,n,t=s[1]&&ue(s);return{c(){e=g("div"),t&&t.c(),m(e,"class","map svelte-12dpf1u")},m(l,o){y(l,e,o),t&&t.m(e,null),s[6](e),n=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&b(t,1)):(t=ue(l),t.c(),b(t,1),t.m(e,null)):t&&(he(),k(t,1,1,()=>{t=null}),be())},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){l&&S(e),t&&t.d(),s[6](null)}}}function ct(s,e,n){let{$$slots:t={},$$scope:l}=e,{style:o}=e,{startBounds:a=null}=e,r,i,u=!1,c=!window.location.hash;Ce("setCamera",c),Le(()=>{r=new Z.Map({container:i,style:`https://api.maptiler.com/maps/${o}/style.json?key=MZEJTanw3WpxRvt7qDfo`,hash:!0}),r.addControl(new Z.ScaleControl({})),r.addControl(new Z.NavigationControl({visualizePitch:!0}),"bottom-right"),r.on("load",()=>{n(1,u=!0),c&&a&&r.fitBounds(a,{animate:!1}),Q.set(r)}),new ResizeObserver(()=>{r.resize()}).observe(i)}),Be(()=>{r.remove()});function _(d){U[d?"unshift":"push"](()=>{i=d,n(0,i)})}return s.$$set=d=>{"style"in d&&n(2,o=d.style),"startBounds"in d&&n(3,a=d.startBounds),"$$scope"in d&&n(4,l=d.$$scope)},[i,u,o,a,l,t,_]}class St extends C{constructor(e){super(),L(this,e,ct,rt,B,{style:2,startBounds:3})}}const ut="/atip/browse_ui_fixes/assets/zoom_out_map-b2e1091a.svg";function ft(s){let e,n;return{c(){e=g("img"),pe(e.src,n=ut)||m(e,"src",n),m(e,"alt","Zoom to show entire boundary")},m(t,l){y(t,e,l)},p:W,d(t){t&&S(e)}}}function dt(s){let e,n;return e=new $e({props:{title:"Zoom to show entire boundary",$$slots:{default:[ft]},$$scope:{ctx:s}}}),e.$on("click",s[0]),{c(){H(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},p(t,[l]){const o={};l&8&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function _t(s,e,n){let t;J(s,Q,a=>n(2,t=a));let{boundaryGeojson:l}=e;function o(){t.fitBounds(Oe(l),{padding:20,animate:!0,duration:500})}return s.$$set=a=>{"boundaryGeojson"in a&&n(1,l=a.boundaryGeojson)},[o,l]}class Ct extends C{constructor(e){super(),L(this,e,_t,dt,B,{boundaryGeojson:1})}}const w={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black"},mt=10,q=10;let P="interventions";function gt(s,e,n){let t,l;J(s,Q,i=>n(1,t=i)),J(s,Ee,i=>n(2,l=i));let{colorInterventions:o}=e;Me(t,P,l);const a=["!=","hide_while_editing",!0];return K(t,{id:"interventions-points",source:P,filter:["all",je,a,["!=","endpoint",!0]],color:o,radius:mt}),x(t,{id:"interventions-lines",source:P,filter:["all",De,a],color:o,width:q}),K(t,{id:"interventions-lines-endpoints",source:P,filter:["==","endpoint",!0],radius:.5*q,opacity:0,strokeColor:w.lineEndpointColor,strokeWidth:2}),ze(t,{id:"interventions-polygons",source:P,filter:["all",ee,a],color:o,opacity:.2}),x(t,{id:"interventions-polygon-outlines",source:P,filter:["all",ee,a],color:o,opacity:.5,width:.7*q}),s.$$set=i=>{"colorInterventions"in i&&n(0,o=i.colorInterventions)},s.$$.update=()=>{if(s.$$.dirty&6){let i=JSON.parse(JSON.stringify(l)),u=[];for(let c of i.features)if(c.geometry.type=="LineString"&&!c.properties.hide_while_editing)for(let _ of[c.geometry.coordinates[0],c.geometry.coordinates[c.geometry.coordinates.length-1]])u.push({type:"Feature",properties:{endpoint:!0},geometry:{type:"Point",coordinates:_}});i.features=i.features.concat(u),t.getSource(P).setData(i)}},[o,t,l]}class Lt extends C{constructor(e){super(),L(this,e,gt,null,B,{colorInterventions:0})}}function Bt(s){return{v1:"Scheme Design",v2:"Experimental Scheme Design",planning:"Development Planning",criticals:"Critical Issues",atf4:"ATF4 Scheme"}[s]}function $t(s){return{v1:"an intervention",v2:"an intervention",planning:"a development",criticals:"a critical issue",atf4:"an intervention"}[s]}function Ot(s){return{v1:"interventions",v2:"interventions",planning:"developments",criticals:"critical issues",atf4:"interventions"}[s]}function Et(s){return s=="planning"?te(["get","reference_type",["get","planning"]],{preapp:w.preapp,outline:w.outline,"reserved matters":w["reserved matters"],"local plan":w["local plan"]},"black"):te(["get","intervention_type"],{area:w.area,route:w.route,crossing:w.crossing,other:w.other},"white")}function Mt(s){return s=="planning"?[["Preapp",w.preapp],["Outline",w.outline],["Reserved matters",w["reserved matters"]],["Local plan",w["local plan"]]]:[["Areas",w.area],["Routes",w.route],["Crossings",w.crossing],["Other",w.other]]}export{vt as B,Ue as C,kt as H,Lt as I,wt as L,St as M,Fe as S,Ct as Z,mt as a,ht as b,w as c,bt as d,Ot as e,Bt as f,Et as g,yt as h,Mt as i,Xe as j,q as l,$t as s};
