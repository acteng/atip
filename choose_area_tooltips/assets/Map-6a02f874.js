import{S as B,i as R,s as z,D as q,e as p,h as _,j as g,k as v,I as D,J,K as F,t as k,l as y,p as h,f as P,w as T,F as fe,g as O,m as j,q as E,R as Y,ab as de,aK as _e,aY as Q,T as me,aJ as pe,O as ge,aZ as he,v as A,u as M,Q as ie,b as re,c as be,o as ve,U as V,x as I,a_ as H,a as ke,Y as K,B as U,V as ye,C as we,a0 as $e,_ as Ce,a6 as X,a5 as x,$ as Se,aa as Le,a9 as Oe,a8 as ee,y as ce,n as ue,a$ as je,r as Ee,A as W,ae as Be}from"./MapTooltips-e33dd33e.js";function Re(o){let e,l,t;const n=o[3].default,s=q(n,o,o[2],null);return{c(){e=p("fieldset"),l=p("div"),s&&s.c(),_(l,"class",o[0]),_(l,"data-module","govuk-checkboxes"),_(e,"class","govuk-fieldset")},m(a,r){g(a,e,r),v(e,l),s&&s.m(l,null),t=!0},p(a,[r]){s&&s.p&&(!t||r&4)&&D(s,n,a,a[2],t?F(n,a[2],r,null):J(a[2]),null)},i(a){t||(k(s,a),t=!0)},o(a){y(s,a),t=!1},d(a){a&&h(e),s&&s.d(a)}}}function ze(o,e,l){let{$$slots:t={},$$scope:n}=e,{small:s=!1}=e,a=s?"govuk-checkboxes--small":"govuk-checkboxes";return o.$$set=r=>{"small"in r&&l(1,s=r.small),"$$scope"in r&&l(2,n=r.$$scope)},[a,s,n,t]}class ut extends B{constructor(e){super(),R(this,e,ze,Re,z,{small:1})}}function Me(o){let e,l,t,n,s,a,r;const u=o[4].default,c=q(u,o,o[3],null);return{c(){e=p("div"),l=p("input"),t=P(),n=p("label"),c&&c.c(),_(l,"type","checkbox"),_(l,"class","govuk-checkboxes__input"),_(l,"id",o[1]),_(n,"class","govuk-label govuk-checkboxes__label"),_(n,"for",o[1]),_(n,"title",o[2]),_(e,"class","govuk-checkboxes__item")},m(i,d){g(i,e,d),v(e,l),l.checked=o[0],v(e,t),v(e,n),c&&c.m(n,null),s=!0,a||(r=T(l,"change",o[5]),a=!0)},p(i,[d]){(!s||d&2)&&_(l,"id",i[1]),d&1&&(l.checked=i[0]),c&&c.p&&(!s||d&8)&&D(c,u,i,i[3],s?F(u,i[3],d,null):J(i[3]),null),(!s||d&2)&&_(n,"for",i[1]),(!s||d&4)&&_(n,"title",i[2])},i(i){s||(k(c,i),s=!0)},o(i){y(c,i),s=!1},d(i){i&&h(e),c&&c.d(i),a=!1,r()}}}function Pe(o,e,l){let{$$slots:t={},$$scope:n}=e,{id:s}=e,{checked:a}=e,{hint:r}=e;function u(){a=this.checked,l(0,a)}return o.$$set=c=>{"id"in c&&l(1,s=c.id),"checked"in c&&l(0,a=c.checked),"hint"in c&&l(2,r=c.hint),"$$scope"in c&&l(3,n=c.$$scope)},[a,s,r,n,t,u]}class ft extends B{constructor(e){super(),R(this,e,Pe,Me,z,{id:1,checked:0,hint:2})}}function te(o,e,l){const t=o.slice();return t[8]=e[l][0],t[9]=e[l][1],t}function le(o){let e;return{c(){e=p("option"),e.__value="",A(e,e.__value)},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function ne(o){let e,l=o[9]+"",t,n;return{c(){e=p("option"),t=M(l),e.__value=n=o[8],A(e,e.__value)},m(s,a){g(s,e,a),v(e,t)},p(s,a){a&8&&l!==(l=s[9]+"")&&ie(t,l),a&8&&n!==(n=s[8])&&(e.__value=n,A(e,e.__value))},d(s){s&&h(e)}}}function Ge(o){let e,l,t,n,s=o[4]&&le(),a=Y(o[3]),r=[];for(let u=0;u<a.length;u+=1)r[u]=ne(te(o,a,u));return{c(){e=p("select"),s&&s.c(),l=de();for(let u=0;u<r.length;u+=1)r[u].c();_(e,"class","govuk-select"),_(e,"id",o[2]),e.disabled=o[5],o[0]===void 0&&_e(()=>o[7].call(e))},m(u,c){g(u,e,c),s&&s.m(e,null),v(e,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);Q(e,o[0],!0),t||(n=[T(e,"change",o[7]),T(e,"change",o[6])],t=!0)},p(u,c){if(u[4]?s||(s=le(),s.c(),s.m(e,l)):s&&(s.d(1),s=null),c&8){a=Y(u[3]);let i;for(i=0;i<a.length;i+=1){const d=te(u,a,i);r[i]?r[i].p(d,c):(r[i]=ne(d),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=a.length}c&4&&_(e,"id",u[2]),c&32&&(e.disabled=u[5]),c&9&&Q(e,u[0])},d(u){u&&h(e),s&&s.d(),me(r,u),t=!1,pe(n)}}}function Ze(o){let e,l;return e=new fe({props:{label:o[1],id:o[2],$$slots:{default:[Ge]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(t,n){j(e,t,n),l=!0},p(t,[n]){const s={};n&2&&(s.label=t[1]),n&4&&(s.id=t[2]),n&4157&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function qe(o,e,l){let{label:t}=e,{id:n}=e,{choices:s}=e,{emptyOption:a=!1}=e,{disabled:r=!1}=e,{value:u}=e;function c(d){ge.call(this,o,d)}function i(){u=he(this),l(0,u),l(3,s)}return o.$$set=d=>{"label"in d&&l(1,t=d.label),"id"in d&&l(2,n=d.id),"choices"in d&&l(3,s=d.choices),"emptyOption"in d&&l(4,a=d.emptyOption),"disabled"in d&&l(5,r=d.disabled),"value"in d&&l(0,u=d.value)},[u,t,n,s,a,r,c,i]}class De extends B{constructor(e){super(),R(this,e,qe,Ze,z,{label:1,id:2,choices:3,emptyOption:4,disabled:5,value:0})}}function Je(o){let e,l,t;function n(a){o[2](a)}let s={label:"Basemap",id:"basemap",choices:[["streets","Streets"],["hybrid","Satellite"]]};return o[0]!==void 0&&(s.value=o[0]),e=new De({props:s}),re.push(()=>be(e,"value",n)),e.$on("change",o[1]),{c(){O(e.$$.fragment)},m(a,r){j(e,a,r),t=!0},p(a,[r]){const u={};!l&&r&1&&(l=!0,u.value=a[0],ve(()=>l=!1)),e.$set(u)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){E(e,a)}}}function Fe(o,e,l){let{style:t}=e;function n(){let a=new URLSearchParams(window.location.search);a.set("style",t);let r=`${window.location.pathname}?${a.toString()}${window.location.hash}`;window.location.href=r}function s(a){t=a,l(0,t)}return o.$$set=a=>{"style"in a&&l(0,t=a.style)},[t,n,s]}class dt extends B{constructor(e){super(),R(this,e,Fe,Je,z,{style:0})}}function Ie(o){let e,l,t,n,s,a,r;const u=o[3].default,c=q(u,o,o[2],null);return{c(){e=p("details"),l=p("summary"),t=p("span"),n=M(o[0]),s=P(),a=p("div"),c&&c.c(),_(t,"class","govuk-details__summary-text"),_(l,"class","govuk-details__summary"),_(a,"class","govuk-details__text"),e.open=o[1],_(e,"class","govuk-details"),_(e,"data-module","govuk-details")},m(i,d){g(i,e,d),v(e,l),v(l,t),v(t,n),v(e,s),v(e,a),c&&c.m(a,null),r=!0},p(i,[d]){(!r||d&1)&&ie(n,i[0]),c&&c.p&&(!r||d&4)&&D(c,u,i,i[2],r?F(u,i[2],d,null):J(i[2]),null),(!r||d&2)&&(e.open=i[1])},i(i){r||(k(c,i),r=!0)},o(i){y(c,i),r=!1},d(i){i&&h(e),c&&c.d(i)}}}function Te(o,e,l){let{$$slots:t={},$$scope:n}=e,{label:s}=e,{open:a=!1}=e;return o.$$set=r=>{"label"in r&&l(0,s=r.label),"open"in r&&l(1,a=r.open),"$$scope"in r&&l(2,n=r.$$scope)},[s,a,n,t]}class We extends B{constructor(e){super(),R(this,e,Te,Ie,z,{label:0,open:1})}}function Ne(o){let e;return{c(){e=p("span"),_(e,"class","svelte-kzgqtg"),V(e,"background",o[0])},m(l,t){g(l,e,t)},p(l,[t]){t&1&&V(e,"background",l[0])},i:I,o:I,d(l){l&&h(e)}}}function Ae(o,e,l){let{color:t}=e;return o.$$set=n=>{"color"in n&&l(0,t=n.color)},[t]}class G extends B{constructor(e){super(),R(this,e,Ae,Ne,z,{color:0})}}const Ke=o=>({}),se=o=>({}),Ue=o=>({}),oe=o=>({});function Ye(o){let e,l,t,n,s,a,r,u,c,i,d;const w=o[3].sidebar,b=q(w,o,o[2],oe),$=o[3].main,C=q($,o,o[2],se);return{c(){e=p("div"),l=p("aside"),t=p("div"),b&&b.c(),n=P(),s=p("button"),s.textContent="â†’",r=P(),u=p("main"),C&&C.c(),_(t,"class","sidebar-content content-container svelte-ect12w"),_(s,"type","button"),_(s,"class","sidebar-toggle rounded-rect svelte-ect12w"),_(l,"class",a=H(o[0]?"":"collapsed")+" svelte-ect12w"),_(u,"class","svelte-ect12w"),_(e,"class","overall-layout svelte-ect12w")},m(m,f){g(m,e,f),v(e,l),v(l,t),b&&b.m(t,null),v(l,n),v(l,s),v(e,r),v(e,u),C&&C.m(u,null),c=!0,i||(d=T(s,"click",o[1]),i=!0)},p(m,[f]){b&&b.p&&(!c||f&4)&&D(b,w,m,m[2],c?F(w,m[2],f,Ue):J(m[2]),oe),(!c||f&1&&a!==(a=H(m[0]?"":"collapsed")+" svelte-ect12w"))&&_(l,"class",a),C&&C.p&&(!c||f&4)&&D(C,$,m,m[2],c?F($,m[2],f,Ke):J(m[2]),se)},i(m){c||(k(b,m),k(C,m),c=!0)},o(m){y(b,m),y(C,m),c=!1},d(m){m&&h(e),b&&b.d(m),C&&C.d(m),i=!1,d()}}}function Qe(o,e,l){let{$$slots:t={},$$scope:n}=e,s=!0;function a(){l(0,s=!s)}return o.$$set=r=>{"$$scope"in r&&l(2,n=r.$$scope)},[s,a,n,t]}class _t extends B{constructor(e){super(),R(this,e,Qe,Ye,z,{})}}const Ve="/atip/choose_area_tooltips/assets/zoom_out_map-b2e1091a.svg";function He(o){let e,l;return{c(){e=p("img"),ye(e.src,l=Ve)||_(e,"src",l),_(e,"alt","Zoom to show entire boundary")},m(t,n){g(t,e,n)},p:I,d(t){t&&h(e)}}}function Xe(o){let e,l;return e=new ke({props:{title:"Zoom to show entire boundary",$$slots:{default:[He]},$$scope:{ctx:o}}}),e.$on("click",o[0]),{c(){O(e.$$.fragment)},m(t,n){j(e,t,n),l=!0},p(t,[n]){const s={};n&8&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function xe(o,e,l){let t;K(o,U,a=>l(2,t=a));let{boundaryGeojson:n}=e;function s(){t.fitBounds(we(n),{padding:20,animate:!0,duration:500})}return o.$$set=a=>{"boundaryGeojson"in a&&l(1,n=a.boundaryGeojson)},[s,n]}class mt extends B{constructor(e){super(),R(this,e,xe,Xe,z,{boundaryGeojson:1})}}const S={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black"},et=10,N=10;let Z="interventions";function tt(o,e,l){let t,n;K(o,U,i=>l(1,t=i)),K(o,$e,i=>l(2,n=i));let{schema:s}=e;Ce(t,Z,n);const a=["match",["get","intervention_type"],"area",S.area,"route",S.route,"crossing",S.crossing,"other",S.other,"white"],r=["match",["get","reference_type",["get","planning"]],"preapp",S.preapp,"outline",S.outline,"reserved matters",S["reserved matters"],"local plan",S["local plan"],"white"],u=["!=","hide_while_editing",!0];return X(t,{id:"interventions-points",source:Z,filter:["all",Le,u,["!=","endpoint",!0]],color:a,radius:et}),x(t,{id:"interventions-lines",source:Z,filter:["all",Oe,u],color:a,width:N}),X(t,{id:"interventions-lines-endpoints",source:Z,filter:["==","endpoint",!0],radius:.5*N,opacity:0,strokeColor:S.lineEndpointColor,strokeWidth:2}),Se(t,{id:"interventions-polygons",source:Z,filter:["all",ee,u],color:s=="planning"?r:a,opacity:.2}),x(t,{id:"interventions-polygon-outlines",source:Z,filter:["all",ee,u],color:s=="planning"?r:a,opacity:.5,width:.7*N}),o.$$set=i=>{"schema"in i&&l(0,s=i.schema)},o.$$.update=()=>{if(o.$$.dirty&6){let i=JSON.parse(JSON.stringify(n)),d=[];for(let w of i.features)if(w.geometry.type=="LineString"&&!w.properties.hide_while_editing)for(let b of[w.geometry.coordinates[0],w.geometry.coordinates[w.geometry.coordinates.length-1]])d.push({type:"Feature",properties:{endpoint:!0},geometry:{type:"Point",coordinates:b}});i.features=i.features.concat(d),t.getSource(Z).setData(i)}},[s,t,n]}class pt extends B{constructor(e){super(),R(this,e,tt,null,z,{schema:0})}}function lt(o){let e,l,t,n,s,a,r,u,c,i,d,w,b,$,C,m;return l=new G({props:{color:S.area}}),a=new G({props:{color:S.route}}),i=new G({props:{color:S.crossing}}),$=new G({props:{color:S.other}}),{c(){e=p("li"),O(l.$$.fragment),t=M(`
          Areas`),n=P(),s=p("li"),O(a.$$.fragment),r=M(`
          Routes`),u=P(),c=p("li"),O(i.$$.fragment),d=M(`
          Crossings`),w=P(),b=p("li"),O($.$$.fragment),C=M(`
          Other`)},m(f,L){g(f,e,L),j(l,e,null),v(e,t),g(f,n,L),g(f,s,L),j(a,s,null),v(s,r),g(f,u,L),g(f,c,L),j(i,c,null),v(c,d),g(f,w,L),g(f,b,L),j($,b,null),v(b,C),m=!0},p:I,i(f){m||(k(l.$$.fragment,f),k(a.$$.fragment,f),k(i.$$.fragment,f),k($.$$.fragment,f),m=!0)},o(f){y(l.$$.fragment,f),y(a.$$.fragment,f),y(i.$$.fragment,f),y($.$$.fragment,f),m=!1},d(f){f&&(h(e),h(n),h(s),h(u),h(c),h(w),h(b)),E(l),E(a),E(i),E($)}}}function nt(o){let e,l,t,n,s,a,r,u,c,i,d,w,b,$,C,m;return l=new G({props:{color:S.preapp}}),a=new G({props:{color:S.outline}}),i=new G({props:{color:S["reserved matters"]}}),$=new G({props:{color:S["local plan"]}}),{c(){e=p("li"),O(l.$$.fragment),t=M(`
          Preapp`),n=P(),s=p("li"),O(a.$$.fragment),r=M(`
          Outline`),u=P(),c=p("li"),O(i.$$.fragment),d=M(`
          Reserved matters`),w=P(),b=p("li"),O($.$$.fragment),C=M(`
          Local plan`)},m(f,L){g(f,e,L),j(l,e,null),v(e,t),g(f,n,L),g(f,s,L),j(a,s,null),v(s,r),g(f,u,L),g(f,c,L),j(i,c,null),v(c,d),g(f,w,L),g(f,b,L),j($,b,null),v(b,C),m=!0},p:I,i(f){m||(k(l.$$.fragment,f),k(a.$$.fragment,f),k(i.$$.fragment,f),k($.$$.fragment,f),m=!0)},o(f){y(l.$$.fragment,f),y(a.$$.fragment,f),y(i.$$.fragment,f),y($.$$.fragment,f),m=!1},d(f){f&&(h(e),h(n),h(s),h(u),h(c),h(w),h(b)),E(l),E(a),E(i),E($)}}}function st(o){let e,l,t,n;const s=[nt,lt],a=[];function r(u,c){return u[0]=="planning"?0:1}return l=r(o),t=a[l]=s[l](o),{c(){e=p("ul"),t.c()},m(u,c){g(u,e,c),a[l].m(e,null),n=!0},p(u,c){let i=l;l=r(u),l===i?a[l].p(u,c):(ce(),y(a[i],1,1,()=>{a[i]=null}),ue(),t=a[l],t?t.p(u,c):(t=a[l]=s[l](u),t.c()),k(t,1),t.m(e,null))},i(u){n||(k(t),n=!0)},o(u){y(t),n=!1},d(u){u&&h(e),a[l].d()}}}function ot(o){let e,l,t;return l=new We({props:{label:"Objects",open:!0,$$slots:{default:[st]},$$scope:{ctx:o}}}),{c(){e=p("div"),O(l.$$.fragment),_(e,"class","svelte-eycl9h")},m(n,s){g(n,e,s),j(l,e,null),t=!0},p(n,[s]){const a={};s&3&&(a.$$scope={dirty:s,ctx:n}),l.$set(a)},i(n){t||(k(l.$$.fragment,n),t=!0)},o(n){y(l.$$.fragment,n),t=!1},d(n){n&&h(e),E(l)}}}function at(o,e,l){let{schema:t}=e;return o.$$set=n=>{"schema"in n&&l(0,t=n.schema)},[t]}class gt extends B{constructor(e){super(),R(this,e,at,ot,z,{schema:0})}}function ae(o){let e;const l=o[4].default,t=q(l,o,o[3],null);return{c(){t&&t.c()},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&D(t,l,n,n[3],e?F(l,n[3],s,null):J(n[3]),null)},i(n){e||(k(t,n),e=!0)},o(n){y(t,n),e=!1},d(n){t&&t.d(n)}}}function it(o){let e,l,t=o[1]&&ae(o);return{c(){e=p("div"),t&&t.c(),_(e,"class","map svelte-12dpf1u")},m(n,s){g(n,e,s),t&&t.m(e,null),o[5](e),l=!0},p(n,[s]){n[1]?t?(t.p(n,s),s&2&&k(t,1)):(t=ae(n),t.c(),k(t,1),t.m(e,null)):t&&(ce(),y(t,1,1,()=>{t=null}),ue())},i(n){l||(k(t),l=!0)},o(n){y(t),l=!1},d(n){n&&h(e),t&&t.d(),o[5](null)}}}function rt(o,e,l){let{$$slots:t={},$$scope:n}=e,{style:s}=e,a,r,u=!1;je("setCamera",!window.location.hash),Ee(()=>{a=new W.Map({container:r,style:`https://api.maptiler.com/maps/${s}/style.json?key=MZEJTanw3WpxRvt7qDfo`,hash:!0}),a.addControl(new W.ScaleControl({})),a.addControl(new W.NavigationControl({visualizePitch:!0}),"bottom-right"),a.on("load",()=>{l(1,u=!0),U.set(a)}),new ResizeObserver(()=>{a.resize()}).observe(r)}),Be(()=>{a.remove()});function c(i){re[i?"unshift":"push"](()=>{r=i,l(0,r)})}return o.$$set=i=>{"style"in i&&l(2,s=i.style),"$$scope"in i&&l(3,n=i.$$scope)},[r,u,s,n,t,c]}class ht extends B{constructor(e){super(),R(this,e,rt,it,z,{style:2})}}export{dt as B,We as C,pt as I,_t as L,ht as M,De as S,mt as Z,et as a,ut as b,S as c,ft as d,gt as e,G as f,N as l};
