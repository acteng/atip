import{S as B,i as L,s as O,F as ie,f as $,m as E,t as m,l as p,p as I,P as j,e as g,a9 as W,g as h,aI as oe,h as k,j as b,aZ as G,v as T,o as w,Q as re,aH as ce,M as ue,a_ as fe,u as F,r as M,O as le,D as H,d as S,H as R,I as z,J as D,a$ as J,x as q,n as P,b0 as _e,q as de,z as N,A as ne,ac as me,b as se,W as Z,aw as A,R as be,c as pe,k as ge,aR as he,b1 as ve,a as ae}from"./layer_helper_utils-3f0de19d.js";function Q(a,e,l){const t=a.slice();return t[8]=e[l][0],t[9]=e[l][1],t}function U(a){let e;return{c(){e=g("option"),e.__value="",F(e,e.__value)},m(l,t){k(l,e,t)},d(l){l&&w(e)}}}function K(a){let e,l=a[9]+"",t,n;return{c(){e=g("option"),t=M(l),e.__value=n=a[8],F(e,e.__value)},m(s,o){k(s,e,o),b(e,t)},p(s,o){o&8&&l!==(l=s[9]+"")&&le(t,l),o&8&&n!==(n=s[8])&&(e.__value=n,F(e,e.__value))},d(s){s&&w(e)}}}function ke(a){let e,l,t,n,s=a[4]&&U(),o=j(a[3]),r=[];for(let i=0;i<o.length;i+=1)r[i]=K(Q(a,o,i));return{c(){e=g("select"),s&&s.c(),l=W();for(let i=0;i<r.length;i+=1)r[i].c();h(e,"class","govuk-select"),h(e,"id",a[2]),e.disabled=a[5],a[0]===void 0&&oe(()=>a[7].call(e))},m(i,u){k(i,e,u),s&&s.m(e,null),b(e,l);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);G(e,a[0],!0),t||(n=[T(e,"change",a[7]),T(e,"change",a[6])],t=!0)},p(i,u){if(i[4]?s||(s=U(),s.c(),s.m(e,l)):s&&(s.d(1),s=null),u&8){o=j(i[3]);let c;for(c=0;c<o.length;c+=1){const f=Q(i,o,c);r[c]?r[c].p(f,u):(r[c]=K(f),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}u&4&&h(e,"id",i[2]),u&32&&(e.disabled=i[5]),u&9&&G(e,i[0])},d(i){i&&w(e),s&&s.d(),re(r,i),t=!1,ce(n)}}}function we(a){let e,l;return e=new ie({props:{label:a[1],id:a[2],$$slots:{default:[ke]},$$scope:{ctx:a}}}),{c(){$(e.$$.fragment)},m(t,n){E(e,t,n),l=!0},p(t,[n]){const s={};n&2&&(s.label=t[1]),n&4&&(s.id=t[2]),n&4157&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function ye(a,e,l){let{label:t}=e,{id:n}=e,{choices:s}=e,{emptyOption:o=!1}=e,{disabled:r=!1}=e,{value:i}=e;function u(f){ue.call(this,a,f)}function c(){i=fe(this),l(0,i),l(3,s)}return a.$$set=f=>{"label"in f&&l(1,t=f.label),"id"in f&&l(2,n=f.id),"choices"in f&&l(3,s=f.choices),"emptyOption"in f&&l(4,o=f.emptyOption),"disabled"in f&&l(5,r=f.disabled),"value"in f&&l(0,i=f.value)},[i,t,n,s,o,r,u,c]}class je extends B{constructor(e){super(),L(this,e,ye,we,O,{label:1,id:2,choices:3,emptyOption:4,disabled:5,value:0})}}function Ce(a){let e,l,t,n,s,o,r;const i=a[3].default,u=H(i,a,a[2],null);return{c(){e=g("details"),l=g("summary"),t=g("span"),n=M(a[0]),s=S(),o=g("div"),u&&u.c(),h(t,"class","govuk-details__summary-text"),h(l,"class","govuk-details__summary"),h(o,"class","govuk-details__text"),e.open=a[1],h(e,"class","govuk-details"),h(e,"data-module","govuk-details")},m(c,f){k(c,e,f),b(e,l),b(l,t),b(t,n),b(e,s),b(e,o),u&&u.m(o,null),r=!0},p(c,[f]){(!r||f&1)&&le(n,c[0]),u&&u.p&&(!r||f&4)&&R(u,i,c,c[2],r?D(i,c[2],f,null):z(c[2]),null),(!r||f&2)&&(e.open=c[1])},i(c){r||(m(u,c),r=!0)},o(c){p(u,c),r=!1},d(c){c&&w(e),u&&u.d(c)}}}function Se(a,e,l){let{$$slots:t={},$$scope:n}=e,{label:s}=e,{open:o=!1}=e;return a.$$set=r=>{"label"in r&&l(0,s=r.label),"open"in r&&l(1,o=r.open),"$$scope"in r&&l(2,n=r.$$scope)},[s,o,n,t]}class Ve extends B{constructor(e){super(),L(this,e,Se,Ce,O,{label:0,open:1})}}const $e=a=>({}),X=a=>({}),Ee=a=>({}),Y=a=>({});function Ie(a){let e,l,t,n,s,o,r,i,u,c,f;const _=a[3].sidebar,v=H(_,a,a[2],Y),V=a[3].main,y=H(V,a,a[2],X);return{c(){e=g("div"),l=g("aside"),t=g("div"),v&&v.c(),n=S(),s=g("button"),s.textContent="â†’",r=S(),i=g("main"),y&&y.c(),h(t,"class","sidebar-content content-container svelte-ect12w"),h(s,"type","button"),h(s,"class","sidebar-toggle rounded-rect svelte-ect12w"),h(l,"class",o=J(a[0]?"":"collapsed")+" svelte-ect12w"),h(i,"class","svelte-ect12w"),h(e,"class","overall-layout svelte-ect12w")},m(d,C){k(d,e,C),b(e,l),b(l,t),v&&v.m(t,null),b(l,n),b(l,s),b(e,r),b(e,i),y&&y.m(i,null),u=!0,c||(f=T(s,"click",a[1]),c=!0)},p(d,[C]){v&&v.p&&(!u||C&4)&&R(v,_,d,d[2],u?D(_,d[2],C,Ee):z(d[2]),Y),(!u||C&1&&o!==(o=J(d[0]?"":"collapsed")+" svelte-ect12w"))&&h(l,"class",o),y&&y.p&&(!u||C&4)&&R(y,V,d,d[2],u?D(V,d[2],C,$e):z(d[2]),X)},i(d){u||(m(v,d),m(y,d),u=!0)},o(d){p(v,d),p(y,d),u=!1},d(d){d&&w(e),v&&v.d(d),y&&y.d(d),c=!1,f()}}}function Me(a,e,l){let{$$slots:t={},$$scope:n}=e,s=!0;function o(){l(0,s=!s)}return a.$$set=r=>{"$$scope"in r&&l(2,n=r.$$scope)},[s,o,n,t]}class Ge extends B{constructor(e){super(),L(this,e,Me,Ie,O,{})}}function x(a){let e;const l=a[5].default,t=H(l,a,a[4],null);return{c(){t&&t.c()},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&16)&&R(t,l,n,n[4],e?D(l,n[4],s,null):z(n[4]),null)},i(n){e||(m(t,n),e=!0)},o(n){p(t,n),e=!1},d(n){t&&t.d(n)}}}function Be(a){let e,l,t=a[1]&&x(a);return{c(){e=g("div"),t&&t.c(),h(e,"class","map svelte-12dpf1u")},m(n,s){k(n,e,s),t&&t.m(e,null),a[6](e),l=!0},p(n,[s]){n[1]?t?(t.p(n,s),s&2&&m(t,1)):(t=x(n),t.c(),m(t,1),t.m(e,null)):t&&(q(),p(t,1,1,()=>{t=null}),P())},i(n){l||(m(t),l=!0)},o(n){p(t),l=!1},d(n){n&&w(e),t&&t.d(),a[6](null)}}}function Le(a,e,l){let{$$slots:t={},$$scope:n}=e,{style:s}=e,{startBounds:o=null}=e,r,i,u=!1,c=!window.location.hash;_e("setCamera",c),de(()=>{r=new N.Map({container:i,style:`https://api.maptiler.com/maps/${s}/style.json?key=MZEJTanw3WpxRvt7qDfo`,hash:!0}),r.addControl(new N.ScaleControl({})),r.addControl(new N.NavigationControl({visualizePitch:!0}),"bottom-right"),r.on("load",()=>{l(1,u=!0),c&&o&&r.fitBounds(o,{animate:!1}),ne.set(r)}),new ResizeObserver(()=>{r.resize()}).observe(i)}),me(()=>{r.remove()});function f(_){se[_?"unshift":"push"](()=>{i=_,l(0,i)})}return a.$$set=_=>{"style"in _&&l(2,s=_.style),"startBounds"in _&&l(3,o=_.startBounds),"$$scope"in _&&l(4,n=_.$$scope)},[i,u,s,o,n,t,f]}class Je extends B{constructor(e){super(),L(this,e,Le,Be,O,{style:2,startBounds:3})}}const Oe="/atip/critical_entry_mvp/assets/camera_cursor-824d29b6.svg",He={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black",streetview:"blue"},Ze=10,Ae=10;function ee(a){let e,l,t,n;const s=[ze,Re],o=[];function r(i,u){return i[0]?0:1}return e=r(a),l=o[e]=s[e](a),{c(){l.c(),t=W()},m(i,u){o[e].m(i,u),k(i,t,u),n=!0},p(i,u){let c=e;e=r(i),e===c?o[e].p(i,u):(q(),p(o[c],1,1,()=>{o[c]=null}),P(),l=o[e],l?l.p(i,u):(l=o[e]=s[e](i),l.c()),m(l,1),l.m(t.parentNode,t))},i(i){n||(m(l),n=!0)},o(i){p(l),n=!1},d(i){i&&w(t),o[e].d(i)}}}function Re(a){let e,l;return e=new ae({props:{$$slots:{default:[De]},$$scope:{ctx:a}}}),e.$on("click",a[3]),{c(){$(e.$$.fragment)},m(t,n){E(e,t,n),l=!0},p(t,n){const s={};n&512&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function ze(a){let e,l;return e=new ae({props:{$$slots:{default:[qe]},$$scope:{ctx:a}}}),e.$on("click",a[2]),{c(){$(e.$$.fragment)},m(t,n){E(e,t,n),l=!0},p(t,n){const s={};n&512&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function De(a){let e;return{c(){e=M("Disable Street View")},m(l,t){k(l,e,t)},d(l){l&&w(e)}}}function qe(a){let e;return{c(){e=M("Enable Street View")},m(l,t){k(l,e,t)},d(l){l&&w(e)}}}function te(a){let e,l,t,n,s;function o(i){a[6](i)}let r={legend:"Source",id:"streetViewImagery",choices:[["google","Google Street View"],["bing","Bing Streetside"]]};return a[4].streetViewImagery!==void 0&&(r.value=a[4].streetViewImagery),e=new be({props:r}),se.push(()=>pe(e,"value",o)),n=new Ve({props:{label:"Help",$$slots:{default:[Ne]},$$scope:{ctx:a}}}),{c(){$(e.$$.fragment),t=S(),$(n.$$.fragment)},m(i,u){E(e,i,u),k(i,t,u),E(n,i,u),s=!0},p(i,u){const c={};!l&&u&16&&(l=!0,c.value=i[4].streetViewImagery,ge(()=>l=!1)),e.$set(c);const f={};u&512&&(f.$$scope={dirty:u,ctx:i}),n.$set(f)},i(i){s||(m(e.$$.fragment,i),m(n.$$.fragment,i),s=!0)},o(i){p(e.$$.fragment,i),p(n.$$.fragment,i),s=!1},d(i){i&&w(t),I(e,i),I(n,i)}}}function Pe(a){let e;return{c(){e=M("Luc Chaissac")},m(l,t){k(l,e,t)},d(l){l&&w(e)}}}function Ne(a){let e,l,t,n,s,o,r,i,u;return i=new he({props:{href:"https://icon-icons.com/icon/screenshot-cursor-camera/100181",$$slots:{default:[Pe]},$$scope:{ctx:a}}}),{c(){e=g("ul"),l=g("li"),l.innerHTML=`<b>Click</b>
        on the map to open a new tab with a 3rd-party imagery provider`,t=S(),n=g("li"),n.innerHTML=`Press <b>Escape</b>
        to exit this mode`,s=S(),o=g("li"),r=M("Cursor by "),$(i.$$.fragment)},m(c,f){k(c,e,f),b(e,l),b(e,t),b(e,n),b(e,s),b(e,o),b(o,r),E(i,o,null),u=!0},p(c,f){const _={};f&512&&(_.$$scope={dirty:f,ctx:c}),i.$set(_)},i(c){u||(m(i.$$.fragment,c),u=!0)},o(c){p(i.$$.fragment,c),u=!1},d(c){c&&w(e),I(i)}}}function Te(a){let e,l,t,n=a[1]&&ee(a),s=!a[0]&&te(a);return{c(){n&&n.c(),e=S(),s&&s.c(),l=W()},m(o,r){n&&n.m(o,r),k(o,e,r),s&&s.m(o,r),k(o,l,r),t=!0},p(o,[r]){o[1]?n?(n.p(o,r),r&2&&m(n,1)):(n=ee(o),n.c(),m(n,1),n.m(e.parentNode,e)):n&&(q(),p(n,1,1,()=>{n=null}),P()),o[0]?s&&(q(),p(s,1,1,()=>{s=null}),P()):s?(s.p(o,r),r&1&&m(s,1)):(s=te(o),s.c(),m(s,1),s.m(l.parentNode,l))},i(o){t||(m(n),m(s),t=!0)},o(o){p(n),p(s),t=!1},d(o){o&&(w(e),w(l)),n&&n.d(o),s&&s.d(o)}}}function Fe(a,e,l){let t,n;Z(a,ne,_=>l(8,t=_)),Z(a,A,_=>l(4,n=_));let{displayEnableButton:s}=e,{isInactive:o}=e,r=[];function i(_){if(o)return;let v=_.lngLat.lng,V=_.lngLat.lat;n.streetViewImagery=="google"?window.open(`http://maps.google.com/maps?q=&layer=c&cbll=${V},${v}&cbp=11,0,0,0,0`,"_blank"):n.streetViewImagery=="bing"&&window.open(`https://www.bing.com/maps?cp=${V}~${v}&style=x`,"_blank")}function u(){l(0,o=!1),t.on("click",i),t.getCanvas().style.cursor=`url(${Oe}), auto`,r=ve();for(let _ of r)_.setProperty(t,"line-color",He.streetview)}function c(){l(0,o=!0),t.off("click",i),t.getCanvas().style.cursor="inherit";for(let _ of r)_.returnToDefaultPaintValues(t)}function f(_){a.$$.not_equal(n.streetViewImagery,_)&&(n.streetViewImagery=_,A.set(n))}return a.$$set=_=>{"displayEnableButton"in _&&l(1,s=_.displayEnableButton),"isInactive"in _&&l(0,o=_.isInactive)},[o,s,u,c,n,i,f]}class Qe extends B{constructor(e){super(),L(this,e,Fe,Te,O,{displayEnableButton:1,isInactive:0,handleMapClickEvent:5,enableStreetView:2,disableStreetView:3})}get handleMapClickEvent(){return this.$$.ctx[5]}get enableStreetView(){return this.$$.ctx[2]}get disableStreetView(){return this.$$.ctx[3]}}export{Ve as C,Ge as L,Je as M,Qe as S,Ze as a,je as b,He as c,Ae as l};
