import{S as H,i as z,s as q,aH as M,e as k,g as b,h as y,j as h,aI as E,aJ as I,aK as B,t as p,l as v,o as C,d as S,J as ue,v as N,aA as se,aY as ne,aZ as ce,F as fe,f as L,m as O,p as R,E as _e,H as J,a2 as F,aB as de,a_ as j,I as me,a$ as be,u as $,r as D,G as ae,b0 as A,x as G,n as P,b1 as ge,q as he,z as T,A as ie,a5 as pe,b as oe,N as W,ap as Z,R as ke,c as ve,k as we,aO as ye,b2 as Ce,a as re}from"./layer_helper_utils-add7f0af.js";function Se(n){let e,l,t;const s=n[3].default,a=M(s,n,n[2],null);return{c(){e=k("fieldset"),l=k("div"),a&&a.c(),b(l,"class",n[0]),b(l,"data-module","govuk-checkboxes"),b(e,"class","govuk-fieldset")},m(i,o){y(i,e,o),h(e,l),a&&a.m(l,null),t=!0},p(i,[o]){a&&a.p&&(!t||o&4)&&E(a,s,i,i[2],t?B(s,i[2],o,null):I(i[2]),null)},i(i){t||(p(a,i),t=!0)},o(i){v(a,i),t=!1},d(i){i&&C(e),a&&a.d(i)}}}function Ve(n,e,l){let{$$slots:t={},$$scope:s}=e,{small:a=!1}=e,i=a?"govuk-checkboxes--small":"govuk-checkboxes";return n.$$set=o=>{"small"in o&&l(1,a=o.small),"$$scope"in o&&l(2,s=o.$$scope)},[i,a,s,t]}class Xe extends H{constructor(e){super(),z(this,e,Ve,Se,q,{small:1})}}const Me=n=>({}),K=n=>({});function Ee(n){let e,l,t,s,a,i,o,r,_;const f=n[5].default,c=M(f,n,n[4],null),u=n[5].right,d=M(u,n,n[4],K);return{c(){e=k("div"),l=k("input"),t=S(),s=k("label"),c&&c.c(),a=S(),i=k("span"),d&&d.c(),b(l,"type","checkbox"),b(l,"class","govuk-checkboxes__input"),b(l,"id",n[1]),b(s,"class","govuk-label govuk-checkboxes__label"),b(s,"for",n[1]),b(s,"title",n[2]),ue(i,"float","right"),b(e,"class","govuk-checkboxes__item"),b(e,"style",n[3])},m(m,g){y(m,e,g),h(e,l),l.checked=n[0],h(e,t),h(e,s),c&&c.m(s,null),h(e,a),h(e,i),d&&d.m(i,null),o=!0,r||(_=[N(l,"change",n[7]),N(l,"change",n[6])],r=!0)},p(m,[g]){(!o||g&2)&&b(l,"id",m[1]),g&1&&(l.checked=m[0]),c&&c.p&&(!o||g&16)&&E(c,f,m,m[4],o?B(f,m[4],g,null):I(m[4]),null),(!o||g&2)&&b(s,"for",m[1]),(!o||g&4)&&b(s,"title",m[2]),d&&d.p&&(!o||g&16)&&E(d,u,m,m[4],o?B(u,m[4],g,Me):I(m[4]),K)},i(m){o||(p(c,m),p(d,m),o=!0)},o(m){v(c,m),v(d,m),o=!1},d(m){m&&C(e),c&&c.d(m),d&&d.d(m),r=!1,se(_)}}}function Ie(n,e,l){let{$$slots:t={},$$scope:s}=e;const a=ce(t);let{id:i}=e,{checked:o}=e,{hint:r=null}=e,f=a.right!==void 0?"float: none":"";function c(d){ne.call(this,n,d)}function u(){o=this.checked,l(0,o)}return n.$$set=d=>{"id"in d&&l(1,i=d.id),"checked"in d&&l(0,o=d.checked),"hint"in d&&l(2,r=d.hint),"$$scope"in d&&l(4,s=d.$$scope)},[o,i,r,f,s,t,c,u]}class xe extends H{constructor(e){super(),z(this,e,Ie,Ee,q,{id:1,checked:0,hint:2})}}function U(n,e,l){const t=n.slice();return t[9]=e[l][0],t[10]=e[l][1],t}function Y(n){let e;return{c(){e=k("option"),e.__value="",$(e,e.__value)},m(l,t){y(l,e,t)},d(l){l&&C(e)}}}function Q(n){let e,l=n[10]+"",t,s;return{c(){e=k("option"),t=D(l),e.__value=s=n[9],$(e,e.__value)},m(a,i){y(a,e,i),h(e,t)},p(a,i){i&8&&l!==(l=a[10]+"")&&ae(t,l),i&8&&s!==(s=a[9])&&(e.__value=s,$(e,e.__value))},d(a){a&&C(e)}}}function Be(n){let e,l,t,s,a,i,o;e=new _e({props:{errorMessage:n[6]}});let r=n[4]&&Y(),_=J(n[3]),f=[];for(let c=0;c<_.length;c+=1)f[c]=Q(U(n,_,c));return{c(){L(e.$$.fragment),l=S(),t=k("select"),r&&r.c(),s=F();for(let c=0;c<f.length;c+=1)f[c].c();b(t,"class","govuk-select"),b(t,"id",n[2]),t.disabled=n[5],n[0]===void 0&&de(()=>n[8].call(t))},m(c,u){O(e,c,u),y(c,l,u),y(c,t,u),r&&r.m(t,null),h(t,s);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(t,null);j(t,n[0],!0),a=!0,i||(o=[N(t,"change",n[8]),N(t,"change",n[7])],i=!0)},p(c,u){const d={};if(u&64&&(d.errorMessage=c[6]),e.$set(d),c[4]?r||(r=Y(),r.c(),r.m(t,s)):r&&(r.d(1),r=null),u&8){_=J(c[3]);let m;for(m=0;m<_.length;m+=1){const g=U(c,_,m);f[m]?f[m].p(g,u):(f[m]=Q(g),f[m].c(),f[m].m(t,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=_.length}(!a||u&4)&&b(t,"id",c[2]),(!a||u&32)&&(t.disabled=c[5]),u&9&&j(t,c[0])},i(c){a||(p(e.$$.fragment,c),a=!0)},o(c){v(e.$$.fragment,c),a=!1},d(c){c&&(C(l),C(t)),R(e,c),r&&r.d(),me(f,c),i=!1,se(o)}}}function Le(n){let e,l;return e=new fe({props:{label:n[1],id:n[2],$$slots:{default:[Be]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},m(t,s){O(e,t,s),l=!0},p(t,[s]){const a={};s&2&&(a.label=t[1]),s&4&&(a.id=t[2]),s&8317&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Oe(n,e,l){let{label:t}=e,{id:s}=e,{choices:a}=e,{emptyOption:i=!1}=e,{disabled:o=!1}=e,{errorMessage:r=""}=e,{value:_}=e;function f(u){ne.call(this,n,u)}function c(){_=be(this),l(0,_),l(3,a)}return n.$$set=u=>{"label"in u&&l(1,t=u.label),"id"in u&&l(2,s=u.id),"choices"in u&&l(3,a=u.choices),"emptyOption"in u&&l(4,i=u.emptyOption),"disabled"in u&&l(5,o=u.disabled),"errorMessage"in u&&l(6,r=u.errorMessage),"value"in u&&l(0,_=u.value)},[_,t,s,a,i,o,r,f,c]}class et extends H{constructor(e){super(),z(this,e,Oe,Le,q,{label:1,id:2,choices:3,emptyOption:4,disabled:5,errorMessage:6,value:0})}}function Re(n){let e,l,t,s,a,i,o;const r=n[3].default,_=M(r,n,n[2],null);return{c(){e=k("details"),l=k("summary"),t=k("span"),s=D(n[0]),a=S(),i=k("div"),_&&_.c(),b(t,"class","govuk-details__summary-text"),b(l,"class","govuk-details__summary"),b(i,"class","govuk-details__text"),e.open=n[1],b(e,"class","govuk-details"),b(e,"data-module","govuk-details")},m(f,c){y(f,e,c),h(e,l),h(l,t),h(t,s),h(e,a),h(e,i),_&&_.m(i,null),o=!0},p(f,[c]){(!o||c&1)&&ae(s,f[0]),_&&_.p&&(!o||c&4)&&E(_,r,f,f[2],o?B(r,f[2],c,null):I(f[2]),null),(!o||c&2)&&(e.open=f[1])},i(f){o||(p(_,f),o=!0)},o(f){v(_,f),o=!1},d(f){f&&C(e),_&&_.d(f)}}}function He(n,e,l){let{$$slots:t={},$$scope:s}=e,{label:a}=e,{open:i=!1}=e;return n.$$set=o=>{"label"in o&&l(0,a=o.label),"open"in o&&l(1,i=o.open),"$$scope"in o&&l(2,s=o.$$scope)},[a,i,s,t]}class ze extends H{constructor(e){super(),z(this,e,He,Re,q,{label:0,open:1})}}const qe=n=>({}),X=n=>({}),De=n=>({}),x=n=>({});function Ne(n){let e,l,t,s,a,i,o,r,_,f,c;const u=n[3].sidebar,d=M(u,n,n[2],x),m=n[3].main,g=M(m,n,n[2],X);return{c(){e=k("div"),l=k("aside"),t=k("div"),d&&d.c(),s=S(),a=k("button"),a.textContent="â†’",o=S(),r=k("main"),g&&g.c(),b(t,"class","sidebar-content content-container svelte-ect12w"),b(a,"type","button"),b(a,"class","sidebar-toggle rounded-rect svelte-ect12w"),b(l,"class",i=A(n[0]?"":"collapsed")+" svelte-ect12w"),b(r,"class","svelte-ect12w"),b(e,"class","overall-layout svelte-ect12w")},m(w,V){y(w,e,V),h(e,l),h(l,t),d&&d.m(t,null),h(l,s),h(l,a),h(e,o),h(e,r),g&&g.m(r,null),_=!0,f||(c=N(a,"click",n[1]),f=!0)},p(w,[V]){d&&d.p&&(!_||V&4)&&E(d,u,w,w[2],_?B(u,w[2],V,De):I(w[2]),x),(!_||V&1&&i!==(i=A(w[0]?"":"collapsed")+" svelte-ect12w"))&&b(l,"class",i),g&&g.p&&(!_||V&4)&&E(g,m,w,w[2],_?B(m,w[2],V,qe):I(w[2]),X)},i(w){_||(p(d,w),p(g,w),_=!0)},o(w){v(d,w),v(g,w),_=!1},d(w){w&&C(e),d&&d.d(w),g&&g.d(w),f=!1,c()}}}function Ge(n,e,l){let{$$slots:t={},$$scope:s}=e,a=!0;function i(){l(0,a=!a)}return n.$$set=o=>{"$$scope"in o&&l(2,s=o.$$scope)},[a,i,s,t]}class tt extends H{constructor(e){super(),z(this,e,Ge,Ne,q,{})}}function ee(n){let e;const l=n[5].default,t=M(l,n,n[4],null);return{c(){t&&t.c()},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a&16)&&E(t,l,s,s[4],e?B(l,s[4],a,null):I(s[4]),null)},i(s){e||(p(t,s),e=!0)},o(s){v(t,s),e=!1},d(s){t&&t.d(s)}}}function Pe(n){let e,l,t=n[1]&&ee(n);return{c(){e=k("div"),t&&t.c(),b(e,"class","map svelte-12dpf1u")},m(s,a){y(s,e,a),t&&t.m(e,null),n[6](e),l=!0},p(s,[a]){s[1]?t?(t.p(s,a),a&2&&p(t,1)):(t=ee(s),t.c(),p(t,1),t.m(e,null)):t&&(G(),v(t,1,1,()=>{t=null}),P())},i(s){l||(p(t),l=!0)},o(s){v(t),l=!1},d(s){s&&C(e),t&&t.d(),n[6](null)}}}function Te(n,e,l){let{$$slots:t={},$$scope:s}=e,{style:a}=e,{startBounds:i=null}=e,o,r,_=!1,f=!window.location.hash;ge("setCamera",f),he(()=>{o=new T.Map({container:r,style:`https://api.maptiler.com/maps/${a}/style.json?key=MZEJTanw3WpxRvt7qDfo`,hash:!0}),o.addControl(new T.ScaleControl({})),o.addControl(new T.NavigationControl({visualizePitch:!0}),"bottom-right"),o.on("load",()=>{l(1,_=!0),f&&i&&o.fitBounds(i,{animate:!1}),ie.set(o)}),new ResizeObserver(()=>{o.resize()}).observe(r)}),pe(()=>{o.remove()});function c(u){oe[u?"unshift":"push"](()=>{r=u,l(0,r)})}return n.$$set=u=>{"style"in u&&l(2,a=u.style),"startBounds"in u&&l(3,i=u.startBounds),"$$scope"in u&&l(4,s=u.$$scope)},[r,_,a,i,s,t,c]}class lt extends H{constructor(e){super(),z(this,e,Te,Pe,q,{style:2,startBounds:3})}}const $e="/atip/critical_entry_mvp/assets/camera_cursor-824d29b6.svg",Fe={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black",streetview:"blue"},st=10,nt=10;function te(n){let e,l,t,s;const a=[je,Je],i=[];function o(r,_){return r[0]?0:1}return e=o(n),l=i[e]=a[e](n),{c(){l.c(),t=F()},m(r,_){i[e].m(r,_),y(r,t,_),s=!0},p(r,_){let f=e;e=o(r),e===f?i[e].p(r,_):(G(),v(i[f],1,1,()=>{i[f]=null}),P(),l=i[e],l?l.p(r,_):(l=i[e]=a[e](r),l.c()),p(l,1),l.m(t.parentNode,t))},i(r){s||(p(l),s=!0)},o(r){v(l),s=!1},d(r){r&&C(t),i[e].d(r)}}}function Je(n){let e,l;return e=new re({props:{$$slots:{default:[Ae]},$$scope:{ctx:n}}}),e.$on("click",n[3]),{c(){L(e.$$.fragment)},m(t,s){O(e,t,s),l=!0},p(t,s){const a={};s&512&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function je(n){let e,l;return e=new re({props:{$$slots:{default:[We]},$$scope:{ctx:n}}}),e.$on("click",n[2]),{c(){L(e.$$.fragment)},m(t,s){O(e,t,s),l=!0},p(t,s){const a={};s&512&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ae(n){let e;return{c(){e=D("Disable Street View")},m(l,t){y(l,e,t)},d(l){l&&C(e)}}}function We(n){let e;return{c(){e=D("Enable Street View")},m(l,t){y(l,e,t)},d(l){l&&C(e)}}}function le(n){let e,l,t,s,a;function i(r){n[6](r)}let o={legend:"Source",id:"streetViewImagery",choices:[["google","Google Street View"],["bing","Bing Streetside"]]};return n[4].streetViewImagery!==void 0&&(o.value=n[4].streetViewImagery),e=new ke({props:o}),oe.push(()=>ve(e,"value",i)),s=new ze({props:{label:"Help",$$slots:{default:[Ke]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment),t=S(),L(s.$$.fragment)},m(r,_){O(e,r,_),y(r,t,_),O(s,r,_),a=!0},p(r,_){const f={};!l&&_&16&&(l=!0,f.value=r[4].streetViewImagery,we(()=>l=!1)),e.$set(f);const c={};_&512&&(c.$$scope={dirty:_,ctx:r}),s.$set(c)},i(r){a||(p(e.$$.fragment,r),p(s.$$.fragment,r),a=!0)},o(r){v(e.$$.fragment,r),v(s.$$.fragment,r),a=!1},d(r){r&&C(t),R(e,r),R(s,r)}}}function Ze(n){let e;return{c(){e=D("Luc Chaissac")},m(l,t){y(l,e,t)},d(l){l&&C(e)}}}function Ke(n){let e,l,t,s,a,i,o,r,_;return r=new ye({props:{href:"https://icon-icons.com/icon/screenshot-cursor-camera/100181",$$slots:{default:[Ze]},$$scope:{ctx:n}}}),{c(){e=k("ul"),l=k("li"),l.innerHTML=`<b>Click</b>
        on the map to open a new tab with a 3rd-party imagery provider`,t=S(),s=k("li"),s.innerHTML=`Press <b>Escape</b>
        to exit this mode`,a=S(),i=k("li"),o=D("Cursor by "),L(r.$$.fragment)},m(f,c){y(f,e,c),h(e,l),h(e,t),h(e,s),h(e,a),h(e,i),h(i,o),O(r,i,null),_=!0},p(f,c){const u={};c&512&&(u.$$scope={dirty:c,ctx:f}),r.$set(u)},i(f){_||(p(r.$$.fragment,f),_=!0)},o(f){v(r.$$.fragment,f),_=!1},d(f){f&&C(e),R(r)}}}function Ue(n){let e,l,t,s=n[1]&&te(n),a=!n[0]&&le(n);return{c(){s&&s.c(),e=S(),a&&a.c(),l=F()},m(i,o){s&&s.m(i,o),y(i,e,o),a&&a.m(i,o),y(i,l,o),t=!0},p(i,[o]){i[1]?s?(s.p(i,o),o&2&&p(s,1)):(s=te(i),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(G(),v(s,1,1,()=>{s=null}),P()),i[0]?a&&(G(),v(a,1,1,()=>{a=null}),P()):a?(a.p(i,o),o&1&&p(a,1)):(a=le(i),a.c(),p(a,1),a.m(l.parentNode,l))},i(i){t||(p(s),p(a),t=!0)},o(i){v(s),v(a),t=!1},d(i){i&&(C(e),C(l)),s&&s.d(i),a&&a.d(i)}}}function Ye(n,e,l){let t,s;W(n,ie,u=>l(8,t=u)),W(n,Z,u=>l(4,s=u));let{displayEnableButton:a}=e,{isInactive:i}=e,o=[];function r(u){if(i)return;let d=u.lngLat.lng,m=u.lngLat.lat;s.streetViewImagery=="google"?window.open(`http://maps.google.com/maps?q=&layer=c&cbll=${m},${d}&cbp=11,0,0,0,0`,"_blank"):s.streetViewImagery=="bing"&&window.open(`https://www.bing.com/maps?cp=${m}~${d}&style=x`,"_blank")}function _(){l(0,i=!1),t.on("click",r),t.getCanvas().style.cursor=`url(${$e}), auto`,o=Ce();for(let u of o)u.setProperty(t,"line-color",Fe.streetview)}function f(){l(0,i=!0),t.off("click",r),t.getCanvas().style.cursor="inherit";for(let u of o)u.returnToDefaultPaintValues(t)}function c(u){n.$$.not_equal(s.streetViewImagery,u)&&(s.streetViewImagery=u,Z.set(s))}return n.$$set=u=>{"displayEnableButton"in u&&l(1,a=u.displayEnableButton),"isInactive"in u&&l(0,i=u.isInactive)},[i,a,_,f,s,r,c]}class at extends H{constructor(e){super(),z(this,e,Ye,Ue,q,{displayEnableButton:1,isInactive:0,handleMapClickEvent:5,enableStreetView:2,disableStreetView:3})}get handleMapClickEvent(){return this.$$.ctx[5]}get enableStreetView(){return this.$$.ctx[2]}get disableStreetView(){return this.$$.ctx[3]}}export{ze as C,tt as L,lt as M,at as S,st as a,Xe as b,Fe as c,xe as d,et as e,nt as l};
