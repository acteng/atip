import{S as U,i as z,s as G,ap as Mr,b as W,c as V,e as A,d as O,g as h,h as x,j as p,m as b,w as nn,l as X,t as $,n as g,o as m,p as v,aL as Dt,aM as jt,aN as Bt,aO as Ht,Z as Ne,_ as ae,$ as fe,aP as fr,aQ as un,aR as Er,q as We,ai as ur,aS as cn,aT as Fr,aU as Dr,H as te,aV as jr,aW as Br,aX as nt,u as w,k as y,f as rn,aj as Hr,B as Rt,ax as cr,r as Gt,F as $r,a as Yt,v as $n,C as H,aK as q,aA as Ge,az as ke,aB as Nt,aY as ie,O as B,aZ as $e,A as K,P as Y,Y as J,a_ as ee,G as Tt,R as pr,a$ as ln,b0 as on,E as mr,x as Rr,b1 as pn,N as Gr,aF as mn,U as Wr,V as _n,W as gn,X as Lt,aJ as dn,L as Ur,M as zr,y as qr}from"./index-507e02f2.js";import{m as yt,C as Ae,h as Ct,i as re,L as ue,c as Mt,k as Vr,S as Xr,B as Kr,a as ht,b as Yr,G as Jr}from"./StreetViewTool-080bc68e.js";import{L as Zr,s as hn,c as _r,a as ge,C as Ue,Z as Qr}from"./schemas-67715116.js";import{a as De,F as xr}from"./Popup-2be5e5a5.js";import{P as le}from"./Popup-74eb6056.js";import{L as el,a as tl}from"./LineMeasureController-1f152806.js";const nl="/atip/defra/assets/help-d011708a.svg";function rl(r){let e,n;const t=r[1].default,l=Dt(t,r,r[4],null);return{c(){e=A("div"),l&&l.c(),x(e,"class","govuk-prose")},m(o,i){p(o,e,i),l&&l.m(e,null),n=!0},p(o,i){l&&l.p&&(!n||i&16)&&jt(l,t,o,o[4],n?Ht(t,o[4],i,null):Bt(o[4]),null)},i(o){n||($(l,o),n=!0)},o(o){g(l,o),n=!1},d(o){o&&m(e),l&&l.d(o)}}}function ll(r){let e,n,t,l,o,i,u;function s(f){r[3](f)}let a={title:"Help",$$slots:{default:[rl]},$$scope:{ctx:r}};return r[0]!==void 0&&(a.open=r[0]),t=new Mr({props:a}),W.push(()=>V(t,"open",s)),{c(){e=A("button"),e.innerHTML=`<img src="${nl}" title="Help" alt="Help"/>`,n=O(),h(t.$$.fragment),x(e,"class","svelte-7d9d1l")},m(f,c){p(f,e,c),p(f,n,c),b(t,f,c),o=!0,i||(u=nn(e,"click",r[2]),i=!0)},p(f,[c]){const d={};c&16&&(d.$$scope={dirty:c,ctx:f}),!l&&c&1&&(l=!0,d.open=f[0],X(()=>l=!1)),t.$set(d)},i(f){o||($(t.$$.fragment,f),o=!0)},o(f){g(t.$$.fragment,f),o=!1},d(f){f&&(m(e),m(n)),v(t,f),i=!1,u()}}}function ol(r,e,n){let{$$slots:t={},$$scope:l}=e,o=!1;const i=()=>n(0,o=!0);function u(s){o=s,n(0,o)}return r.$$set=s=>{"$$scope"in s&&n(4,l=s.$$scope)},[o,t,i,u,l]}class oe extends U{constructor(e){super(),z(this,e,ol,ll,G,{})}}function bn(r){let e=r[0],n,t,l=vn(r);return{c(){l.c(),n=Ne()},m(o,i){l.m(o,i),p(o,n,i),t=!0},p(o,i){i&1&&G(e,e=o[0])?(ae(),g(l,1,1,te),fe(),l=vn(o),l.c(),$(l,1),l.m(n.parentNode,n)):l.p(o,i)},i(o){t||($(l),t=!0)},o(o){g(l),t=!1},d(o){o&&m(n),l.d(o)}}}function vn(r){let e;const n=r[9].default,t=Dt(n,r,r[8],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&256)&&jt(t,n,l,l[8],e?Ht(n,l[8],o,null):Bt(l[8]),null)},i(l){e||($(t,l),e=!0)},o(l){g(t,l),e=!1},d(l){t&&t.d(l)}}}function sl(r){let e,n,t=r[0]&&bn(r);return{c(){t&&t.c(),e=Ne()},m(l,o){t&&t.m(l,o),p(l,e,o),n=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&$(t,1)):(t=bn(l),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(ae(),g(t,1,1,()=>{t=null}),fe())},i(l){n||($(t),n=!0)},o(l){g(t),n=!1},d(l){l&&m(e),t&&t.d(l)}}}function il(r,e,n){let t,l,{$$slots:o={},$$scope:i}=e,{id:u=fr("vector")}=e,{url:s=null}=e,{tiles:a=null}=e,{promoteId:f=null}=e;if(s&&s.includes("pmtiles://")&&!un.config.REGISTERED_PROTOCOLS.hasOwnProperty("pmtiles")){let _=new jr;un.addProtocol("pmtiles",_.tile)}const{map:c,self:d}=Er();return We(r,c,_=>n(7,t=_)),We(r,d,_=>n(0,l=_)),ur(()=>{if(l){let _=l;cn(d,l=null,l),Fr().then(()=>{t!=null&&t.loaded()&&(t==null||t.removeSource(_))})}}),r.$$set=_=>{"id"in _&&n(3,u=_.id),"url"in _&&n(4,s=_.url),"tiles"in _&&n(5,a=_.tiles),"promoteId"in _&&n(6,f=_.promoteId),"$$scope"in _&&n(8,i=_.$$scope)},r.$$.update=()=>{r.$$.dirty&249&&t&&l!==u&&(l&&t.removeSource(l),cn(d,l=u,l),t.addSource(l,Dr({type:"vector",url:s,tiles:a,promoteId:f})))},[l,c,d,u,s,a,f,t,i,o]}class ce extends U{constructor(e){super(),z(this,e,il,sl,G,{id:3,url:4,tiles:5,promoteId:6})}}function al(r){let e;const n=r[15].default,t=Dt(n,r,r[23],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&8388608)&&jt(t,n,l,l[23],e?Ht(n,l[23],o,null):Bt(l[23]),null)},i(l){e||($(t,l),e=!0)},o(l){g(t,l),e=!1},d(l){t&&t.d(l)}}}function fl(r){let e,n,t;function l(i){r[16](i)}let o={id:r[1],type:"symbol",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],applyToClusters:r[9],minzoom:r[10],maxzoom:r[11],hoverCursor:r[12],manageHoverState:r[13],eventsIfTopMost:r[14],$$slots:{default:[al]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new Br({props:o}),W.push(()=>V(e,"hovered",l)),e.$on("click",r[17]),e.$on("dblclick",r[18]),e.$on("contextmenu",r[19]),e.$on("mouseenter",r[20]),e.$on("mousemove",r[21]),e.$on("mouseleave",r[22]),{c(){h(e.$$.fragment)},m(i,u){b(e,i,u),t=!0},p(i,[u]){const s={};u&2&&(s.id=i[1]),u&4&&(s.source=i[2]),u&8&&(s.sourceLayer=i[3]),u&16&&(s.beforeId=i[4]),u&32&&(s.beforeLayerType=i[5]),u&64&&(s.paint=i[6]),u&128&&(s.layout=i[7]),u&256&&(s.filter=i[8]),u&512&&(s.applyToClusters=i[9]),u&1024&&(s.minzoom=i[10]),u&2048&&(s.maxzoom=i[11]),u&4096&&(s.hoverCursor=i[12]),u&8192&&(s.manageHoverState=i[13]),u&16384&&(s.eventsIfTopMost=i[14]),u&8388608&&(s.$$scope={dirty:u,ctx:i}),!n&&u&1&&(n=!0,s.hovered=i[0],X(()=>n=!1)),e.$set(s)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){g(e.$$.fragment,i),t=!1},d(i){v(e,i)}}}function ul(r,e,n){let{$$slots:t={},$$scope:l}=e,{id:o=fr("symbol")}=e,{source:i=void 0}=e,{sourceLayer:u=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:a=void 0}=e,{paint:f=void 0}=e,{layout:c=void 0}=e,{filter:d=void 0}=e,{applyToClusters:_=void 0}=e,{minzoom:C=void 0}=e,{maxzoom:S=void 0}=e,{hoverCursor:T=void 0}=e,{manageHoverState:k=!1}=e,{hovered:L=null}=e,{eventsIfTopMost:F=!1}=e;function j(D){L=D,n(0,L)}function I(D){nt.call(this,r,D)}function E(D){nt.call(this,r,D)}function P(D){nt.call(this,r,D)}function N(D){nt.call(this,r,D)}function M(D){nt.call(this,r,D)}function R(D){nt.call(this,r,D)}return r.$$set=D=>{"id"in D&&n(1,o=D.id),"source"in D&&n(2,i=D.source),"sourceLayer"in D&&n(3,u=D.sourceLayer),"beforeId"in D&&n(4,s=D.beforeId),"beforeLayerType"in D&&n(5,a=D.beforeLayerType),"paint"in D&&n(6,f=D.paint),"layout"in D&&n(7,c=D.layout),"filter"in D&&n(8,d=D.filter),"applyToClusters"in D&&n(9,_=D.applyToClusters),"minzoom"in D&&n(10,C=D.minzoom),"maxzoom"in D&&n(11,S=D.maxzoom),"hoverCursor"in D&&n(12,T=D.hoverCursor),"manageHoverState"in D&&n(13,k=D.manageHoverState),"hovered"in D&&n(0,L=D.hovered),"eventsIfTopMost"in D&&n(14,F=D.eventsIfTopMost),"$$scope"in D&&n(23,l=D.$$scope)},[L,o,i,u,s,a,f,c,d,_,C,S,T,k,F,t,j,I,E,P,N,M,R,l]}class cl extends U{constructor(e){super(),z(this,e,ul,fl,G,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14})}}function $l(r){let e;return{c(){e=A("p"),e.textContent=`The scheme data shown is fake. Load the real data from a file below.
        We're working to put real scheme data here.`},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function pl(r){let e,n,t,l,o=r[0]=="Private (development)"&&$l();return{c(){o&&o.c(),e=O(),n=A("p"),n.textContent="Note the ATF scheme data has not been validated.",t=O(),l=A("p"),l.innerHTML=`Please contact <a href="mailto:dcarlino@turing.ac.uk">Dustin</a>
      and
      <a href="mailto:Peter.York@activetravelengland.gov.uk">Pete</a>
      about any problems, ideas, or feedback for this site.`},m(i,u){o&&o.m(i,u),p(i,e,u),p(i,n,u),p(i,t,u),p(i,l,u)},p:te,d(i){i&&(m(e),m(n),m(t),m(l)),o&&o.d(i)}}}function ml(r){let e,n,t,l,o,i;return o=new oe({props:{$$slots:{default:[pl]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("App version: "),t=w(r[0]),l=O(),h(o.$$.fragment)},m(u,s){p(u,e,s),y(e,n),y(e,t),y(e,l),b(o,e,null),i=!0},p(u,[s]){const a={};s&2&&(a.$$scope={dirty:s,ctx:u}),o.$set(a)},i(u){i||($(o.$$.fragment,u),i=!0)},o(u){g(o.$$.fragment,u),i=!1},d(u){u&&m(e),v(o)}}}function _l(r){return[rn()]}class gl extends U{constructor(e){super(),z(this,e,_l,ml,G,{})}}const dl={createDocument:function(e){return new DOMParser().parseFromString(e.trim(),"text/xml")}};var me=Uint8Array,Je=Uint16Array,gr=Uint32Array,dr=new me([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hr=new me([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hl=new me([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),br=function(r,e){for(var n=new Je(31),t=0;t<31;++t)n[t]=e+=1<<r[t-1];for(var l=new gr(n[30]),t=1;t<30;++t)for(var o=n[t];o<n[t+1];++o)l[o]=o-n[t]<<5|t;return[n,l]},vr=br(dr,2),wr=vr[0],bl=vr[1];wr[28]=258,bl[258]=28;var vl=br(hr,0),wl=vl[0],Jt=new Je(32768);for(var ne=0;ne<32768;++ne){var Be=(ne&43690)>>>1|(ne&21845)<<1;Be=(Be&52428)>>>2|(Be&13107)<<2,Be=(Be&61680)>>>4|(Be&3855)<<4,Jt[ne]=((Be&65280)>>>8|(Be&255)<<8)>>>1}var wt=function(r,e,n){for(var t=r.length,l=0,o=new Je(e);l<t;++l)r[l]&&++o[r[l]-1];var i=new Je(e);for(l=0;l<e;++l)i[l]=i[l-1]+o[l-1]<<1;var u;if(n){u=new Je(1<<e);var s=15-e;for(l=0;l<t;++l)if(r[l])for(var a=l<<4|r[l],f=e-r[l],c=i[r[l]-1]++<<f,d=c|(1<<f)-1;c<=d;++c)u[Jt[c]>>>s]=a}else for(u=new Je(t),l=0;l<t;++l)r[l]&&(u[l]=Jt[i[r[l]-1]++]>>>15-r[l]);return u},Ot=new me(288);for(var ne=0;ne<144;++ne)Ot[ne]=8;for(var ne=144;ne<256;++ne)Ot[ne]=9;for(var ne=256;ne<280;++ne)Ot[ne]=7;for(var ne=280;ne<288;++ne)Ot[ne]=8;var yr=new me(32);for(var ne=0;ne<32;++ne)yr[ne]=5;var yl=wt(Ot,9,1),kl=wt(yr,5,1),Wt=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},ve=function(r,e,n){var t=e/8|0;return(r[t]|r[t+1]<<8)>>(e&7)&n},Ut=function(r,e){var n=e/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(e&7)},Sl=function(r){return(r+7)/8|0},sn=function(r,e,n){(e==null||e<0)&&(e=0),(n==null||n>r.length)&&(n=r.length);var t=new(r.BYTES_PER_ELEMENT==2?Je:r.BYTES_PER_ELEMENT==4?gr:me)(n-e);return t.set(r.subarray(e,n)),t},Tl=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],we=function(r,e,n){var t=new Error(e||Tl[r]);if(t.code=r,Error.captureStackTrace&&Error.captureStackTrace(t,we),!n)throw t;return t},Cl=function(r,e,n){var t=r.length;if(!t||n&&n.f&&!n.l)return e||new me(0);var l=!e||n,o=!n||n.i;n||(n={}),e||(e=new me(t*3));var i=function(et){var Xe=e.length;if(et>Xe){var tt=new me(Math.max(Xe*2,et));tt.set(e),e=tt}},u=n.f||0,s=n.p||0,a=n.b||0,f=n.l,c=n.d,d=n.m,_=n.n,C=t*8;do{if(!f){u=ve(r,s,1);var S=ve(r,s+1,3);if(s+=3,S)if(S==1)f=yl,c=kl,d=9,_=5;else if(S==2){var F=ve(r,s,31)+257,j=ve(r,s+10,15)+4,I=F+ve(r,s+5,31)+1;s+=14;for(var E=new me(I),P=new me(19),N=0;N<j;++N)P[hl[N]]=ve(r,s+N*3,7);s+=j*3;for(var M=Wt(P),R=(1<<M)-1,D=wt(P,M,1),N=0;N<I;){var se=D[ve(r,s,R)];s+=se&15;var T=se>>>4;if(T<16)E[N++]=T;else{var Z=0,be=0;for(T==16?(be=3+ve(r,s,3),s+=2,Z=E[N-1]):T==17?(be=3+ve(r,s,7),s+=3):T==18&&(be=11+ve(r,s,127),s+=7);be--;)E[N++]=Z}}var mt=E.subarray(0,F),de=E.subarray(F);d=Wt(mt),_=Wt(de),f=wt(mt,d,1),c=wt(de,_,1)}else we(1);else{var T=Sl(s)+4,k=r[T-4]|r[T-3]<<8,L=T+k;if(L>t){o&&we(0);break}l&&i(a+k),e.set(r.subarray(T,L),a),n.b=a+=k,n.p=s=L*8,n.f=u;continue}if(s>C){o&&we(0);break}}l&&i(a+131072);for(var Qe=(1<<d)-1,_t=(1<<_)-1,xe=s;;xe=s){var Z=f[Ut(r,s)&Qe],pe=Z>>>4;if(s+=Z&15,s>C){o&&we(0);break}if(Z||we(2),pe<256)e[a++]=pe;else if(pe==256){xe=s,f=null;break}else{var gt=pe-254;if(pe>264){var N=pe-257,Ee=dr[N];gt=ve(r,s,(1<<Ee)-1)+wr[N],s+=Ee}var je=c[Ut(r,s)&_t],Ve=je>>>4;je||we(3),s+=je&15;var de=wl[Ve];if(Ve>3){var Ee=hr[Ve];de+=Ut(r,s)&(1<<Ee)-1,s+=Ee}if(s>C){o&&we(0);break}l&&i(a+131072);for(var dt=a+gt;a<dt;a+=4)e[a]=e[a-de],e[a+1]=e[a+1-de],e[a+2]=e[a+2-de],e[a+3]=e[a+3-de];a=dt}}n.l=f,n.p=xe,n.b=a,n.f=u,f&&(u=1,n.m=d,n.d=c,n.n=_)}while(!u);return a==e.length?e:sn(e,0,a)},Ol=new me(0),Ie=function(r,e){return r[e]|r[e+1]<<8},ye=function(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0},zt=function(r,e){return ye(r,e)+ye(r,e+4)*4294967296};function Al(r,e){return Cl(r,e)}var Zt=typeof TextDecoder<"u"&&new TextDecoder,Ll=0;try{Zt.decode(Ol,{stream:!0}),Ll=1}catch{}var Il=function(r){for(var e="",n=0;;){var t=r[n++],l=(t>127)+(t>223)+(t>239);if(n+l>r.length)return[e,sn(r,n-1)];l?l==3?(t=((t&15)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,e+=String.fromCharCode(55296|t>>10,56320|t&1023)):l&1?e+=String.fromCharCode((t&31)<<6|r[n++]&63):e+=String.fromCharCode((t&15)<<12|(r[n++]&63)<<6|r[n++]&63):e+=String.fromCharCode(t)}};function kr(r,e){if(e){for(var n="",t=0;t<r.length;t+=16384)n+=String.fromCharCode.apply(null,r.subarray(t,t+16384));return n}else{if(Zt)return Zt.decode(r);var l=Il(r),o=l[0],i=l[1];return i.length&&we(8),o}}var Pl=function(r,e){return e+30+Ie(r,e+26)+Ie(r,e+28)},Nl=function(r,e,n){var t=Ie(r,e+28),l=kr(r.subarray(e+46,e+46+t),!(Ie(r,e+8)&2048)),o=e+46+t,i=ye(r,e+20),u=n&&i==4294967295?Ml(r,o):[i,ye(r,e+24),ye(r,e+42)],s=u[0],a=u[1],f=u[2];return[Ie(r,e+10),s,a,l,o+Ie(r,e+30)+Ie(r,e+32),f]},Ml=function(r,e){for(;Ie(r,e)!=1;e+=4+Ie(r,e+2));return[zt(r,e+12),zt(r,e+4),zt(r,e+20)]};function El(r,e){for(var n={},t=r.length-22;ye(r,t)!=101010256;--t)(!t||r.length-t>65558)&&we(13);var l=Ie(r,t+8);if(!l)return{};var o=ye(r,t+16),i=o==4294967295||l==65535;if(i){var u=ye(r,t-12);i=ye(r,u)==101075792,i&&(l=ye(r,u+32),o=ye(r,u+48))}for(var s=e&&e.filter,a=0;a<l;++a){var f=Nl(r,o,i),c=f[0],d=f[1],_=f[2],C=f[3],S=f[4],T=f[5],k=Pl(r,T);o=S,(!s||s({name:C,size:d,originalSize:_,compression:c}))&&(c?c==8?n[C]=Al(r.subarray(k,k+d),new me(_)):we(14,"unknown compression type "+c):n[C]=sn(r,k,k+d))}return n}function Fl(r){return r instanceof File||r instanceof Blob?r.arrayBuffer().then(qt):qt(r)}function qt(r){var e=new Uint8Array(r),n=El(e);return Promise.resolve(Dl(n))}function Dl(r){for(var e=[],n=0,t=Object.keys(r);n<t.length;n++){var l=t[n];e[l]=kr(r[l])}return e}function Pe(r,e){for(var n=0;n<r.childNodes.length;){var t=r.childNodes[n];if(t.nodeType===1&&Ze(t)===e)return t;n++}}function At(r,e){for(var n=[],t=0;t<r.childNodes.length;){var l=r.childNodes[t];l.nodeType===1&&Ze(l)===e&&n.push(l),t++}return n}function Et(r,e,n){for(var t=0;t<r.childNodes.length;){var l=r.childNodes[t];e?l.nodeType===1&&Ze(l)===e&&n(l,t):n(l,t),t++}}function jl(r,e,n){var t=[];return Et(r,e,function(l,o){t.push(n(l,o))}),t}var Bl=/.+\:/;function Ze(r){return r.tagName.replace(Bl,"")}function Sr(r){if(r.nodeType!==1)return r.textContent;for(var e="<"+Ze(r),n=0;n<r.attributes.length;)e+=" "+r.attributes[n].name+'="'+r.attributes[n].value+'"',n++;e+=">";for(var t=0;t<r.childNodes.length;)e+=Sr(r.childNodes[t]),t++;return e+="</"+Ze(r)+">",e}function Hl(r){var e=r.documentElement,n=Pe(e,"sheetData"),t=[];return Et(n,"row",function(l){Et(l,"c",function(o){t.push(o)})}),t}function Rl(r,e){return Pe(e,"v")}function Gl(r,e){if(e.firstChild&&Ze(e.firstChild)==="is"&&e.firstChild.firstChild&&Ze(e.firstChild.firstChild)==="t")return e.firstChild.firstChild.textContent}function Wl(r){var e=r.documentElement,n=Pe(e,"dimension");if(n)return n.getAttribute("ref")}function Ul(r){var e=r.documentElement,n=Pe(e,"cellStyleXfs");return n?At(n,"xf"):[]}function zl(r){var e=r.documentElement,n=Pe(e,"cellXfs");return n?At(n,"xf"):[]}function ql(r){var e=r.documentElement,n=Pe(e,"numFmts");return n?At(n,"numFmt"):[]}function Vl(r){var e=r.documentElement;return jl(e,"si",function(n){var t=Pe(n,"t");if(t)return t.textContent;var l="";return Et(n,"r",function(o){l+=Pe(o,"t").textContent}),l})}function Xl(r){var e=r.documentElement;return Pe(e,"workbookPr")}function Kl(r){var e=r.documentElement;return At(e,"Relationship")}function Yl(r){var e=r.documentElement,n=Pe(e,"sheets");return At(n,"sheet")}function Jl(r,e){var n=e.createDocument(r),t={},l=Xl(n);l&&l.getAttribute("date1904")==="1"&&(t.epoch1904=!0),t.sheets=[];var o=function(u){u.getAttribute("name")&&t.sheets.push({id:u.getAttribute("sheetId"),name:u.getAttribute("name"),relationId:u.getAttribute("r:id")})};return Yl(n).forEach(o),t}function Zl(r,e){var n=e.createDocument(r),t={sheets:{},sharedStrings:void 0,styles:void 0},l=function(i){var u=i.getAttribute("Target"),s=i.getAttribute("Type");switch(s){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles":t.styles=Vt(u);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings":t.sharedStrings=Vt(u);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet":t.sheets[i.getAttribute("Id")]=Vt(u);break}};return Kl(n).forEach(l),t}function Vt(r){return r[0]==="/"?r.slice(1):"xl/"+r}function wn(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,t)}return n}function yn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wn(Object(n),!0).forEach(function(t){Ql(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Ql(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function xl(r,e){if(!r)return{};var n=e.createDocument(r),t=Ul(n).map(Xt),l=ql(n).map(eo).reduce(function(i,u){return i[u.id]=u,i},[]),o=function(u){return u.hasAttribute("xfId")?yn(yn({},t[u.xfId]),Xt(u,l)):Xt(u,l)};return zl(n).map(o)}function eo(r){return{id:r.getAttribute("numFmtId"),template:r.getAttribute("formatCode")}}function Xt(r,e){var n={};if(r.hasAttribute("numFmtId")){var t=r.getAttribute("numFmtId");e[t]?n.numberFormat=e[t]:n.numberFormat={id:t}}return n}function to(r,e){return r?Vl(e.createDocument(r)):[]}function Tr(r,e){e&&e.epoch1904&&(r+=1462);var n=70*365+19,t=60*60*1e3;return new Date(Math.round((r-n)*24*t))}function no(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=ro(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ro(r,e){if(r){if(typeof r=="string")return kn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kn(r,e)}}function kn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function lo(r,e,n,t){if(e){var l=n[e];if(!l)throw new Error("Cell style not found: ".concat(e));if(!l.numberFormat)return!1;if(oo.indexOf(Number(l.numberFormat.id))>=0||t.dateFormat&&l.numberFormat.template===t.dateFormat||t.smartDateParser!==!1&&l.numberFormat.template&&ao(l.numberFormat.template))return!0}}var oo=[14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57],so=/^\[\$-414\]/,io=/;@$/;function ao(r){r=r.toLowerCase(),r=r.replace(so,""),r=r.replace(io,"");for(var e=r.split(/\W+/),n=no(e),t;!(t=n()).done;){var l=t.value;if(fo.indexOf(l)<0)return!1}return!0}var fo=["ss","mm","h","hh","am","pm","d","dd","m","mm","mmm","mmmm","yy","yyyy","e"];function uo(r,e,n){var t=n.getInlineStringValue,l=n.getInlineStringXml,o=n.getStyleId,i=n.styles,u=n.values,s=n.properties,a=n.options;switch(e||(e="n"),e){case"str":r=Kt(r,a);break;case"inlineStr":if(r=t(),r===void 0)throw new Error('Unsupported "inline string" cell value structure: '.concat(l()));r=Kt(r,a);break;case"s":var f=Number(r);if(isNaN(f))throw new Error('Invalid "shared" string index: '.concat(r));if(f>=u.length)throw new Error('An out-of-bounds "shared" string index: '.concat(r));r=u[f],r=Kt(r,a);break;case"b":if(r==="1")r=!0;else if(r==="0")r=!1;else throw new Error('Unsupported "boolean" cell value: '.concat(r));break;case"z":r=void 0;break;case"e":r=co(r);break;case"d":if(r===void 0)break;var c=new Date(r);if(isNaN(c.valueOf()))throw new Error('Unsupported "date" cell value: '.concat(r));r=c;break;case"n":if(r===void 0)break;var d=Number(r);if(isNaN(d))throw new Error('Invalid "numeric" cell value: '.concat(r));r=d,lo(r,o(),i,a)&&(r=Tr(r,s));break;default:throw new TypeError("Cell type not supported: ".concat(e))}return r===void 0&&(r=null),r}function co(r){switch(r){case 0:return"#NULL!";case 7:return"#DIV/0!";case 15:return"#VALUE!";case 23:return"#REF!";case 29:return"#NAME?";case 36:return"#NUM!";case 42:return"#N/A";case 43:return"#GETTING_DATA";default:return"#ERROR_".concat(r)}}function Kt(r,e){return e.trim!==!1&&(r=r.trim()),r===""&&(r=void 0),r}var $o=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function po(r){var e=function(a,f){return a-f},n=r.map(function(s){return s.row}).sort(e),t=r.map(function(s){return s.column}).sort(e),l=n[0],o=n[n.length-1],i=t[0],u=t[t.length-1];return[{row:l,column:i},{row:o,column:u}]}function mo(r){for(var e=0,n=0;n<r.length;)e*=26,e+=$o.indexOf(r[n]),n++;return e}function Cr(r){return r=r.split(/(\d+)/),[parseInt(r[1]),mo(r[0].trim())]}function _o(r,e,n,t,l,o,i){var u=Cr(r.getAttribute("r")),s=Rl(e,r),a=s&&s.textContent,f;return r.hasAttribute("t")&&(f=r.getAttribute("t")),{row:u[0],column:u[1],value:uo(a,f,{getInlineStringValue:function(){return Gl(e,r)},getInlineStringXml:function(){return Sr(r)},getStyleId:function(){return r.getAttribute("s")},styles:l,values:t,properties:o,options:i})}}function go(r,e,n,t,l,o){var i=Hl(r);return i.length===0?[]:i.map(function(u){return _o(u,r,e,n,t,l,o)})}function ho(r,e){return yo(r)||wo(r,e)||vo(r,e)||bo()}function bo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vo(r,e){if(r){if(typeof r=="string")return Sn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sn(r,e)}}function Sn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function wo(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var t=[],l=!0,o=!1,i,u;try{for(n=n.call(r);!(l=(i=n.next()).done)&&(t.push(i.value),!(e&&t.length===e));l=!0);}catch(s){o=!0,u=s}finally{try{!l&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function yo(r){if(Array.isArray(r))return r}function ko(r){var e=Wl(r);if(e)return e=e.split(":").map(Cr).map(function(n){var t=ho(n,2),l=t[0],o=t[1];return{row:l,column:o}}),e.length===1&&(e=[e[0],e[0]]),e}function So(r,e,n,t,l,o){var i=e.createDocument(r),u=go(i,e,n,t,l,o),s=ko(i)||po(u);return{cells:u,dimensions:s}}function To(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Co(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Co(r,e){if(r){if(typeof r=="string")return Tn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tn(r,e)}}function Tn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Oo(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.rowMap,t=e.accessor,l=t===void 0?function(c){return c}:t,o=e.onlyTrimAtTheEnd,i=r.length-1;i>=0;){for(var u=!0,s=To(r[i]),a;!(a=s()).done;){var f=a.value;if(l(f)!==null){u=!1;break}}if(u)r.splice(i,1),n&&n.splice(i,1);else if(o)break;i--}return r}function Ao(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Lo(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lo(r,e){if(r){if(typeof r=="string")return Cn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cn(r,e)}}function Cn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Io(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.accessor,t=n===void 0?function(c){return c}:n,l=e.onlyTrimAtTheEnd,o=r[0].length-1;o>=0;){for(var i=!0,u=Ao(r),s;!(s=u()).done;){var a=s.value;if(t(a[o])!==null){i=!1;break}}if(i)for(var f=0;f<r.length;)r[f].splice(o,1),f++;else if(l)break;o--}return r}function Po(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Or(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function No(r,e){return Fo(r)||Eo(r,e)||Or(r,e)||Mo()}function Mo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Or(r,e){if(r){if(typeof r=="string")return On(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(r,e)}}function On(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Eo(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var t=[],l=!0,o=!1,i,u;try{for(n=n.call(r);!(l=(i=n.next()).done)&&(t.push(i.value),!(e&&t.length===e));l=!0);}catch(s){o=!0,u=s}finally{try{!l&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function Fo(r){if(Array.isArray(r))return r}function Do(r,e){var n=r.dimensions,t=r.cells;if(t.length===0)return[];var l=No(n,2);l[0];for(var o=l[1],i=o.column,u=o.row,s=new Array(u),a=0;a<u;){s[a]=new Array(i);for(var f=0;f<i;)s[a][f]=null,f++;a++}for(var c=Po(t),d;!(d=c()).done;){var _=d.value,C=_.row-1,S=_.column-1;S<i&&C<u&&(s[C][S]=_.value)}var T=e.rowMap;if(T)for(var k=0;k<s.length;)T[k]=k,k++;return s=Oo(Io(s,{onlyTrimAtTheEnd:!0}),{onlyTrimAtTheEnd:!0,rowMap:T}),e.transformData&&(s=e.transformData(s)),s}function jo(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Bo(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bo(r,e){if(r){if(typeof r=="string")return An(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(r,e)}}function An(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Ln(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,t)}return n}function Ho(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ln(Object(n),!0).forEach(function(t){Ro(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Ro(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Go(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n.sheet||(n=Ho({sheet:1},n));var t=function(d){if(!r[d])throw new Error('"'.concat(d,'" file not found inside the *.xlsx file zip archive'));return r[d]},l=Zl(t("xl/_rels/workbook.xml.rels"),e),o=l.sharedStrings?to(t(l.sharedStrings),e):[],i=l.styles?xl(t(l.styles),e):{},u=Jl(t("xl/workbook.xml"),e);if(n.getSheets)return u.sheets.map(function(c){var d=c.name;return{name:d}});var s=Wo(n.sheet,u.sheets);if(!s||!l.sheets[s])throw Uo(n.sheet,u.sheets);var a=So(t(l.sheets[s]),e,o,i,u,n),f=Do(a,n);return n.properties?{data:f,properties:u}:f}function Wo(r,e){if(typeof r=="number"){var n=e[r-1];return n&&n.relationId}for(var t=jo(e),l;!(l=t()).done;){var o=l.value;if(o.name===r)return o.relationId}}function Uo(r,e){var n=e&&e.map(function(t,l){return'"'.concat(t.name,'" (#').concat(l+1,")")}).join(", ");return new Error("Sheet ".concat(typeof r=="number"?"#"+r:'"'+r+'"'," not found in the *.xlsx file.").concat(e?" Available sheets: "+n+".":""))}function Qt(r){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(r)}function In(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function zo(r,e,n){return e&&In(r.prototype,e),n&&In(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function qo(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Vo(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&kt(r,e)}function Xo(r){var e=Ar();return function(){var t=St(r),l;if(e){var o=St(this).constructor;l=Reflect.construct(t,arguments,o)}else l=t.apply(this,arguments);return Ko(this,l)}}function Ko(r,e){if(e&&(Qt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yo(r)}function Yo(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function xt(r){var e=typeof Map=="function"?new Map:void 0;return xt=function(t){if(t===null||!Jo(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(t))return e.get(t);e.set(t,l)}function l(){return Pt(t,arguments,St(this).constructor)}return l.prototype=Object.create(t.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),kt(l,t)},xt(r)}function Pt(r,e,n){return Ar()?Pt=Reflect.construct:Pt=function(l,o,i){var u=[null];u.push.apply(u,o);var s=Function.bind.apply(l,u),a=new s;return i&&kt(a,i.prototype),a},Pt.apply(null,arguments)}function Ar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jo(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function kt(r,e){return kt=Object.setPrototypeOf||function(t,l){return t.__proto__=l,t},kt(r,e)}function St(r){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},St(r)}var _e=function(r){Vo(n,r);var e=Xo(n);function n(t){var l;return qo(this,n),l=e.call(this,"invalid"),l.reason=t,l}return zo(n)}(xt(Error));function Zo(r){if(typeof r=="string"){var e=r;if(r=Number(r),String(r)!==e)throw new _e("not_a_number")}if(typeof r!="number")throw new _e("not_a_number");if(isNaN(r))throw new _e("invalid_number");if(!isFinite(r))throw new _e("out_of_bounds");return r}function Qo(r){if(typeof r=="string")return r;if(typeof r=="number"){if(isNaN(r))throw new _e("invalid_number");if(!isFinite(r))throw new _e("out_of_bounds");return String(r)}throw new _e("not_a_string")}function xo(r){if(typeof r=="boolean")return r;throw new _e("not_a_boolean")}function es(r,e){var n=e.properties;if(r instanceof Date){if(isNaN(r.valueOf()))throw new _e("out_of_bounds");return r}if(typeof r=="number"){if(isNaN(r))throw new _e("invalid_number");if(!isFinite(r))throw new _e("out_of_bounds");var t=Tr(r,n);if(isNaN(t.valueOf()))throw new _e("out_of_bounds");return t}throw new _e("not_a_date")}function ts(r,e){return ls(r)||rs(r,e)||Lr(r,e)||ns()}function ns(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rs(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var t=[],l=!0,o=!1,i,u;try{for(n=n.call(r);!(l=(i=n.next()).done)&&(t.push(i.value),!(e&&t.length===e));l=!0);}catch(s){o=!0,u=s}finally{try{!l&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function ls(r){if(Array.isArray(r))return r}function en(r){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(r)}function os(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Lr(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lr(r,e){if(r){if(typeof r=="string")return Pn(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pn(r,e)}}function Pn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Nn(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,t)}return n}function Mn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nn(Object(n),!0).forEach(function(t){ss(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ss(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var En={isColumnOriented:!1};function is(r,e,n){n?n=Mn(Mn({},En),n):n=En;var t=n,l=t.isColumnOriented,o=t.rowMap,i=t.ignoreEmptyRows;cs(e),l&&(r=us(r));for(var u=r[0],s=[],a=[],f=1;f<r.length;f++){var c=Ir(e,r[f],f,u,a,n);(c!==null||i===!1)&&s.push(c)}if(o)for(var d=os(a),_;!(_=d()).done;){var C=_.value;C.row=o[C.row-1]+1}return{rows:s,errors:a}}function Ir(r,e,n,t,l,o){for(var i={},u=!0,s=function(){var d=f[a],_=r[d],C=en(_.type)==="object"&&!Array.isArray(_.type),S=e[t.indexOf(d)];S===void 0&&(S=null);var T=void 0,k=void 0,L=void 0;if(C)T=Ir(_.type,e,n,t,l,o);else if(S===null)T=null;else if(Array.isArray(_.type)){var F=!1,j=fs(S).map(function(E){var P=Fn(E,_,o);return P.error&&(T=E,k=P.error,L=P.reason),P.value!==null&&(F=!0),P.value});k||(T=F?j:null)}else{var I=Fn(S,_,o);k=I.error,L=I.reason,T=k?S:I.value}!k&&T===null&&_.required&&(k="required"),k?(k={error:k,row:n+1,column:d,value:T},L&&(k.reason=L),_.type&&(k.type=_.type),l.push(k)):(u&&T!==null&&(u=!1),(T!==null||o.includeNullValues)&&(i[_.prop]=T))},a=0,f=Object.keys(r);a<f.length;a++)s();return u?null:i}function Fn(r,e,n){if(r===null)return{value:null};var t;if(e.parse?t=rt(r,e.parse):e.type?t=as(r,Array.isArray(e.type)?e.type[0]:e.type,n):t={value:r},t.error)return t;if(t.value!==null){if(e.oneOf&&e.oneOf.indexOf(t.value)<0)return{error:"invalid",reason:"unknown"};if(e.validate)try{e.validate(t.value)}catch(l){return{error:l.message}}}return t}function rt(r,e){try{return r=e(r),r===void 0?{value:null}:{value:r}}catch(t){var n={error:t.message};return t.reason&&(n.reason=t.reason),n}}function as(r,e,n){switch(e){case String:return rt(r,Qo);case Number:return rt(r,Zo);case Date:return rt(r,function(t){return es(t,{properties:n.properties})});case Boolean:return rt(r,xo);default:if(typeof e=="function")return rt(r,e);throw new Error("Unsupported schema type: ".concat(e&&e.name||e))}}function Pr(r,e,n){for(var t=0,l="";n+t<r.length;){var o=r[n+t];if(o===e)return[l,t];if(o==='"'){var i=Pr(r,'"',n+t+1);l+=i[0],t+=1+i[1]+1}else l+=o,t++}return[l,t]}function fs(r){for(var e=[],n=0;n<r.length;){var t=Pr(r,",",n),l=ts(t,2),o=l[0],i=l[1];n+=i+1,e.push(o.trim())}return e}var us=function(e){return e[0].map(function(n,t){return e.map(function(l){return l[t]})})};function cs(r){for(var e=0,n=Object.keys(r);e<n.length;e++){var t=n[e],l=r[t];if(!l.prop)throw new Error('"prop" not defined for schema entry "'.concat(t,'".'))}}function tn(r){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(r)}function Nr(r){for(var e={},n=0,t=Object.keys(r);n<t.length;n++){var l=t[n],o=r[l],i=void 0;tn(o)==="object"&&(o=Object.keys(r[l])[0],i=Nr(r[l][o])),e[l]={prop:o},i&&(e[l].type=i)}return e}var $s=["schema","map"];function Dn(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,t)}return n}function It(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dn(Object(n),!0).forEach(function(t){ps(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ps(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ms(r,e){if(r==null)return{};var n=_s(r,e),t,l;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(l=0;l<o.length;l++)t=o[l],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function _s(r,e){if(r==null)return{};var n={},t=Object.keys(r),l,o;for(o=0;o<t.length;o++)l=t[o],!(e.indexOf(l)>=0)&&(n[l]=r[l]);return n}function gs(r,e,n){var t=n.schema,l=n.map,o=ms(n,$s);!t&&l&&(t=Nr(l));var i=Go(r,e,It(It({},o),{},{properties:t||o.properties}));return t?is(i.data,t,It(It({},o),{},{properties:i.properties})):i}function ds(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Fl(r).then(function(n){return gs(n,dl,e)})}function hs(r){let e=new Map;for(let[t,l]of Object.entries(r.schemes))e.set(t,{scheme_reference:t,num_features:0,authority_or_region:l.authority_or_region,capital_scheme_id:l.capital_scheme_id,funding_programme:l.funding_programme});r.features=r.features.filter(t=>bs(t));let n=1;for(let t of r.features){let l=e.get(t.properties.scheme_reference);l.num_features++,t.properties.funding_programme=l.funding_programme,t.id=n++}return e}function bs(r){return!["eb0ad8ed183c137da4bae66afa944da9","0a568f07241be96f0a70aa73a0de80c8","6c4a5d57176eaeb3296eba790f869909","475e9a43749ce09c7edaaffa0ae57a2f","117b783cb2916a1bb4262960e523acc5","7a600e6342b226aa0983c8dfed19254f","84cc5eb1b52a4e49188058373e587ff0"].includes(r.properties.id)}async function vs(r){let e={ID:"id",Inspector:"inspector","Submission Time":"submission_time","Please enter the Scheme Reference number, (e.g. ATF2_WYO_01)":"scheme_reference","Please enter current Design Stage":"current_design_stage","Select Critical Issue type below:":"critical_type","Please Enter Latitude and Longitude \n(Right click on location in Google, left click on information to copy to clipboard, paste below)":"lat_lon",Column1:"location_description","Enter any additional information (e.g. any comments or notes about this critical issue)":"notes"},{rows:n}=await ds(r,{map:e,sheet:"Form Input"}),t={type:"FeatureCollection",features:[]};for(let l of n){let o=Hr(l.lat_lon.split(",").map(parseFloat).reverse()),i=l;i.submission_time=l.submission_time.toLocaleString(),t.features.push({type:"Feature",properties:i,geometry:{type:"Point",coordinates:o},id:t.features.length+1})}return t}const Q={schools:"#007DBB",hospitals:"#B73D25",mrn:"#006478",sports_spaces:"#013220",railway_stations:"#A52A2A",parliamentary_constituencies:"#006E59",wards:"purple",combined_authorities:"cyan",local_authority_districts:"orange",local_planning_authorities:"red",bus_route_with_lane:"#9362BA",bus_route_without_lane:"#C2A6D8",cycle_parking:"black",crossings:"green",cycle_paths:{track:"#0000FF",lane:"#009FEF",shared_use_segregated:"#FF9900",shared_use_unsegregated:"#E7E700"},sequential_low_to_high:["#CDE594","#80C6A3","#1F9EB7","#186290","#080C54"],atf2:"#00AFFF",atf3:"#FF62DC",atf4:"#FFD833"},Fe=["interpolate",["exponential",1.6],["zoom"],3,1,7,2,18,20];function ws(r){let e,n,t,l,o;function i(s){r[3](s)}let u={label:"Color interventions",id:"colorInterventions",choices:[["interventionType","By intervention type"],["fundingProgramme","By funding programme"]]};return r[0]!==void 0&&(u.value=r[0]),e=new yt({props:u}),W.push(()=>V(e,"value",i)),e.$on("change",r[2]),l=new Zr({props:{rows:r[1]}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};!n&&a&1&&(n=!0,f.value=s[0],X(()=>n=!1)),e.$set(f);const c={};a&2&&(c.rows=s[1]),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}function ys(r,e,n){let t;We(r,Rt,s=>n(4,t=s));let l="interventionType",o=hn("v1");function i(){let s;l=="interventionType"?(s=_r("v1"),n(1,o=hn("v1"))):(s=cr(["get","funding_programme"],{ATF2:Q.atf2,ATF3:Q.atf3,ATF4:Q.atf4},"grey"),n(1,o=[["ATF2",Q.atf2],["ATF3",Q.atf3],["ATF4",Q.atf4]])),t.setPaintProperty("interventions-points","circle-color",s),t.setPaintProperty("interventions-lines","line-color",s),t.setPaintProperty("interventions-polygons","fill-color",s),t.setPaintProperty("interventions-polygons-outlines","line-color",s)}function u(s){l=s,n(0,l)}return[l,o,i,u]}class ks extends U{constructor(e){super(),z(this,e,ys,ws,G,{})}}function Ss(r){let e;return{c(){e=w("Clear")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Ts(r){let e,n,t,l,o,i;return t=new Yt({props:{$$slots:{default:[Ss]},$$scope:{ctx:r}}}),t.$on("click",r[13]),{c(){e=A("input"),n=O(),h(t.$$.fragment),x(e,"type","text"),x(e,"class","govuk-input govuk-input--width-10"),x(e,"id","filterText")},m(u,s){p(u,e,s),$n(e,r[0]),p(u,n,s),b(t,u,s),l=!0,o||(i=nn(e,"input",r[12]),o=!0)},p(u,s){s&1&&e.value!==u[0]&&$n(e,u[0]);const a={};s&65536&&(a.$$scope={dirty:s,ctx:u}),t.$set(a)},i(u){l||($(t.$$.fragment,u),l=!0)},o(u){g(t.$$.fragment,u),l=!1},d(u){u&&(m(e),m(n)),v(t,u),o=!1,i()}}}function Cs(r){let e,n,t,l,o,i,u,s,a,f;function c(S){r[10](S)}let d={label:"Authority or region",id:"filterAuthority",choices:r[5],emptyOption:!0};r[3]!==void 0&&(d.value=r[3]),e=new yt({props:d}),W.push(()=>V(e,"value",c));function _(S){r[11](S)}let C={label:"Funding programme",id:"filterFundingProgramme",choices:r[6],emptyOption:!0};return r[4]!==void 0&&(C.value=r[4]),l=new yt({props:C}),W.push(()=>V(l,"value",_)),u=new $r({props:{label:"Intervention name or description",id:"filterText",$$slots:{default:[Ts]},$$scope:{ctx:r}}}),a=new ks({}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment),i=O(),h(u.$$.fragment),s=O(),h(a.$$.fragment)},m(S,T){b(e,S,T),p(S,t,T),b(l,S,T),p(S,i,T),b(u,S,T),p(S,s,T),b(a,S,T),f=!0},p(S,T){const k={};T&32&&(k.choices=S[5]),!n&&T&8&&(n=!0,k.value=S[3],X(()=>n=!1)),e.$set(k);const L={};T&64&&(L.choices=S[6]),!o&&T&16&&(o=!0,L.value=S[4],X(()=>o=!1)),l.$set(L);const F={};T&65537&&(F.$$scope={dirty:T,ctx:S}),u.$set(F)},i(S){f||($(e.$$.fragment,S),$(l.$$.fragment,S),$(u.$$.fragment,S),$(a.$$.fragment,S),f=!0)},o(S){g(e.$$.fragment,S),g(l.$$.fragment,S),g(u.$$.fragment,S),g(a.$$.fragment,S),f=!1},d(S){S&&(m(t),m(i),m(s)),v(e,S),v(l,S),v(u,S),v(a,S)}}}function Os(r){let e,n=r[1].size.toLocaleString()+"",t,l,o=r[7].route.toLocaleString()+"",i,u,s=r[7].area.toLocaleString()+"",a,f,c=r[7].crossing.toLocaleString()+"",d,_,C=r[7].other.toLocaleString()+"",S,T;return{c(){e=w("Showing "),t=w(n),l=w(" schemes ("),i=w(o),u=w(`
    routes, `),a=w(s),f=w(` areas,
    `),d=w(c),_=w(" crossings, "),S=w(C),T=w(`
    other)`)},m(k,L){p(k,e,L),p(k,t,L),p(k,l,L),p(k,i,L),p(k,u,L),p(k,a,L),p(k,f,L),p(k,d,L),p(k,_,L),p(k,S,L),p(k,T,L)},p(k,L){L&2&&n!==(n=k[1].size.toLocaleString()+"")&&H(t,n),L&128&&o!==(o=k[7].route.toLocaleString()+"")&&H(i,o),L&128&&s!==(s=k[7].area.toLocaleString()+"")&&H(a,s),L&128&&c!==(c=k[7].crossing.toLocaleString()+"")&&H(d,c),L&128&&C!==(C=k[7].other.toLocaleString()+"")&&H(S,C)},d(k){k&&(m(e),m(t),m(l),m(i),m(u),m(a),m(f),m(d),m(_),m(S),m(T))}}}function As(r){let e,n,t;function l(i){r[14](i)}let o={id:"show-schemes",$$slots:{default:[Os]},$$scope:{ctx:r}};return r[2]!==void 0&&(o.checked=r[2]),e=new re({props:o}),W.push(()=>V(e,"checked",l)),{c(){h(e.$$.fragment)},m(i,u){b(e,i,u),t=!0},p(i,u){const s={};u&65666&&(s.$$scope={dirty:u,ctx:i}),!n&&u&4&&(n=!0,s.checked=i[2],X(()=>n=!1)),e.$set(s)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){g(e.$$.fragment,i),t=!1},d(i){v(e,i)}}}function Ls(r){let e,n,t,l;return e=new Ae({props:{label:"Filters",$$slots:{default:[Cs]},$$scope:{ctx:r}}}),t=new Ct({props:{small:!0,$$slots:{default:[As]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,i){b(e,o,i),p(o,n,i),b(t,o,i),l=!0},p(o,[i]){const u={};i&65657&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&65670&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||($(e.$$.fragment,o),$(t.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),l=!1},d(o){o&&m(n),v(e,o),v(t,o)}}}function Is(r,e,n){let{schemesGj:t}=e,{schemes:l}=e,{schemesToBeShown:o=new Set}=e,{filterText:i=""}=e,{show:u=!0}=e,s=[],a="",f=[],c="",d={area:0,route:0,crossing:0,other:0};Gt(()=>{let F=new Set,j=new Set;for(let I of l.values())I.authority_or_region&&F.add(I.authority_or_region),I.funding_programme&&j.add(I.funding_programme);n(5,s=Array.from(F.entries())),s.sort(),n(6,f=Array.from(j.entries())),f.sort()});function _(F,j,I){let E=F.toLowerCase(),P=M=>{var R,D;if(E&&!((R=M.properties.name)!=null&&R.toLowerCase().includes(E))&&!((D=M.properties.description)!=null&&D.toLowerCase().includes(E)))return!1;if(j||I){let se=l.get(M.properties.scheme_reference);if(j&&se.authority_or_region!=j||I&&se.funding_programme!=I)return!1}return!0};n(1,o=new Set(t.features.filter(P).map(M=>M.properties.scheme_reference))),n(7,d={area:0,route:0,crossing:0,other:0});let N=M=>{var R,D;return!(!o.has(M.properties.scheme_reference)||E&&!((R=M.properties.name)!=null&&R.toLowerCase().includes(E))&&!((D=M.properties.description)!=null&&D.toLowerCase().includes(E)))};for(let M of t.features)N(M)?(delete M.properties.hide_while_editing,n(7,d[M.properties.intervention_type]++,d)):M.properties.hide_while_editing=!0;n(8,t),n(7,d)}function C(F){a=F,n(3,a)}function S(F){c=F,n(4,c)}function T(){i=this.value,n(0,i)}const k=()=>n(0,i="");function L(F){u=F,n(2,u)}return r.$$set=F=>{"schemesGj"in F&&n(8,t=F.schemesGj),"schemes"in F&&n(9,l=F.schemes),"schemesToBeShown"in F&&n(1,o=F.schemesToBeShown),"filterText"in F&&n(0,i=F.filterText),"show"in F&&n(2,u=F.show)},r.$$.update=()=>{r.$$.dirty&25&&_(i,a,c)},[i,o,u,a,c,s,f,d,t,l,C,S,T,k,L]}class Ps extends U{constructor(e){super(),z(this,e,Is,Ls,G,{schemesGj:8,schemes:9,schemesToBeShown:1,filterText:0,show:2})}}function Ns(r){let e;return{c(){e=w(`Open Government License
  `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Ms(r){let e,n,t,l,o;return t=new q({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[Ns]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("License: "),h(t.$$.fragment),l=w(`. Contains OS data © Crown copyright and database right
  2023.`)},m(i,u){p(i,e,u),y(e,n),b(t,e,null),y(e,l),o=!0},p(i,[u]){const s={};u&1&&(s.$$scope={dirty:u,ctx:i}),t.$set(s)},i(i){o||($(t.$$.fragment,i),o=!0)},o(i){g(t.$$.fragment,i),o=!1},d(i){i&&m(e),v(t)}}}class Me extends U{constructor(e){super(),z(this,e,null,Ms,G,{})}}function jn(r,e,n){const t=r.slice();return t[2]=e[n],t}function Bn(r,e,n){const t=r.slice();return t[5]=e[n],t}function Hn(r){let e,n;return{c(){e=A("span"),n=w(` 
    `),ke(e,"background",r[5]),ke(e,"width","100%"),ke(e,"border","1px solid black")},m(t,l){p(t,e,l),y(e,n)},p(t,l){l&1&&ke(e,"background",t[5])},d(t){t&&m(e)}}}function Rn(r){let e,n=r[2]+"",t;return{c(){e=A("span"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&2&&n!==(n=l[2]+"")&&H(t,n)},d(l){l&&m(e)}}}function Es(r){let e,n,t,l=Ge(r[0]),o=[];for(let s=0;s<l.length;s+=1)o[s]=Hn(Bn(r,l,s));let i=Ge(r[1]),u=[];for(let s=0;s<i.length;s+=1)u[s]=Rn(jn(r,i,s));return{c(){e=A("div");for(let s=0;s<o.length;s+=1)o[s].c();n=O(),t=A("div");for(let s=0;s<u.length;s+=1)u[s].c();ke(e,"display","flex"),ke(t,"display","flex"),ke(t,"justify-content","space-between")},m(s,a){p(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);p(s,n,a),p(s,t,a);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(t,null)},p(s,[a]){if(a&1){l=Ge(s[0]);let f;for(f=0;f<l.length;f+=1){const c=Bn(s,l,f);o[f]?o[f].p(c,a):(o[f]=Hn(c),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}if(a&2){i=Ge(s[1]);let f;for(f=0;f<i.length;f+=1){const c=jn(s,i,f);u[f]?u[f].p(c,a):(u[f]=Rn(c),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=i.length}},i:te,o:te,d(s){s&&(m(e),m(n),m(t)),Nt(o,s),Nt(u,s)}}}function Fs(r,e,n){let{colorScale:t}=e,{limits:l}=e;return r.$$set=o=>{"colorScale"in o&&n(0,t=o.colorScale),"limits"in o&&n(1,l=o.limits)},[t,l]}class ze extends U{constructor(e){super(),z(this,e,Fs,Es,G,{colorScale:0,limits:1})}}function Gn(r){const e=r[13].OA21CD;r[14]=e;const n=r[13][r[3]];r[15]=n}function Ds(r){let e;return{c(){e=w("Percent of households with a car")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function js(r){let e;return{c(){e=w(`NOMIS TS045
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Bs(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Hs(r){let e;return{c(){e=w(`Open Government License
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Rs(r){let e,n,t,l,o,i,u,s,a,f,c,d;return t=new q({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[js]},$$scope:{ctx:r}}}),o=new q({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[Bs]},$$scope:{ctx:r}}}),f=new q({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[Hs]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("Car/van availability data is from the 2021 census, via "),h(t.$$.fragment),l=w(". Output area boundaries from "),h(o.$$.fragment),i=w("."),u=O(),s=A("p"),a=w("License: "),h(f.$$.fragment),c=w(`. Contains OS data © Crown copyright and database
        right 2023.`)},m(_,C){p(_,e,C),y(e,n),b(t,e,null),y(e,l),b(o,e,null),y(e,i),p(_,u,C),p(_,s,C),y(s,a),b(f,s,null),y(s,c),d=!0},p(_,C){const S={};C&65536&&(S.$$scope={dirty:C,ctx:_}),t.$set(S);const T={};C&65536&&(T.$$scope={dirty:C,ctx:_}),o.$set(T);const k={};C&65536&&(k.$$scope={dirty:C,ctx:_}),f.$set(k)},i(_){d||($(t.$$.fragment,_),$(o.$$.fragment,_),$(f.$$.fragment,_),d=!0)},o(_){g(t.$$.fragment,_),g(o.$$.fragment,_),g(f.$$.fragment,_),d=!1},d(_){_&&(m(e),m(u),m(s)),v(t),v(o),v(f)}}}function Gs(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Rs]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&65536&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Wn(r){let e,n;return e=new ze({props:{colorScale:r[4],limits:r[6]()}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:te,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ws(r){let e;return{c(){e=w("Average cars per household")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Us(r){let e;return{c(){e=w(`NOMIS TS045
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function zs(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function qs(r){let e;return{c(){e=w(`Open Government License
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Vs(r){let e,n,t,l,o,i,u,s,a,f,c,d,_,C;return o=new q({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[Us]},$$scope:{ctx:r}}}),u=new q({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[zs]},$$scope:{ctx:r}}}),d=new q({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[qs]},$$scope:{ctx:r}}}),{c(){e=A("p"),e.textContent=`Where the census counts "3 or more cars or vans", the average shown here
        assumes 3.`,n=O(),t=A("p"),l=w("Car/van availability data is from the 2021 census, via "),h(o.$$.fragment),i=w(". Output area boundaries from "),h(u.$$.fragment),s=w("."),a=O(),f=A("p"),c=w("License: "),h(d.$$.fragment),_=w(`. Contains OS data © Crown copyright and database
        right 2023.`)},m(S,T){p(S,e,T),p(S,n,T),p(S,t,T),y(t,l),b(o,t,null),y(t,i),b(u,t,null),y(t,s),p(S,a,T),p(S,f,T),y(f,c),b(d,f,null),y(f,_),C=!0},p(S,T){const k={};T&65536&&(k.$$scope={dirty:T,ctx:S}),o.$set(k);const L={};T&65536&&(L.$$scope={dirty:T,ctx:S}),u.$set(L);const F={};T&65536&&(F.$$scope={dirty:T,ctx:S}),d.$set(F)},i(S){C||($(o.$$.fragment,S),$(u.$$.fragment,S),$(d.$$.fragment,S),C=!0)},o(S){g(o.$$.fragment,S),g(u.$$.fragment,S),g(d.$$.fragment,S),C=!1},d(S){S&&(m(e),m(n),m(t),m(a),m(f)),v(o),v(u),v(d)}}}function Xs(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Vs]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&65536&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Un(r){let e,n;return e=new ze({props:{colorScale:r[4],limits:r[6]()}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:te,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ks(r){let e;return{c(){e=w("Population density")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Ys(r){let e;return{c(){e=w(`NOMIS TS006
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Js(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Zs(r){let e,n,t,l,o,i,u,s,a;return t=new q({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[Ys]},$$scope:{ctx:r}}}),o=new q({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[Js]},$$scope:{ctx:r}}}),s=new Me({}),{c(){e=A("p"),n=w("Population density data is from the 2021 census, via "),h(t.$$.fragment),l=w(". Output area boundaries from "),h(o.$$.fragment),i=w("."),u=O(),h(s.$$.fragment)},m(f,c){p(f,e,c),y(e,n),b(t,e,null),y(e,l),b(o,e,null),y(e,i),p(f,u,c),b(s,f,c),a=!0},p(f,c){const d={};c&65536&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const _={};c&65536&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){a||($(t.$$.fragment,f),$(o.$$.fragment,f),$(s.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),g(s.$$.fragment,f),a=!1},d(f){f&&(m(e),m(u)),v(t),v(o),v(s,f)}}}function Qs(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Zs]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&65536&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function zn(r){let e,n,t,l;return t=new ze({props:{colorScale:r[4],limits:r[6]().map(si)}}),{c(){e=A("p"),e.textContent="(people per square kilometres)",n=O(),h(t.$$.fragment)},m(o,i){p(o,e,i),p(o,n,i),b(t,o,i),l=!0},p:te,i(o){l||($(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&(m(e),m(n)),v(t,o)}}}function xs(r){let e,n,t,l=r[15].toLocaleString()+"",o,i,u=r[14]+"",s;return{c(){e=A("p"),n=w("There are "),t=A("b"),o=w(l),i=w(`
          people per square kilometre in `),s=w(u)},m(a,f){p(a,e,f),y(e,n),y(e,t),y(t,o),y(e,i),y(e,s)},p(a,f){f&8200&&l!==(l=a[15].toLocaleString()+"")&&H(o,l),f&8192&&u!==(u=a[14]+"")&&H(s,u)},d(a){a&&m(e)}}}function ei(r){let e,n,t=r[14]+"",l,o,i,u=r[15]+"",s,a;return{c(){e=A("p"),n=w("Households in "),l=w(t),o=w(` have an average of
          `),i=A("b"),s=w(u),a=w(`
          cars`)},m(f,c){p(f,e,c),y(e,n),y(e,l),y(e,o),y(e,i),y(i,s),y(e,a)},p(f,c){c&8192&&t!==(t=f[14]+"")&&H(l,t),c&8200&&u!==(u=f[15]+"")&&H(s,u)},d(f){f&&m(e)}}}function ti(r){let e,n,t=r[15]+"",l,o,i,u=r[14]+"",s,a;return{c(){e=A("p"),n=A("b"),l=w(t),o=w("%"),i=w(`
          of households in `),s=w(u),a=w(" have 1 or more cars")},m(f,c){p(f,e,c),y(e,n),y(n,l),y(n,o),y(e,i),y(e,s),y(e,a)},p(f,c){c&8200&&t!==(t=f[15]+"")&&H(l,t),c&8192&&u!==(u=f[14]+"")&&H(s,u)},d(f){f&&m(e)}}}function ni(r){Gn(r);let e;function n(o,i){return o[3]=="percent_households_with_car"?ti:o[3]=="average_cars_per_household"?ei:xs}let t=n(r),l=t(r);return{c(){l.c(),e=Ne()},m(o,i){l.m(o,i),p(o,e,i)},p(o,i){Gn(o),t===(t=n(o))&&l?l.p(o,i):(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&m(e),l.d(o)}}}function ri(r){let e,n;return e=new le({props:{$$slots:{default:[ni,({props:t})=>({13:t}),({props:t})=>t?8192:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&73736&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function li(r){let e,n,t,l;const o=[B(Ke),{sourceLayer:Ke},{paint:{"fill-color":$e(["get",r[3]],r[6](),r[4]),"fill-opacity":K(.5,.7)}},{layout:{visibility:r[3]!=""?"visible":"none"}},{eventsIfTopMost:!0},{manageHoverState:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[ri]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new De({props:i}),e.$on("click",r[5]);const u=[B(`${Ke}-outline`),{paint:{"line-color":"black","line-width":.5}},{layout:{visibility:r[3]!=""?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new ue({props:s}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),p(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&88?J(o,[f&0&&ee(B(Ke)),f&0&&{sourceLayer:Ke},f&88&&{paint:{"fill-color":$e(["get",a[3]],a[6](),a[4]),"fill-opacity":K(.5,.7)}},f&8&&{layout:{visibility:a[3]!=""?"visible":"none"}},o[4],o[5],o[6]]):{};f&65544&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&8?J(u,[f&0&&ee(B(`${Ke}-outline`)),u[1],f&8&&{layout:{visibility:a[3]!=""?"visible":"none"}}]):{};t.$set(d)},i(a){l||($(e.$$.fragment,a),$(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&m(n),v(e,a),v(t,a)}}}function oi(r){let e,n,t,l,o,i,u,s,a,f,c,d,_,C;function S(N){r[7](N)}let T={id:"percent_households_with_car",$$slots:{right:[Gs],default:[Ds]},$$scope:{ctx:r}};r[0]!==void 0&&(T.checked=r[0]),e=new re({props:T}),W.push(()=>V(e,"checked",S)),e.$on("change",r[8]);let k=r[3]=="percent_households_with_car"&&Wn(r);function L(N){r[9](N)}let F={id:"average_cars_per_household",$$slots:{right:[Xs],default:[Ws]},$$scope:{ctx:r}};r[1]!==void 0&&(F.checked=r[1]),o=new re({props:F}),W.push(()=>V(o,"checked",L)),o.$on("change",r[10]);let j=r[3]=="average_cars_per_household"&&Un(r);function I(N){r[11](N)}let E={id:"population_density",$$slots:{right:[Qs],default:[Ks]},$$scope:{ctx:r}};r[2]!==void 0&&(E.checked=r[2]),a=new re({props:E}),W.push(()=>V(a,"checked",I)),a.$on("change",r[12]);let P=r[3]=="population_density"&&zn(r);return _=new ce({props:{url:`pmtiles://${ie()}/v1/${Ke}.pmtiles`,$$slots:{default:[li]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),k&&k.c(),l=O(),h(o.$$.fragment),u=O(),j&&j.c(),s=O(),h(a.$$.fragment),c=O(),P&&P.c(),d=O(),h(_.$$.fragment)},m(N,M){b(e,N,M),p(N,t,M),k&&k.m(N,M),p(N,l,M),b(o,N,M),p(N,u,M),j&&j.m(N,M),p(N,s,M),b(a,N,M),p(N,c,M),P&&P.m(N,M),p(N,d,M),b(_,N,M),C=!0},p(N,[M]){const R={};M&65536&&(R.$$scope={dirty:M,ctx:N}),!n&&M&1&&(n=!0,R.checked=N[0],X(()=>n=!1)),e.$set(R),N[3]=="percent_households_with_car"?k?(k.p(N,M),M&8&&$(k,1)):(k=Wn(N),k.c(),$(k,1),k.m(l.parentNode,l)):k&&(ae(),g(k,1,1,()=>{k=null}),fe());const D={};M&65536&&(D.$$scope={dirty:M,ctx:N}),!i&&M&2&&(i=!0,D.checked=N[1],X(()=>i=!1)),o.$set(D),N[3]=="average_cars_per_household"?j?(j.p(N,M),M&8&&$(j,1)):(j=Un(N),j.c(),$(j,1),j.m(s.parentNode,s)):j&&(ae(),g(j,1,1,()=>{j=null}),fe());const se={};M&65536&&(se.$$scope={dirty:M,ctx:N}),!f&&M&4&&(f=!0,se.checked=N[2],X(()=>f=!1)),a.$set(se),N[3]=="population_density"?P?(P.p(N,M),M&8&&$(P,1)):(P=zn(N),P.c(),$(P,1),P.m(d.parentNode,d)):P&&(ae(),g(P,1,1,()=>{P=null}),fe());const Z={};M&65544&&(Z.$$scope={dirty:M,ctx:N}),_.$set(Z)},i(N){C||($(e.$$.fragment,N),$(k),$(o.$$.fragment,N),$(j),$(a.$$.fragment,N),$(P),$(_.$$.fragment,N),C=!0)},o(N){g(e.$$.fragment,N),g(k),g(o.$$.fragment,N),g(j),g(a.$$.fragment,N),g(P),g(_.$$.fragment,N),C=!1},d(N){N&&(m(t),m(l),m(u),m(s),m(c),m(d)),v(e,N),k&&k.d(N),v(o,N),j&&j.d(N),v(a,N),P&&P.d(N),v(_,N)}}}let Ke="census_output_areas";const si=r=>r.toLocaleString();function ii(r,e,n){let t=Q.sequential_low_to_high,l=!1,o=!1,i=!1,u="";function s(T){let k=T.detail.features[0].properties.OA21CD;u=="percent_households_with_car"||u=="average_cars_per_household"?window.open(`https://www.ons.gov.uk/census/maps/choropleth/housing/number-of-cars-or-vans/number-of-cars-5a/no-cars-or-vans-in-household?oa=${k}`,"_blank"):window.open(`https://www.ons.gov.uk/census/maps/choropleth/population/population-density/population-density/persons-per-square-kilometre?oa=${k}`,"_blank")}function a(){return u=="percent_households_with_car"?[0,20,40,60,80,100]:u=="average_cars_per_household"?[0,.5,1,1.5,2,2.5]:[0,4700,13e3,33e3,94e3,198e4]}function f(T){l=T,n(0,l)}const c=()=>{n(1,o=!1),n(2,i=!1)};function d(T){o=T,n(1,o)}const _=()=>{n(0,l=!1),n(2,i=!1)};function C(T){i=T,n(2,i)}const S=()=>{n(0,l=!1),n(1,o=!1)};return r.$$.update=()=>{r.$$.dirty&7&&(l?n(3,u="percent_households_with_car"):o?n(3,u="average_cars_per_household"):i?n(3,u="population_density"):n(3,u=""))},[l,o,i,u,t,s,a,f,c,d,_,C,S]}class ai extends U{constructor(e){super(),z(this,e,ii,oi,G,{})}}function fi(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Combined authorities`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function ui(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function ci(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::combined-authorities-december-2022-boundaries-en-buc/explore",$$slots:{default:[ui]},$$scope:{ctx:r}}}),i=new Me({}),{c(){e=A("p"),n=w("Data from "),h(t.$$.fragment),l=w(", as of December 2022."),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function $i(r){let e,n,t;return n=new oe({props:{$$slots:{default:[ci]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function pi(r){let e,n=r[3].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&8&&n!==(n=l[3].name+"")&&H(t,n)},d(l){l&&m(e)}}}function mi(r){let e,n;return e=new le({props:{$$slots:{default:[pi,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function _i(r){let e,n,t,l;const o=[B(lt),{paint:{"fill-color":r[1],"fill-opacity":K(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[mi]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new De({props:i}),e.$on("click",di);const u=[B(`${lt}-outline`),{paint:{"line-color":r[1],"line-width":2.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new ue({props:s}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),p(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?J(o,[f&0&&ee(B(lt)),f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[3],o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?J(u,[f&0&&ee(B(`${lt}-outline`)),f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||($(e.$$.fragment,a),$(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&m(n),v(e,a),v(t,a)}}}function gi(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:lt,$$slots:{right:[$i],default:[fi]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new Tt({props:{data:`${ie()}/v1/${lt}.geojson`,$$slots:{default:[_i]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let lt="combined_authorities";function di(r){window.open(`https://www.ons.gov.uk/visualisations/areas/${r.detail.features[0].properties.CAUTH22CD}`,"_blank")}function hi(r,e,n){let t=Q.combined_authorities,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class bi extends U{constructor(e){super(),z(this,e,hi,gi,G,{})}}function vi(r){let e;return{c(){e=w("Indices of Multiple Deprivation")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function wi(r){let e;return{c(){e=w(`DLUCH GIS
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function yi(r){let e;return{c(){e=w(`here
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function ki(r){let e,n,t,l,o,i,u,s,a;return t=new q({props:{href:"https://data-communities.opendata.arcgis.com/datasets/communities::indices-of-multiple-deprivation-imd-2019-1/explore",$$slots:{default:[wi]},$$scope:{ctx:r}}}),o=new q({props:{href:"http://dclgapps.communities.gov.uk/imd/iod_index.html",$$slots:{default:[yi]},$$scope:{ctx:r}}}),s=new Me({}),{c(){e=A("p"),n=w("The 2019 English IMD scores come from "),h(t.$$.fragment),l=w(`. Note the LSOAs identified are from the 2011 census. A
        detailed breakdown of the score across different categories can be found `),h(o.$$.fragment),i=w("."),u=O(),h(s.$$.fragment)},m(f,c){p(f,e,c),y(e,n),b(t,e,null),y(e,l),b(o,e,null),y(e,i),p(f,u,c),b(s,f,c),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const _={};c&32&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){a||($(t.$$.fragment,f),$(o.$$.fragment,f),$(s.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),g(s.$$.fragment,f),a=!1},d(f){f&&(m(e),m(u)),v(t),v(o),v(s,f)}}}function Si(r){let e,n,t;return n=new oe({props:{$$slots:{default:[ki]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&32&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function qn(r){let e,n;return e=new ze({props:{colorScale:r[1],limits:["Least deprived","Most deprived"]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:te,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ti(r){let e,n=r[4].LSOA11CD+"",t,l,o,i=r[4].score+"",u,s,a,f,c,d=r[4].rank.toLocaleString()+"",_,C;return{c(){e=A("p"),t=w(n),l=w(` has an IMD score of
        `),o=A("b"),u=w(i),s=O(),a=A("p"),f=w("Rank: "),c=A("b"),_=w(d),C=w(`
        / 32,844 LSOAs`)},m(S,T){p(S,e,T),y(e,t),y(e,l),y(e,o),y(o,u),p(S,s,T),p(S,a,T),y(a,f),y(a,c),y(c,_),y(a,C)},p(S,T){T&16&&n!==(n=S[4].LSOA11CD+"")&&H(t,n),T&16&&i!==(i=S[4].score+"")&&H(u,i),T&16&&d!==(d=S[4].rank.toLocaleString()+"")&&H(_,d)},d(S){S&&(m(e),m(s),m(a))}}}function Ci(r){let e,n;return e=new le({props:{$$slots:{default:[Ti,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&48&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Oi(r){let e,n,t,l;const o=[B(He),{sourceLayer:He},{paint:{"fill-color":$e(["-",10,["get","decile"]],r[2],r[1]),"fill-opacity":K(.5,.7)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let i={$$slots:{default:[Ci]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new De({props:i});const u=[B(`${He}-outline`),{paint:{"line-color":"black","line-width":.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new ue({props:s}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),p(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&7?J(o,[f&0&&ee(B(He)),f&0&&{sourceLayer:He},f&6&&{paint:{"fill-color":$e(["-",10,["get","decile"]],a[2],a[1]),"fill-opacity":K(.5,.7)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5]]):{};f&32&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&1?J(u,[f&0&&ee(B(`${He}-outline`)),u[1],f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||($(e.$$.fragment,a),$(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&m(n),v(e,a),v(t,a)}}}function Ai(r){let e,n,t,l,o,i;function u(f){r[3](f)}let s={id:He,$$slots:{right:[Si],default:[vi]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new re({props:s}),W.push(()=>V(e,"checked",u));let a=r[0]&&qn(r);return o=new ce({props:{url:`pmtiles://${ie()}/v1/${He}.pmtiles`,$$slots:{default:[Oi]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),l=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),p(f,t,c),a&&a.m(f,c),p(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],X(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&$(a,1)):(a=qn(f),a.c(),$(a,1),a.m(l.parentNode,l)):a&&(ae(),g(a,1,1,()=>{a=null}),fe());const _={};c&33&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){i||($(e.$$.fragment,f),$(a),$(o.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),i=!1},d(f){f&&(m(t),m(l)),v(e,f),a&&a.d(f),v(o,f)}}}let He="imd";function Li(r,e,n){let t=Q.sequential_low_to_high,l=[0,2,4,6,8,10],o=!1;function i(u){o=u,n(0,o)}return[o,t,l,i]}class Ii extends U{constructor(e){super(),z(this,e,Li,Ai,G,{})}}function Pi(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Local Authority Districts`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function Ni(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Mi(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::local-authority-districts-may-2023-boundaries-uk-buc/explore",$$slots:{default:[Ni]},$$scope:{ctx:r}}}),i=new Me({}),{c(){e=A("p"),n=w("Data from "),h(t.$$.fragment),l=w(", as of May 2023."),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function Ei(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Mi]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Fi(r){let e,n=r[3].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&8&&n!==(n=l[3].name+"")&&H(t,n)},d(l){l&&m(e)}}}function Di(r){let e,n;return e=new le({props:{$$slots:{default:[Fi,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ji(r){let e,n,t,l;const o=[B(ot),{paint:{"fill-color":r[1],"fill-opacity":K(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[Di]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new De({props:i}),e.$on("click",Hi);const u=[B(`${ot}-outline`),{paint:{"line-color":r[1],"line-width":2.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new ue({props:s}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),p(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?J(o,[f&0&&ee(B(ot)),f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[3],o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?J(u,[f&0&&ee(B(`${ot}-outline`)),f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||($(e.$$.fragment,a),$(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&m(n),v(e,a),v(t,a)}}}function Bi(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:ot,$$slots:{right:[Ei],default:[Pi]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new Tt({props:{data:`${ie()}/v1/${ot}.geojson`,$$slots:{default:[ji]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let ot="local_authority_districts";function Hi(r){window.open(`https://www.ons.gov.uk/visualisations/areas/${r.detail.features[0].properties.LAD23CD}`,"_blank")}function Ri(r,e,n){let t=Q.local_authority_districts,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class Gi extends U{constructor(e){super(),z(this,e,Ri,Bi,G,{})}}function Wi(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Local Planning Authorities`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function Ui(r){let e;return{c(){e=w(`local authority
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function zi(r){let e;return{c(){e=w(`national park authorit
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function qi(r){let e;return{c(){e=w(`development corporation
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Vi(r){let e;return{c(){e=w("this map")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Xi(r){let e;return{c(){e=w(`planning.data.gov.uk
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Ki(r){let e,n,t,l,o,i,u,s,a,f,c,d,_,C,S,T,k,L,F,j,I,E;return t=new q({props:{href:"https://www.planning.data.gov.uk/dataset/local-authority",$$slots:{default:[Ui]},$$scope:{ctx:r}}}),o=new q({props:{href:"https://www.planning.data.gov.uk/dataset/national-park-authority",$$slots:{default:[zi]},$$scope:{ctx:r}}}),u=new q({props:{href:"https://www.planning.data.gov.uk/dataset/development-corporation",$$slots:{default:[qi]},$$scope:{ctx:r}}}),_=new q({props:{href:"https://www.planning.data.gov.uk/map/?dataset=local-planning-authority",$$slots:{default:[Vi]},$$scope:{ctx:r}}}),L=new q({props:{href:"https://www.planning.data.gov.uk/dataset/local-planning-authority",$$slots:{default:[Xi]},$$scope:{ctx:r}}}),I=new Me({}),{c(){e=A("p"),n=w("LPAs may be a "),h(t.$$.fragment),l=w(", "),h(o.$$.fragment),i=w("y, or "),h(u.$$.fragment),s=w("."),a=O(),f=A("p"),c=A("strong"),d=w(`Note there are overlapping LPAs near Northhamptonshire. Only one
          authority name is shown when hovering. Use `),h(_.$$.fragment),C=w(" to get more details."),S=O(),T=A("p"),k=w("Data from ONS Geography via "),h(L.$$.fragment),F=w(", as of November 2022."),j=O(),h(I.$$.fragment)},m(P,N){p(P,e,N),y(e,n),b(t,e,null),y(e,l),b(o,e,null),y(e,i),b(u,e,null),y(e,s),p(P,a,N),p(P,f,N),y(f,c),y(c,d),b(_,c,null),y(c,C),p(P,S,N),p(P,T,N),y(T,k),b(L,T,null),y(T,F),p(P,j,N),b(I,P,N),E=!0},p(P,N){const M={};N&16&&(M.$$scope={dirty:N,ctx:P}),t.$set(M);const R={};N&16&&(R.$$scope={dirty:N,ctx:P}),o.$set(R);const D={};N&16&&(D.$$scope={dirty:N,ctx:P}),u.$set(D);const se={};N&16&&(se.$$scope={dirty:N,ctx:P}),_.$set(se);const Z={};N&16&&(Z.$$scope={dirty:N,ctx:P}),L.$set(Z)},i(P){E||($(t.$$.fragment,P),$(o.$$.fragment,P),$(u.$$.fragment,P),$(_.$$.fragment,P),$(L.$$.fragment,P),$(I.$$.fragment,P),E=!0)},o(P){g(t.$$.fragment,P),g(o.$$.fragment,P),g(u.$$.fragment,P),g(_.$$.fragment,P),g(L.$$.fragment,P),g(I.$$.fragment,P),E=!1},d(P){P&&(m(e),m(a),m(f),m(S),m(T),m(j)),v(t),v(o),v(u),v(_),v(L),v(I,P)}}}function Yi(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Ki]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Ji(r){let e,n=r[3].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&8&&n!==(n=l[3].name+"")&&H(t,n)},d(l){l&&m(e)}}}function Zi(r){let e,n;return e=new le({props:{$$slots:{default:[Ji,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Qi(r){let e,n,t,l;const o=[B(Te),{sourceLayer:Te},{paint:{"fill-color":r[1],"fill-opacity":K(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let i={$$slots:{default:[Zi]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new De({props:i});const u=[B(`${Te}-outline`),{sourceLayer:Te},{paint:{"line-color":r[1],"line-width":2.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new ue({props:s}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),p(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?J(o,[f&0&&ee(B(Te)),f&0&&{sourceLayer:Te},f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?J(u,[f&0&&ee(B(`${Te}-outline`)),f&0&&{sourceLayer:Te},f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||($(e.$$.fragment,a),$(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&m(n),v(e,a),v(t,a)}}}function xi(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:Te,$$slots:{right:[Yi],default:[Wi]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new ce({props:{url:`pmtiles://${ie()}/v1/${Te}.pmtiles`,$$slots:{default:[Qi]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let Te="local_planning_authorities";function ea(r,e,n){let t=Q.local_planning_authorities,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class ta extends U{constructor(e){super(),z(this,e,ea,xi,G,{})}}function na(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Parliamentary constituencies`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function ra(r){let e;return{c(){e=w(`Ordnance Survey Boundary-Line
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function la(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://www.ordnancesurvey.co.uk/products/boundary-line",$$slots:{default:[ra]},$$scope:{ctx:r}}}),i=new Me({}),{c(){e=A("p"),n=w("Data from "),h(t.$$.fragment),l=w(", as of May 2023."),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function oa(r){let e,n,t;return n=new oe({props:{$$slots:{default:[la]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function sa(r){let e,n=r[3].Name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&8&&n!==(n=l[3].Name+"")&&H(t,n)},d(l){l&&m(e)}}}function ia(r){let e,n;return e=new le({props:{$$slots:{default:[sa,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function aa(r){let e,n,t,l;const o=[B(Ce),{sourceLayer:Ce},{paint:{"fill-color":r[1],"fill-opacity":K(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[ia]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new De({props:i}),e.$on("click",ua);const u=[B(`${Ce}-outline`),{sourceLayer:Ce},{paint:{"line-color":r[1],"line-width":5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new ue({props:s}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),p(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?J(o,[f&0&&ee(B(Ce)),f&0&&{sourceLayer:Ce},f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5],o[6]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?J(u,[f&0&&ee(B(`${Ce}-outline`)),f&0&&{sourceLayer:Ce},f&2&&{paint:{"line-color":a[1],"line-width":5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||($(e.$$.fragment,a),$(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&m(n),v(e,a),v(t,a)}}}function fa(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:Ce,$$slots:{right:[oa],default:[na]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new ce({props:{url:`pmtiles://${ie()}/v1/${Ce}.pmtiles`,$$slots:{default:[aa]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let Ce="parliamentary_constituencies";function ua(r){let e=r.detail.features[0].properties.Name;e=e.replace(/ Boro Const$/,""),e=e.replace(/ Co Const$/,""),e=encodeURIComponent(e),window.open(`https://members.parliament.uk/members/Commons?SearchText=${e}`,"_blank")}function ca(r,e,n){let t=Q.parliamentary_constituencies,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class $a extends U{constructor(e){super(),z(this,e,ca,fa,G,{})}}function pa(r){let e;return{c(){e=w("Pollution")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function ma(r){let e,n,t,l;return t=new Me({}),{c(){e=A("p"),e.textContent="TODO",n=O(),h(t.$$.fragment)},m(o,i){p(o,e,i),p(o,n,i),b(t,o,i),l=!0},p:te,i(o){l||($(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&(m(e),m(n)),v(t,o)}}}function _a(r){let e,n,t;return n=new oe({props:{$$slots:{default:[ma]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Vn(r){let e,n,t;function l(i){r[4](i)}let o={label:"Pollutant",id:"pollutant",choices:[["NOx_viridis","NO2 (Nitrogen dioxide)"],["PM25_viridis","PM2.5 (Particulate matter < 2.5 microns)"],["PM10_viridis","PM10 (Particulate matter < 10 microns)"]]};return r[1]!==void 0&&(o.value=r[1]),e=new yt({props:o}),W.push(()=>V(e,"value",l)),{c(){h(e.$$.fragment)},m(i,u){b(e,i,u),t=!0},p(i,u){const s={};!n&&u&2&&(n=!0,s.value=i[1],X(()=>n=!1)),e.$set(s)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){g(e.$$.fragment,i),t=!1},d(i){v(e,i)}}}function ga(r){let e,n,t,l,o;function i(a){r[3](a)}let u={id:bt,$$slots:{right:[_a],default:[pa]},$$scope:{ctx:r}};r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i));let s=r[0]&&Vn(r);return{c(){h(e.$$.fragment),t=O(),s&&s.c(),l=Ne()},m(a,f){b(e,a,f),p(a,t,f),s&&s.m(a,f),p(a,l,f),o=!0},p(a,[f]){const c={};f&64&&(c.$$scope={dirty:f,ctx:a}),!n&&f&1&&(n=!0,c.checked=a[0],X(()=>n=!1)),e.$set(c),a[0]?s?(s.p(a,f),f&1&&$(s,1)):(s=Vn(a),s.c(),$(s,1),s.m(l.parentNode,l)):s&&(ae(),g(s,1,1,()=>{s=null}),fe())},i(a){o||($(e.$$.fragment,a),$(s),o=!0)},o(a){g(e.$$.fragment,a),g(s),o=!1},d(a){a&&(m(t),m(l)),v(e,a),s&&s.d(a)}}}let bt="pollution";function da(r,e,n){let t;We(r,Rt,a=>n(2,t=a));let l=!1,o="PM25_viridis";function i(){let a=new URLSearchParams({request:"GetMap",version:"1.3.0",format:"image/png",crs:"EPSG:3857",width:"256",height:"256",styles:"",layers:{NOx_viridis:"21",PM25_viridis:"20",PM10_viridis:"21"}[o]}).toString();return`https://ukair.maps.rcdo.co.uk/ukairserver/services/aq_amb_2021/${o}/MapServer/WMSServer?bbox={bbox-epsg-3857}&${a}`}Gt(()=>{t.addSource(bt,{type:"raster",tiles:[i()],tileSize:256}),t.addLayer({id:"pollution-layer",type:"raster",source:bt,paint:{"raster-opacity":.5},layout:{visibility:"none"}})}),ur(()=>{t==null||t.removeLayer("pollution-layer"),t==null||t.removeSource(bt)});function u(a){l=a,n(0,l)}function s(a){o=a,n(1,o)}return r.$$.update=()=>{if(r.$$.dirty&5&&t.setLayoutProperty("pollution-layer","visibility",l?"visible":"none"),r.$$.dirty&6&&o){let a=t.getSource(bt);a&&a.setTiles([i()])}},[l,o,t,u,s]}class ha extends U{constructor(e){super(),z(this,e,da,ga,G,{})}}function ba(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Wards`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function va(r){let e;return{c(){e=w(`ONS Geography
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function wa(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::wards-may-2023-boundaries-uk-bgc/explore",$$slots:{default:[va]},$$scope:{ctx:r}}}),i=new Me({}),{c(){e=A("p"),n=w("Data from "),h(t.$$.fragment),l=w(", as of May 2023."),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function ya(r){let e,n,t;return n=new oe({props:{$$slots:{default:[wa]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function ka(r){let e,n=r[3].name+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&8&&n!==(n=l[3].name+"")&&H(t,n)},d(l){l&&m(e)}}}function Sa(r){let e,n;return e=new le({props:{$$slots:{default:[ka,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ta(r){let e,n,t,l;const o=[B(Oe),{sourceLayer:Oe},{paint:{"fill-color":r[1],"fill-opacity":K(0,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let i={$$slots:{default:[Sa]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)i=Y(i,o[a]);e=new De({props:i}),e.$on("click",Oa);const u=[B(`${Oe}-outline`),{sourceLayer:Oe},{paint:{"line-color":r[1],"line-width":2.5}},{layout:{visibility:r[0]?"visible":"none"}}];let s={};for(let a=0;a<u.length;a+=1)s=Y(s,u[a]);return t=new ue({props:s}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),p(a,n,f),b(t,a,f),l=!0},p(a,f){const c=f&3?J(o,[f&0&&ee(B(Oe)),f&0&&{sourceLayer:Oe},f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5],o[6]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?J(u,[f&0&&ee(B(`${Oe}-outline`)),f&0&&{sourceLayer:Oe},f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){l||($(e.$$.fragment,a),$(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&m(n),v(e,a),v(t,a)}}}function Ca(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:Oe,$$slots:{right:[ya],default:[ba]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new ce({props:{url:`pmtiles://${ie()}/v1/${Oe}.pmtiles`,$$slots:{default:[Ta]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let Oe="wards";function Oa(r){let e=encodeURIComponent(r.detail.features[0].properties.name);window.open(`https://www.google.com/search?q=${e}+councillor`,"_blank")}function Aa(r,e,n){let t=Q.wards,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class La extends U{constructor(e){super(),z(this,e,Aa,Ca,G,{})}}function Ia(r){let e;return{c(){e=w("Open Data Commons Open Database License")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Pa(r){let e,n,t,l;return t=new q({props:{href:"https://www.openstreetmap.org/copyright",$$slots:{default:[Ia]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("License: "),h(t.$$.fragment)},m(o,i){p(o,e,i),y(e,n),b(t,e,null),l=!0},p(o,[i]){const u={};i&1&&(u.$$scope={dirty:i,ctx:o}),t.$set(u)},i(o){l||($(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&m(e),v(t)}}}class qe extends U{constructor(e){super(),z(this,e,null,Pa,G,{})}}function Na(r){let e,n,t;return e=new ge({props:{color:Q.bus_route_with_lane}}),{c(){h(e.$$.fragment),n=w(`
  Bus routes`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function Ma(r){let e;return{c(){e=w(`GTFS
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Ea(r){let e,n,t,l,o,i,u,s,a;return o=new q({props:{href:"https://gtfs.org",$$slots:{default:[Ma]},$$scope:{ctx:r}}}),s=new qe({}),{c(){e=A("p"),e.textContent=`This shows all roads with at least one bus route crossing them. It also
        shows whether the road has a bus lane or not.`,n=O(),t=A("p"),l=w("Note this data is from OpenStreetMap (as of 9 August 2023), not "),h(o.$$.fragment),i=w(`, and doesn't include which routes are run or the
        frequency of service.`),u=O(),h(s.$$.fragment)},m(f,c){p(f,e,c),p(f,n,c),p(f,t,c),y(t,l),b(o,t,null),y(t,i),p(f,u,c),b(s,f,c),a=!0},p(f,c){const d={};c&8&&(d.$$scope={dirty:c,ctx:f}),o.$set(d)},i(f){a||($(o.$$.fragment,f),$(s.$$.fragment,f),a=!0)},o(f){g(o.$$.fragment,f),g(s.$$.fragment,f),a=!1},d(f){f&&(m(e),m(n),m(t),m(u)),v(o),v(s,f)}}}function Fa(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Ea]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&8&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Da(r){let e;return{c(){e=A("p"),e.textContent="At least one bus route crosses here, without any bus lanes"},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function ja(r){let e;return{c(){e=A("p"),e.textContent=`At least one bus route crosses here, with a bus lane in one or more
          directions`},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Ba(r){let e;function n(o,i){return o[2].has_bus_lane?ja:Da}let t=n(r),l=t(r);return{c(){l.c(),e=Ne()},m(o,i){l.m(o,i),p(o,e,i)},p(o,i){t!==(t=n(o))&&(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&m(e),l.d(o)}}}function Ha(r){let e,n;return e=new le({props:{$$slots:{default:[Ba,({props:t})=>({2:t}),({props:t})=>t?4:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&12&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ra(r){let e,n;const t=[B(st),{sourceLayer:st},{paint:{"line-color":["case",["boolean",["get","has_bus_lane"],!1],Q.bus_route_with_lane,Q.bus_route_without_lane],"line-width":5,"line-opacity":K(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let l={$$slots:{default:[Ha]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new ue({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&1?J(t,[i&0&&ee(B(st)),i&0&&{sourceLayer:st},t[2],i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};i&8&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Ga(r){let e,n,t,l,o;function i(s){r[1](s)}let u={id:st,$$slots:{right:[Fa],default:[Na]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new ce({props:{url:`pmtiles://${ie()}/v1/${st}.pmtiles`,$$slots:{default:[Ra]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&8&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&9&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let st="bus_routes";function Wa(r,e,n){let t=!1;function l(o){t=o,n(0,t)}return[t,l]}class Ua extends U{constructor(e){super(),z(this,e,Wa,Ga,G,{})}}function Xn(r){const e=Za(r[3]);r[4]=e[0],r[5]=e[1],r[6]=e[2]}function Kn(r,e,n){const t=r.slice();return t[7]=e[n][0],t[8]=e[n][1],t}function za(r){let e;return{c(){e=w("Cycle paths")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function qa(r){let e,n,t,l,o,i,u,s;return u=new qe({}),{c(){e=A("p"),e.textContent=`This shows different types of cycle path, according to OpenStreetMap (as
        of 15 August 2023).`,n=O(),t=A("ul"),t.innerHTML=`<li><b>Separated tracks</b>
          include fully or partly segregated cycletracks alongside a carriageway,
          stepped cycletracks, and tracks off the carriageway entirely. They&#39;re also
          separated from foot traffic.</li> <li><b>Unprotected lanes</b>
          are mandatory or advisory lanes on the carriageway, without any physical
          protection. They do not included shared bus lanes.</li> <li><b>Shared-use</b>
          paths are split between cycle and foot traffic, and are separated from
          motor traffic somehow. There can be segregation between cyclists and pedestrians
          or not.</li>`,l=O(),o=A("p"),o.textContent=`Note there are many known limitations with this layer. Data in
        OpenStreetMap can be missing, mapped twice, or mapped incorrectly. Our
        processing is also imperfect. You can click a segment to see full
        OpenStreetMap data. Please do report issues with the classification or
        data.`,i=O(),h(u.$$.fragment)},m(a,f){p(a,e,f),p(a,n,f),p(a,t,f),p(a,l,f),p(a,o,f),p(a,i,f),b(u,a,f),s=!0},p:te,i(a){s||($(u.$$.fragment,a),s=!0)},o(a){g(u.$$.fragment,a),s=!1},d(a){a&&(m(e),m(n),m(t),m(l),m(o),m(i)),v(u,a)}}}function Va(r){let e,n,t;return n=new oe({props:{$$slots:{default:[qa]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Yn(r){let e,n,t=Ge(r[1]),l=[];for(let i=0;i<t.length;i+=1)l[i]=Jn(Kn(r,t,i));const o=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=Ne()},m(i,u){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(i,u);p(i,e,u),n=!0},p(i,u){if(u&2){t=Ge(i[1]);let s;for(s=0;s<t.length;s+=1){const a=Kn(i,t,s);l[s]?(l[s].p(a,u),$(l[s],1)):(l[s]=Jn(a),l[s].c(),$(l[s],1),l[s].m(e.parentNode,e))}for(ae(),s=t.length;s<l.length;s+=1)o(s);fe()}},i(i){if(!n){for(let u=0;u<t.length;u+=1)$(l[u]);n=!0}},o(i){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)g(l[u]);n=!1},d(i){i&&m(e),Nt(l,i)}}}function Jn(r){let e,n,t,l=r[7]+"",o,i,u;return n=new ge({props:{color:r[8]}}),{c(){e=A("div"),h(n.$$.fragment),t=O(),o=w(l),i=O()},m(s,a){p(s,e,a),b(n,e,null),y(e,t),y(e,o),y(e,i),u=!0},p:te,i(s){u||($(n.$$.fragment,s),u=!0)},o(s){g(n.$$.fragment,s),u=!1},d(s){s&&m(e),v(n)}}}function Xa(r){Xn(r);let e,n=r[4]+"",t,l,o,i,u,s=r[5]+"",a,f,c,d,_=r[6]+"",C;return{c(){e=A("h2"),t=w(n),l=O(),o=A("p"),i=w("Direction: "),u=A("b"),a=O(),f=A("p"),c=w("Width: "),d=A("b"),C=w(_)},m(S,T){p(S,e,T),y(e,t),p(S,l,T),p(S,o,T),y(o,i),y(o,u),u.innerHTML=s,p(S,a,T),p(S,f,T),y(f,c),y(f,d),y(d,C)},p(S,T){Xn(S),T&8&&n!==(n=S[4]+"")&&H(t,n),T&8&&s!==(s=S[5]+"")&&(u.innerHTML=s),T&8&&_!==(_=S[6]+"")&&H(C,_)},d(S){S&&(m(e),m(l),m(o),m(a),m(f))}}}function Ka(r){let e,n;return e=new le({props:{$$slots:{default:[Xa,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&2056&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ya(r){let e,n;const t=[B(it),{sourceLayer:it},{paint:{"line-color":cr(["get","kind"],{track:Q.cycle_paths.track,lane:Q.cycle_paths.lane,shared_use_segregated:Q.cycle_paths.shared_use_segregated,shared_use_unsegregated:Q.cycle_paths.shared_use_unsegregated},"red"),"line-width":Fe,"line-opacity":K(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let l={$$slots:{default:[Ka]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new ue({props:l}),e.$on("click",Qa),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&1?J(t,[i&0&&ee(B(it)),i&0&&{sourceLayer:it},t[2],i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5],t[6]]):{};i&2048&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Ja(r){let e,n,t,l,o,i;function u(f){r[2](f)}let s={id:it,$$slots:{right:[Va],default:[za]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new re({props:s}),W.push(()=>V(e,"checked",u));let a=r[0]&&Yn(r);return o=new ce({props:{url:`pmtiles://${ie()}/v1/${it}.pmtiles`,$$slots:{default:[Ya]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),l=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),p(f,t,c),a&&a.m(f,c),p(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&2048&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],X(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&$(a,1)):(a=Yn(f),a.c(),$(a,1),a.m(l.parentNode,l)):a&&(ae(),g(a,1,1,()=>{a=null}),fe());const _={};c&2049&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){i||($(e.$$.fragment,f),$(a),$(o.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),i=!1},d(f){f&&(m(t),m(l)),v(e,f),a&&a.d(f),v(o,f)}}}let it="cycle_paths";function Za(r){let e={track:"Separated track",lane:"Unprotected lane",shared_use_segregated:"Shared-use (segregated)",shared_use_unsegregated:"Shared-use (unsegregated)"}[r.kind],n={"one-way":"&uarr;","two-way":"&#8597;",unknown:""}[r.direction],t=r.width=="unknown"?"unknown":`${r.width} meters`;return[e,`${n} ${r.direction}`,t]}function Qa(r){window.open(`http://openstreetmap.org/way/${r.detail.features[0].properties.osm_id}`,"_blank")}function xa(r,e,n){let t=[["Separated tracks",Q.cycle_paths.track],["Unprotected lanes",Q.cycle_paths.lane],["Shared-use (segregated)",Q.cycle_paths.shared_use_segregated],["Shared-use (unsegregated)",Q.cycle_paths.shared_use_unsegregated]],l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class ef extends U{constructor(e){super(),z(this,e,xa,Ja,G,{})}}function tf(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Major Road Network`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function nf(r){let e;return{c(){e=w(`Major Road Network
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function rf(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://maps.dft.gov.uk/major-road-network/index.html",$$slots:{default:[nf]},$$scope:{ctx:r}}}),i=new Me({}),{c(){e=A("p"),n=w("Data from the "),h(t.$$.fragment),l=w(", as of September 2021."),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function lf(r){let e,n,t;return n=new oe({props:{$$slots:{default:[rf]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function of(r){let e,n=(r[3].name??"Unknown MRN road")+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&8&&n!==(n=(l[3].name??"Unknown MRN road")+"")&&H(t,n)},d(l){l&&m(e)}}}function sf(r){let e,n;return e=new le({props:{$$slots:{default:[of,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function af(r){let e,n;const t=[B(at),{sourceLayer:at},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":r[1],"line-width":7,"line-opacity":K(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}}];let l={$$slots:{default:[sf]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new ue({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?J(t,[i&0&&ee(B(at)),i&0&&{sourceLayer:at},t[2],t[3],i&2&&{paint:{"line-color":o[1],"line-width":7,"line-opacity":K(1,.5)}},i&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};i&16&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function ff(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:at,$$slots:{right:[lf],default:[tf]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new ce({props:{url:`pmtiles://${ie()}/v1/${at}.pmtiles`,$$slots:{default:[af]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let at="mrn";function uf(r,e,n){let t=Q.mrn,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class cf extends U{constructor(e){super(),z(this,e,uf,ff,G,{})}}function $f(r){let e;return{c(){e=w("Propensity to Cycle Tool")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function pf(r){let e;return{c(){e=w("the PCT website")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function mf(r){let e;return{c(){e=w("2017 journal article")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function _f(r){let e,n,t,l,o,i,u,s,a,f,c;return u=new q({props:{href:"https://www.pct.bike",$$slots:{default:[pf]},$$scope:{ctx:r}}}),a=new q({props:{href:"https://www.jtlu.org/index.php/jtlu/article/view/862",$$slots:{default:[mf]},$$scope:{ctx:r}}}),{c(){e=A("p"),e.textContent=`The PCT shows major links on the transport network on which there is
        high latent demand for cycling under scenarios of change, based on the
        "fastest" routes from CycleStreets. Counts approximate daily rush hour
        traffic levels.`,n=O(),t=A("p"),t.textContent=`Note this layer uses 2011 census data and outdated OpenStreetMap data.
        Please use this layer with caution.`,l=O(),o=A("p"),i=w("See "),h(u.$$.fragment),s=w(" and "),h(a.$$.fragment),f=w(" for details on methodology and data sources.")},m(d,_){p(d,e,_),p(d,n,_),p(d,t,_),p(d,l,_),p(d,o,_),y(o,i),b(u,o,null),y(o,s),b(a,o,null),y(o,f),c=!0},p(d,_){const C={};_&1024&&(C.$$scope={dirty:_,ctx:d}),u.$set(C);const S={};_&1024&&(S.$$scope={dirty:_,ctx:d}),a.$set(S)},i(d){c||($(u.$$.fragment,d),$(a.$$.fragment,d),c=!0)},o(d){g(u.$$.fragment,d),g(a.$$.fragment,d),c=!1},d(d){d&&(m(e),m(n),m(t),m(l),m(o)),v(u),v(a)}}}function gf(r){let e,n,t;return n=new oe({props:{$$slots:{default:[_f]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&1024&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Zn(r){let e,n,t,l,o,i,u,s;e=new ze({props:{colorScale:r[3],limits:r[4]}});function a(_){r[7](_)}let f={legend:"Trip purpose",id:"tripPurpose",choices:[["pct_commute","Commuting"],["pct_school","School"]],inlineSmall:!0};r[0]!==void 0&&(f.value=r[0]),t=new pr({props:f}),W.push(()=>V(t,"value",a));function c(_){r[8](_)}let d={label:"Scenario",id:"scenario",choices:[["baseline","Baseline (2011)"],["gov_target","Government target (2025)"],["go_dutch","Go Dutch"]]};return r[1]!==void 0&&(d.value=r[1]),i=new yt({props:d}),W.push(()=>V(i,"value",c)),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),o=O(),h(i.$$.fragment)},m(_,C){b(e,_,C),p(_,n,C),b(t,_,C),p(_,o,C),b(i,_,C),s=!0},p(_,C){const S={};!l&&C&1&&(l=!0,S.value=_[0],X(()=>l=!1)),t.$set(S);const T={};!u&&C&2&&(u=!0,T.value=_[1],X(()=>u=!1)),i.$set(T)},i(_){s||($(e.$$.fragment,_),$(t.$$.fragment,_),$(i.$$.fragment,_),s=!0)},o(_){g(e.$$.fragment,_),g(t.$$.fragment,_),g(i.$$.fragment,_),s=!1},d(_){_&&(m(n),m(o)),v(e,_),v(t,_),v(i,_)}}}function df(r){let e,n=r[5](r[9])+"",t;return{c(){e=new ln(!1),t=Ne(),e.a=t},m(l,o){e.m(n,l,o),p(l,t,o)},p(l,o){o&512&&n!==(n=l[5](l[9])+"")&&e.p(n)},d(l){l&&(m(t),e.d())}}}function hf(r){let e,n;return e=new le({props:{$$slots:{default:[df,({props:t})=>({9:t}),({props:t})=>t?512:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&1536&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function bf(r){let e,n;const t=[B(Le),{sourceLayer:Le},{paint:{"line-color":$e(["get",r[1]],r[4],r[3]),"line-width":Fe,"line-opacity":K(1,.5)}},{layout:{visibility:r[2]&&r[0]==Le?"visible":"none"}}];let l={$$slots:{default:[hf]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new ue({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&31?J(t,[i&0&&ee(B(Le)),i&0&&{sourceLayer:Le},i&26&&{paint:{"line-color":$e(["get",o[1]],o[4],o[3]),"line-width":Fe,"line-opacity":K(1,.5)}},i&5&&{layout:{visibility:o[2]&&o[0]==Le?"visible":"none"}}]):{};i&1024&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function vf(r){let e,n=r[5](r[9])+"",t;return{c(){e=new ln(!1),t=Ne(),e.a=t},m(l,o){e.m(n,l,o),p(l,t,o)},p(l,o){o&512&&n!==(n=l[5](l[9])+"")&&e.p(n)},d(l){l&&(m(t),e.d())}}}function wf(r){let e,n;return e=new le({props:{$$slots:{default:[vf,({props:t})=>({9:t}),({props:t})=>t?512:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&1536&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function yf(r){let e,n;const t=[B(Ye),{sourceLayer:Ye},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":$e(["get",r[1]],r[4],r[3]),"line-width":Fe,"line-opacity":K(1,.5)}},{layout:{visibility:r[2]&&r[0]==Ye?"visible":"none"}}];let l={$$slots:{default:[wf]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new ue({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&31?J(t,[i&0&&ee(B(Ye)),i&0&&{sourceLayer:Ye},t[2],t[3],i&26&&{paint:{"line-color":$e(["get",o[1]],o[4],o[3]),"line-width":Fe,"line-opacity":K(1,.5)}},i&5&&{layout:{visibility:o[2]&&o[0]==Ye?"visible":"none"}}]):{};i&1024&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function kf(r){let e,n,t,l,o,i,u,s;function a(d){r[6](d)}let f={id:Le,$$slots:{right:[gf],default:[$f]},$$scope:{ctx:r}};r[2]!==void 0&&(f.checked=r[2]),e=new re({props:f}),W.push(()=>V(e,"checked",a));let c=r[2]&&Zn(r);return o=new ce({props:{url:`pmtiles://${ie()}/v1/${Le}.pmtiles`,$$slots:{default:[bf]},$$scope:{ctx:r}}}),u=new ce({props:{url:`pmtiles://${ie()}/v1/${Ye}.pmtiles`,$$slots:{default:[yf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),c&&c.c(),l=O(),h(o.$$.fragment),i=O(),h(u.$$.fragment)},m(d,_){b(e,d,_),p(d,t,_),c&&c.m(d,_),p(d,l,_),b(o,d,_),p(d,i,_),b(u,d,_),s=!0},p(d,[_]){const C={};_&1024&&(C.$$scope={dirty:_,ctx:d}),!n&&_&4&&(n=!0,C.checked=d[2],X(()=>n=!1)),e.$set(C),d[2]?c?(c.p(d,_),_&4&&$(c,1)):(c=Zn(d),c.c(),$(c,1),c.m(l.parentNode,l)):c&&(ae(),g(c,1,1,()=>{c=null}),fe());const S={};_&1031&&(S.$$scope={dirty:_,ctx:d}),o.$set(S);const T={};_&1031&&(T.$$scope={dirty:_,ctx:d}),u.$set(T)},i(d){s||($(e.$$.fragment,d),$(c),$(o.$$.fragment,d),$(u.$$.fragment,d),s=!0)},o(d){g(e.$$.fragment,d),g(c),g(o.$$.fragment,d),g(u.$$.fragment,d),s=!1},d(d){d&&(m(t),m(l),m(i)),v(e,d),c&&c.d(d),v(o,d),v(u,d)}}}let Le="pct_commute",Ye="pct_school";function Sf(r,e,n){let t=Q.sequential_low_to_high,l=[0,50,100,500,1e3,2e3],o=Le,i="baseline",u=!1;function s(d){let _=d.baseline,C=d.gov_target,S=d.go_dutch,T=`<h2>Trip purpose: ${o==Le?"commuting":"school"}</h2>`;if(T+=`<p>Baseline (2011): <b>${_.toLocaleString()}</b></p>`,_==0)T+=`<p>Government target (2025): <b>${C.toLocaleString()}</b></p>`,T+=`<p>Go Dutch: <b>${S.toLocaleString()}</b></p>`;else{let k=(C/_).toFixed(1),L=(S/_).toFixed(1);T+=`<p>Government target (2025): ${C.toLocaleString()} (<b>${k}x</b> of baseline)</p>`,T+=`<p>Go Dutch: ${S.toLocaleString()} (<b>${L}x</b> of baseline)</p>`}return T}function a(d){u=d,n(2,u)}function f(d){o=d,n(0,o)}function c(d){i=d,n(1,i)}return[o,i,u,t,l,s,a,f,c]}class Tf extends U{constructor(e){super(),z(this,e,Sf,kf,G,{})}}function Cf(r){let e;return{c(){e=w("OS Speeds")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Of(r){let e;return{c(){e=w("Basemap")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Af(r){let e;return{c(){e=w(`Public Sector Geospatial Agreement
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Lf(r){let e,n,t,l,o,i,u,s,a,f,c,d;return t=new q({props:{href:"https://basemap.co.uk/speed-data",$$slots:{default:[Of]},$$scope:{ctx:r}}}),f=new q({props:{href:"https://www.ordnancesurvey.co.uk/documents/licensing/psga-member-licence.pdf",$$slots:{default:[Af]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("The average speed data is collected over a six-month period by "),h(t.$$.fragment),l=w(` from 135,000 vehicle telematic systems and provided through
        Ordnance Survey. The averages are grouped by different time periods for weekdays
        and weekends. This map shows the highest average.`),o=O(),i=A("p"),i.textContent="Data valid as of 1 September, 2023",u=O(),s=A("p"),a=w(`License: Contains OS data © Crown copyright and database right
        2023. Made available under the `),h(f.$$.fragment),c=w(".")},m(_,C){p(_,e,C),y(e,n),b(t,e,null),y(e,l),p(_,o,C),p(_,i,C),p(_,u,C),p(_,s,C),y(s,a),b(f,s,null),y(s,c),d=!0},p(_,C){const S={};C&256&&(S.$$scope={dirty:C,ctx:_}),t.$set(S);const T={};C&256&&(T.$$scope={dirty:C,ctx:_}),f.$set(T)},i(_){d||($(t.$$.fragment,_),$(f.$$.fragment,_),d=!0)},o(_){g(t.$$.fragment,_),g(f.$$.fragment,_),d=!1},d(_){_&&(m(e),m(o),m(i),m(u),m(s)),v(t),v(f)}}}function If(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Lf]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&256&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Qn(r){let e,n,t,l,o;e=new ze({props:{colorScale:r[2],limits:r[3]}});function i(s){r[6](s)}let u={legend:"Show speed types",id:"showSpeed",choices:[["indicative_mph","Posted speed limit"],["highest_mph","Highest measured average speed"]],inlineSmall:!0};return r[0]!==void 0&&(u.value=r[0]),t=new pr({props:u}),W.push(()=>V(t,"value",i)),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(s,a){b(e,s,a),p(s,n,a),b(t,s,a),o=!0},p(s,a){const f={};!l&&a&1&&(l=!0,f.value=s[0],X(()=>l=!1)),t.$set(f)},i(s){o||($(e.$$.fragment,s),$(t.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),o=!1},d(s){s&&m(n),v(e,s),v(t,s)}}}function Pf(r){let e,n,t=r[7].indicative_mph+"",l,o,i,u,s,a=r[7].highest_mph+"",f,c,d=r[4][r[7].highest_description]+"",_,C;return{c(){e=A("p"),n=w("Posted speed limit: "),l=w(t),o=w(" mph"),i=O(),u=A("p"),s=w("Highest average speed: "),f=w(a),c=w(" mph (during "),_=w(d),C=w(")")},m(S,T){p(S,e,T),y(e,n),y(e,l),y(e,o),p(S,i,T),p(S,u,T),y(u,s),y(u,f),y(u,c),y(u,_),y(u,C)},p(S,T){T&128&&t!==(t=S[7].indicative_mph+"")&&H(l,t),T&128&&a!==(a=S[7].highest_mph+"")&&H(f,a),T&128&&d!==(d=S[4][S[7].highest_description]+"")&&H(_,d)},d(S){S&&(m(e),m(i),m(u))}}}function Nf(r){let e,n;return e=new le({props:{$$slots:{default:[Pf,({props:t})=>({7:t}),({props:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&384&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Mf(r){let e,n;const t=[B(ft),{sourceLayer:ft},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":$e(["get",r[0]],r[3],r[2]),"line-width":Fe,"line-opacity":K(1,.5)}},{layout:{visibility:r[1]?"visible":"none"}}];let l={$$slots:{default:[Nf]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new ue({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&15?J(t,[i&0&&ee(B(ft)),i&0&&{sourceLayer:ft},t[2],t[3],i&13&&{paint:{"line-color":$e(["get",o[0]],o[3],o[2]),"line-width":Fe,"line-opacity":K(1,.5)}},i&2&&{layout:{visibility:o[1]?"visible":"none"}}]):{};i&256&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Ef(r){let e,n,t,l,o,i;function u(f){r[5](f)}let s={id:ft,$$slots:{right:[If],default:[Cf]},$$scope:{ctx:r}};r[1]!==void 0&&(s.checked=r[1]),e=new re({props:s}),W.push(()=>V(e,"checked",u));let a=r[1]&&Qn(r);return o=new ce({props:{url:`pmtiles://${on()}/v1/${ft}.pmtiles`,$$slots:{default:[Mf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),l=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),p(f,t,c),a&&a.m(f,c),p(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&256&&(d.$$scope={dirty:c,ctx:f}),!n&&c&2&&(n=!0,d.checked=f[1],X(()=>n=!1)),e.$set(d),f[1]?a?(a.p(f,c),c&2&&$(a,1)):(a=Qn(f),a.c(),$(a,1),a.m(l.parentNode,l)):a&&(ae(),g(a,1,1,()=>{a=null}),fe());const _={};c&259&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){i||($(e.$$.fragment,f),$(a),$(o.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),i=!1},d(f){f&&(m(t),m(l)),v(e,f),a&&a.d(f),v(o,f)}}}let ft="road_speeds";function Ff(r,e,n){let t=Q.sequential_low_to_high,l=[0,20,30,40,50,90],o="indicative_mph",i=!1,u={mf4to7:"Monday-Friday 4-7am",mf7to9:"Monday-Friday 7-9am",mf9to12:"Monday-Friday 9am-12pm",mf12to14:"Monday-Friday 12-2pm",mf14to16:"Monday-Friday 2-4pm",mf16to19:"Monday-Friday 4-7pm",mf19to22:"Monday-Friday 7-10pm",mf22to4:"Monday-Friday 10pm-4am",ss4to7:"Saturday-Sunday 4-7am",ss7to10:"Saturday-Sunday 7-10am",ss10to14:"Saturday-Sunday 10am-2pm",ss14to19:"Saturday-Sunday 2-7pm",ss19to22:"Saturday-Sunday 7-10pm",ss22to4:"Saturday-Sunday 10pm-4am"};function s(f){i=f,n(1,i)}function a(f){o=f,n(0,o)}return[o,i,t,l,u,s,a]}class Df extends U{constructor(e){super(),z(this,e,Ff,Ef,G,{})}}function jf(r){let e;return{c(){e=w("OS Road widths")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Bf(r){let e;return{c(){e=w(`Public Sector Geospatial Agreement
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Hf(r){let e,n,t,l,o,i,u,s,a;return u=new q({props:{href:"https://www.ordnancesurvey.co.uk/documents/licensing/psga-member-licence.pdf",$$slots:{default:[Bf]},$$scope:{ctx:r}}}),{c(){e=A("p"),e.textContent=`This is average and minimum road carriageway width (in meters) from
        Ordnance Survey. The coloring shows the average width, and the line
        thickness has no meaning. Be careful interpreting the data near dual
        carriageways and crossing islands.`,n=O(),t=A("p"),t.textContent="Data valid as of 1 September, 2023",l=O(),o=A("p"),i=w(`License: Contains OS data © Crown copyright and database right
        2023. Made available under the `),h(u.$$.fragment),s=w(".")},m(f,c){p(f,e,c),p(f,n,c),p(f,t,c),p(f,l,c),p(f,o,c),y(o,i),b(u,o,null),y(o,s),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),u.$set(d)},i(f){a||($(u.$$.fragment,f),a=!0)},o(f){g(u.$$.fragment,f),a=!1},d(f){f&&(m(e),m(n),m(t),m(l),m(o)),v(u)}}}function Rf(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Hf]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&32&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function xn(r){let e,n;return e=new ze({props:{colorScale:r[1],limits:r[2]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:te,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Gf(r){let e,n,t,l=r[4].average+"",o,i,u,s,a,f,c=r[4].minimum+"",d,_;return{c(){e=A("p"),n=w("Average width: "),t=A("b"),o=w(l),i=w(`
        meters`),u=O(),s=A("p"),a=w("Minimum width: "),f=A("b"),d=w(c),_=w(`
        meters`)},m(C,S){p(C,e,S),y(e,n),y(e,t),y(t,o),y(e,i),p(C,u,S),p(C,s,S),y(s,a),y(s,f),y(f,d),y(s,_)},p(C,S){S&16&&l!==(l=C[4].average+"")&&H(o,l),S&16&&c!==(c=C[4].minimum+"")&&H(d,c)},d(C){C&&(m(e),m(u),m(s))}}}function Wf(r){let e,n;return e=new le({props:{$$slots:{default:[Gf,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&48&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Uf(r){let e,n;const t=[B(ut),{sourceLayer:ut},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":$e(["get","average"],r[2],r[1]),"line-width":Fe,"line-opacity":K(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}}];let l={$$slots:{default:[Wf]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new ue({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&7?J(t,[i&0&&ee(B(ut)),i&0&&{sourceLayer:ut},t[2],t[3],i&6&&{paint:{"line-color":$e(["get","average"],o[2],o[1]),"line-width":Fe,"line-opacity":K(1,.5)}},i&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};i&32&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function zf(r){let e,n,t,l,o,i;function u(f){r[3](f)}let s={id:ut,$$slots:{right:[Rf],default:[jf]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new re({props:s}),W.push(()=>V(e,"checked",u));let a=r[0]&&xn(r);return o=new ce({props:{url:`pmtiles://${on()}/v1/${ut}.pmtiles`,$$slots:{default:[Uf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),l=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),p(f,t,c),a&&a.m(f,c),p(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],X(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&$(a,1)):(a=xn(f),a.c(),$(a,1),a.m(l.parentNode,l)):a&&(ae(),g(a,1,1,()=>{a=null}),fe());const _={};c&33&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){i||($(e.$$.fragment,f),$(a),$(o.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),i=!1},d(f){f&&(m(t),m(l)),v(e,f),a&&a.d(f),v(o,f)}}}let ut="road_widths";function qf(r,e,n){let t=Q.sequential_low_to_high,l=[0,5,10,15,20,100],o=!1;function i(u){o=u,n(0,o)}return[o,t,l,i]}class Vf extends U{constructor(e){super(),z(this,e,qf,zf,G,{})}}function Xf(r){let e,n,t;return{c(){e=A("input"),x(e,"class","govuk-file-upload"),x(e,"id","load-criticals"),x(e,"type","file")},m(l,o){p(l,e,o),r[7](e),n||(t=nn(e,"change",r[5]),n=!0)},p:te,d(l){l&&m(e),r[7](null),n=!1,t()}}}function er(r){let e,n;return e=new Ct({props:{small:!0,$$slots:{default:[Yf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&2054&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Kf(r){let e,n,t=r[2].toLocaleString()+"",l,o,i;return e=new ge({props:{color:vt}}),{c(){h(e.$$.fragment),n=w(`
        Show `),l=w(t),o=w(" issues")},m(u,s){b(e,u,s),p(u,n,s),p(u,l,s),p(u,o,s),i=!0},p(u,s){(!i||s&4)&&t!==(t=u[2].toLocaleString()+"")&&H(l,t)},i(u){i||($(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){u&&(m(n),m(l),m(o)),v(e,u)}}}function Yf(r){let e,n,t;function l(i){r[8](i)}let o={id:"show-criticals",$$slots:{default:[Kf]},$$scope:{ctx:r}};return r[1]!==void 0&&(o.checked=r[1]),e=new re({props:o}),W.push(()=>V(e,"checked",l)),{c(){h(e.$$.fragment)},m(i,u){b(e,i,u),t=!0},p(i,u){const s={};u&2052&&(s.$$scope={dirty:u,ctx:i}),!n&&u&2&&(n=!0,s.checked=i[1],X(()=>n=!1)),e.$set(s)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){g(e.$$.fragment,i),t=!1},d(i){v(e,i)}}}function Jf(r){let e,n,t,l,o,i;e=new $r({props:{label:"Load from .xlsx",id:"load-criticals",$$slots:{default:[Xf]},$$scope:{ctx:r}}}),t=new mr({props:{errorMessage:r[3]}});let u=r[2]>0&&er(r);return{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),u&&u.c(),o=Ne()},m(s,a){b(e,s,a),p(s,n,a),b(t,s,a),p(s,l,a),u&&u.m(s,a),p(s,o,a),i=!0},p(s,a){const f={};a&2049&&(f.$$scope={dirty:a,ctx:s}),e.$set(f);const c={};a&8&&(c.errorMessage=s[3]),t.$set(c),s[2]>0?u?(u.p(s,a),a&4&&$(u,1)):(u=er(s),u.c(),$(u,1),u.m(o.parentNode,o)):u&&(ae(),g(u,1,1,()=>{u=null}),fe())},i(s){i||($(e.$$.fragment,s),$(t.$$.fragment,s),$(u),i=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),g(u),i=!1},d(s){s&&(m(n),m(l),m(o)),v(e,s),v(t,s),u&&u.d(s)}}}function Zf(r){let e,n,t=r[10].critical_type+"",l,o,i,u,s,a=r[10].location_description+"",f,c,d,_,C,S=r[10].notes+"",T,k,L,F,j,I,E,P=r[10].id+"",N,M,R,D,se,Z=(r[10].inspector??"???")+"",be,mt,de,Qe=r[10].submission_time+"",_t,xe,pe,gt,Ee,je=r[10].scheme_reference+"",Ve,dt,et,Xe=r[10].current_design_stage+"",tt;return{c(){e=A("div"),n=A("h2"),l=w(t),o=O(),i=A("p"),u=A("u"),u.textContent="Location",s=w(`
          : `),f=w(a),c=O(),d=A("p"),_=A("u"),_.textContent="Notes",C=w(`
          : `),T=w(S),k=O(),L=A("hr"),F=O(),j=A("p"),I=w("Critical issue ID: "),E=A("b"),N=w(P),M=O(),R=A("p"),D=w("Submitted by "),se=A("b"),be=w(Z),mt=w(`
          at
          `),de=A("b"),_t=w(Qe),xe=O(),pe=A("p"),gt=w("For scheme "),Ee=A("b"),Ve=w(je),dt=w(`
          in stage
          `),et=A("b"),tt=w(Xe),ke(e,"max-width","30vw")},m(he,Se){p(he,e,Se),y(e,n),y(n,l),y(e,o),y(e,i),y(i,u),y(i,s),y(i,f),y(e,c),y(e,d),y(d,_),y(d,C),y(d,T),y(e,k),y(e,L),y(e,F),y(e,j),y(j,I),y(j,E),y(E,N),y(e,M),y(e,R),y(R,D),y(R,se),y(se,be),y(R,mt),y(R,de),y(de,_t),y(e,xe),y(e,pe),y(pe,gt),y(pe,Ee),y(Ee,Ve),y(pe,dt),y(pe,et),y(et,tt)},p(he,Se){Se&1024&&t!==(t=he[10].critical_type+"")&&H(l,t),Se&1024&&a!==(a=he[10].location_description+"")&&H(f,a),Se&1024&&S!==(S=he[10].notes+"")&&H(T,S),Se&1024&&P!==(P=he[10].id+"")&&H(N,P),Se&1024&&Z!==(Z=(he[10].inspector??"???")+"")&&H(be,Z),Se&1024&&Qe!==(Qe=he[10].submission_time+"")&&H(_t,Qe),Se&1024&&je!==(je=he[10].scheme_reference+"")&&H(Ve,je),Se&1024&&Xe!==(Xe=he[10].current_design_stage+"")&&H(tt,Xe)},d(he){he&&m(e)}}}function Qf(r){let e,n;return e=new le({props:{$$slots:{default:[Zf,({props:t})=>({10:t}),({props:t})=>t?1024:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&3072&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function xf(r){let e,n,t,l,o,i;const u=[B(`${Re}-clusters`),{applyToClusters:!0},{paint:{"circle-color":vt,"circle-opacity":.9,"circle-radius":["step",["get","point_count"],20,15,30,30,40]}},{layout:{visibility:r[1]?"visible":"none"}},{hoverCursor:"pointer"}];let s={};for(let _=0;_<u.length;_+=1)s=Y(s,u[_]);e=new Ue({props:s}),e.$on("click",r[6]);const a=[B(`${Re}-counts`),{applyToClusters:!0},{layout:{"text-field":"{point_count_abbreviated}",visibility:r[1]?"visible":"none"}}];let f={};for(let _=0;_<a.length;_+=1)f=Y(f,a[_]);t=new cl({props:f});const c=[B(`${Re}-points`),{applyToClusters:!1},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"circle-color":vt,"circle-opacity":K(.9,.5),"circle-radius":15,"circle-stroke-color":"black","circle-stroke-width":3}},{layout:{visibility:r[1]?"visible":"none"}}];let d={$$slots:{default:[Qf]},$$scope:{ctx:r}};for(let _=0;_<c.length;_+=1)d=Y(d,c[_]);return o=new Ue({props:d}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),h(o.$$.fragment)},m(_,C){b(e,_,C),p(_,n,C),b(t,_,C),p(_,l,C),b(o,_,C),i=!0},p(_,C){const S=C&2?J(u,[C&0&&ee(B(`${Re}-clusters`)),u[1],C&0&&{paint:{"circle-color":vt,"circle-opacity":.9,"circle-radius":["step",["get","point_count"],20,15,30,30,40]}},C&2&&{layout:{visibility:_[1]?"visible":"none"}},u[4]]):{};e.$set(S);const T=C&2?J(a,[C&0&&ee(B(`${Re}-counts`)),a[1],C&2&&{layout:{"text-field":"{point_count_abbreviated}",visibility:_[1]?"visible":"none"}}]):{};t.$set(T);const k=C&2?J(c,[C&0&&ee(B(`${Re}-points`)),c[1],c[2],c[3],C&0&&{paint:{"circle-color":vt,"circle-opacity":K(.9,.5),"circle-radius":15,"circle-stroke-color":"black","circle-stroke-width":3}},C&2&&{layout:{visibility:_[1]?"visible":"none"}}]):{};C&2048&&(k.$$scope={dirty:C,ctx:_}),o.$set(k)},i(_){i||($(e.$$.fragment,_),$(t.$$.fragment,_),$(o.$$.fragment,_),i=!0)},o(_){g(e.$$.fragment,_),g(t.$$.fragment,_),g(o.$$.fragment,_),i=!1},d(_){_&&(m(n),m(l)),v(e,_),v(t,_),v(o,_)}}}function eu(r){let e,n,t,l;return e=new Ae({props:{label:"Critical Issues",$$slots:{default:[Jf]},$$scope:{ctx:r}}}),t=new Tt({props:{id:Re,data:r[4],cluster:{radius:500,maxZoom:14},$$slots:{default:[xf]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,i){b(e,o,i),p(o,n,i),b(t,o,i),l=!0},p(o,[i]){const u={};i&2063&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&16&&(s.data=o[4]),i&2050&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||($(e.$$.fragment,o),$(t.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),l=!1},d(o){o&&m(n),v(e,o),v(t,o)}}}let Re="criticals",vt="red";function tu(r,e,n){let t;We(r,Rt,_=>n(9,t=_));let l,o=!0,i=0,u="",s=Rr();async function a(_){try{n(4,s=await vs(l.files[0])),n(2,i=s.features.length),n(3,u="")}catch(C){n(3,u=`The file you loaded is broken: ${C}`)}}function f(_){t.getSource(Re).getClusterExpansionZoom(_.detail.features[0].properties.cluster_id,(C,S)=>{C||t.easeTo({center:_.detail.features[0].geometry.coordinates,zoom:S})})}function c(_){W[_?"unshift":"push"](()=>{l=_,n(0,l)})}function d(_){o=_,n(1,o)}return[l,o,i,u,s,a,f,c,d]}class nu extends U{constructor(e){super(),z(this,e,tu,eu,G,{})}}function ru(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Crossings`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function lu(r){let e;return{c(){e=w("crossing")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function ou(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://wiki.openstreetmap.org/wiki/Key:crossing",$$slots:{default:[lu]},$$scope:{ctx:r}}}),i=new qe({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(" data from OpenStreetMap (as of 9 August 2023)."),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function su(r){let e,n,t;return n=new oe({props:{$$slots:{default:[ou]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function iu(r){let e,n=tr(r[3])+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&8&&n!==(n=tr(l[3])+"")&&H(t,n)},d(l){l&&m(e)}}}function au(r){let e,n;return e=new le({props:{$$slots:{default:[iu,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function fu(r){let e,n;const t=[B(ct),{sourceLayer:ct},{paint:{"circle-color":r[1],"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},{layout:{visibility:r[0]?"visible":"none"}},{hoverCursor:"pointer"},{eventsIfTopMost:!0}];let l={$$slots:{default:[au]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new Ue({props:l}),e.$on("click",cu),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?J(t,[i&0&&ee(B(ct)),i&0&&{sourceLayer:ct},i&2&&{paint:{"circle-color":o[1],"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};i&16&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function uu(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:ct,$$slots:{right:[su],default:[ru]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new ce({props:{url:`pmtiles://${ie()}/v1/${ct}.pmtiles`,$$slots:{default:[fu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let ct="crossings";function tr(r){return{no:"Location where crossing is impossible/illegal but where there is a clear desire line to cross",traffic_signals:"Signalised crossing",marked:"Crossing with no traffic signals",uncontrolled:"Crossing with no traffic signals",unmarked:"Crossing with no markings or signals",zebra:"Zebra crossing",island:"Crossing with an island",informal:"Informal crossing with an obvious desire line, but no official infrastructure to support it"}[r.crossing]??`Unknown crossing type (${r.crossing})`}function cu(r){window.open(`http://openstreetmap.org/node/${r.detail.features[0].properties.osm_id}`,"_blank")}function $u(r,e,n){let t=Q.crossings,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class pu extends U{constructor(e){super(),z(this,e,$u,uu,G,{})}}function mu(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Cycle parking`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function _u(r){let e;return{c(){e=w("OpenStreetMap")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function gu(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:amenity%3Dbicycle_parking",$$slots:{default:[_u]},$$scope:{ctx:r}}}),i=new qe({}),{c(){e=A("p"),n=w("Cycle parking, according to "),h(t.$$.fragment),l=w(` (as of 9 August 2023). The type of parking, public/private
        access, and whether it's covered are not shown.`),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function du(r){let e,n,t;return n=new oe({props:{$$slots:{default:[gu]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function hu(r){let e,n,t,l=(r[3].capacity??"unknown")+"",o;return{c(){e=A("p"),n=w("Capacity: "),t=A("b"),o=w(l)},m(i,u){p(i,e,u),y(e,n),y(e,t),y(t,o)},p(i,u){u&8&&l!==(l=(i[3].capacity??"unknown")+"")&&H(o,l)},d(i){i&&m(e)}}}function bu(r){let e,n;return e=new le({props:{$$slots:{default:[hu,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function vu(r){let e,n;const t=[B($t),{sourceLayer:$t},{paint:{"circle-color":r[1],"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},{layout:{visibility:r[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let l={$$slots:{default:[bu]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new Ue({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?J(t,[i&0&&ee(B($t)),i&0&&{sourceLayer:$t},i&2&&{paint:{"circle-color":o[1],"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};i&16&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function wu(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:$t,$$slots:{right:[du],default:[mu]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new ce({props:{url:`pmtiles://${ie()}/v1/${$t}.pmtiles`,$$slots:{default:[vu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let $t="cycle_parking";function yu(r,e,n){let t=Q.cycle_parking,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class ku extends U{constructor(e){super(),z(this,e,yu,wu,G,{})}}function Su(r){let e,n,t,l;return e=new ge({props:{color:r[4]}}),{c(){h(e.$$.fragment),n=O(),t=w(r[2])},m(o,i){b(e,o,i),p(o,n,i),p(o,t,i),l=!0},p(o,i){(!l||i&4)&&H(t,o[2])},i(o){l||($(e.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),l=!1},d(o){o&&(m(n),m(t)),v(e,o)}}}function Tu(r){let e;const n=r[5].default,t=Dt(n,r,r[7],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&128)&&jt(t,n,l,l[7],e?Ht(n,l[7],o,null):Bt(l[7]),null)},i(l){e||($(t,l),e=!0)},o(l){g(t,l),e=!1},d(l){t&&t.d(l)}}}function Cu(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Tu]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&128&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Ou(r){let e,n=(r[8].name??`Unnamed ${r[1]}`)+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&258&&n!==(n=(l[8].name??`Unnamed ${l[1]}`)+"")&&H(t,n)},d(l){l&&m(e)}}}function Au(r){let e,n;return e=new le({props:{$$slots:{default:[Ou,({props:t})=>({8:t}),({props:t})=>t?256:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Lu(r){let e,n;const t=[B(r[0]),{sourceLayer:r[0]},{paint:{"fill-color":r[4],"fill-opacity":K(.7,1)}},{layout:{visibility:r[3]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let l={$$slots:{default:[Au]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new De({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&25?J(t,[i&1&&ee(B(o[0])),i&1&&{sourceLayer:o[0]},i&16&&{paint:{"fill-color":o[4],"fill-opacity":K(.7,1)}},i&8&&{layout:{visibility:o[3]?"visible":"none"}},t[4],t[5]]):{};i&130&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Iu(r){let e,n,t,l,o;function i(s){r[6](s)}let u={id:r[0],$$slots:{right:[Cu],default:[Su]},$$scope:{ctx:r}};return r[3]!==void 0&&(u.checked=r[3]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new ce({props:{url:`pmtiles://${ie()}/v1/${r[0]}.pmtiles`,$$slots:{default:[Lu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&1&&(f.id=s[0]),a&132&&(f.$$scope={dirty:a,ctx:s}),!n&&a&8&&(n=!0,f.checked=s[3],X(()=>n=!1)),e.$set(f);const c={};a&1&&(c.url=`pmtiles://${ie()}/v1/${s[0]}.pmtiles`),a&139&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}function Pu(r,e,n){let{$$slots:t={},$$scope:l}=e,{name:o}=e,{singularNoun:i}=e,{pluralNoun:u}=e,s=Q[o],a=!1;function f(c){a=c,n(3,a)}return r.$$set=c=>{"name"in c&&n(0,o=c.name),"singularNoun"in c&&n(1,i=c.singularNoun),"pluralNoun"in c&&n(2,u=c.pluralNoun),"$$scope"in c&&n(7,l=c.$$scope)},[o,i,u,a,s,t,f,l]}class an extends U{constructor(e){super(),z(this,e,Pu,Iu,G,{name:0,singularNoun:1,pluralNoun:2})}}function Nu(r){let e;return{c(){e=w("hospital")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Mu(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:amenity%3Dhospital",$$slots:{default:[Nu]},$$scope:{ctx:r}}}),i=new qe({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(` data from OpenStreetMap (as of 9 August 2023). It doesn't include
    outpatient clinics or individual doctor's offices.`),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&1&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function Eu(r){let e,n;return e=new an({props:{name:"hospitals",singularNoun:"hospital",pluralNoun:"Hospitals",$$slots:{default:[Mu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}class Fu extends U{constructor(e){super(),z(this,e,null,Eu,G,{})}}function Du(r){let e,n,t;return e=new ge({props:{color:r[1]}}),{c(){h(e.$$.fragment),n=w(`
  Railway Stations`)},m(l,o){b(e,l,o),p(l,n,o),t=!0},p:te,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){l&&m(n),v(e,l)}}}function ju(r){let e;return{c(){e=w("railway station")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Bu(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:railway%3Dstation",$$slots:{default:[ju]},$$scope:{ctx:r}}}),i=new qe({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(" data from OpenStreetMap (as of 9 August 2023)."),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function Hu(r){let e,n,t;return n=new oe({props:{$$slots:{default:[Bu]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function Ru(r){let e,n=(r[3].name??"Unnamed railway station")+"",t;return{c(){e=A("p"),t=w(n)},m(l,o){p(l,e,o),y(e,t)},p(l,o){o&8&&n!==(n=(l[3].name??"Unnamed railway station")+"")&&H(t,n)},d(l){l&&m(e)}}}function Gu(r){let e,n;return e=new le({props:{$$slots:{default:[Ru,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&24&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Wu(r){let e,n;const t=[B(Ft),{paint:{"circle-color":r[1],"circle-radius":Mt/2}},{layout:{visibility:r[0]?"visible":"none"}}];let l={$$slots:{default:[Gu]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new Ue({props:l}),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&3?J(t,[i&0&&ee(B(Ft)),i&2&&{paint:{"circle-color":o[1],"circle-radius":Mt/2}},i&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};i&16&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Uu(r){let e,n,t,l,o;function i(s){r[2](s)}let u={id:Ft,$$slots:{right:[Hu],default:[Du]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.checked=r[0]),e=new re({props:u}),W.push(()=>V(e,"checked",i)),l=new Tt({props:{data:`${ie()}/v1/${Ft}.geojson`,$$slots:{default:[Wu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.checked=s[0],X(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}let Ft="railway_stations";function zu(r,e,n){let t=Q.railway_stations,l=!1;function o(i){l=i,n(0,l)}return[l,t,o]}class qu extends U{constructor(e){super(),z(this,e,zu,Uu,G,{})}}function Vu(r){let e;return{c(){e=w("primary and secondary schools")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Xu(r){let e,n,t,l,o,i,u;return t=new q({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:amenity%3Dschool",$$slots:{default:[Vu]},$$scope:{ctx:r}}}),i=new qe({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(` from OpenStreetMap (as of 9 August 2023). It doesn't include
    kindergartens, colleges, universities, or other training schools.`),o=O(),h(i.$$.fragment)},m(s,a){p(s,e,a),y(e,n),b(t,e,null),y(e,l),p(s,o,a),b(i,s,a),u=!0},p(s,a){const f={};a&1&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){u||($(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(e),m(o)),v(t),v(i,s)}}}function Ku(r){let e,n;return e=new an({props:{name:"schools",singularNoun:"school",pluralNoun:"Schools",$$slots:{default:[Xu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}class Yu extends U{constructor(e){super(),z(this,e,null,Ku,G,{})}}function Ju(r){let e;return{c(){e=w("sports pitches")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Zu(r){let e;return{c(){e=w("sports centres")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Qu(r){let e,n,t,l,o,i,u,s,a;return t=new q({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:leisure%3Dpitch",$$slots:{default:[Ju]},$$scope:{ctx:r}}}),o=new q({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:leisure%3Dsports_centre",$$slots:{default:[Zu]},$$scope:{ctx:r}}}),s=new qe({}),{c(){e=A("p"),n=w("This shows "),h(t.$$.fragment),l=w(" and "),h(o.$$.fragment),i=w(" data from OpenStreetMap (as of 9 August 2023)."),u=O(),h(s.$$.fragment)},m(f,c){p(f,e,c),y(e,n),b(t,e,null),y(e,l),b(o,e,null),y(e,i),p(f,u,c),b(s,f,c),a=!0},p(f,c){const d={};c&1&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const _={};c&1&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){a||($(t.$$.fragment,f),$(o.$$.fragment,f),$(s.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),g(s.$$.fragment,f),a=!1},d(f){f&&(m(e),m(u)),v(t),v(o),v(s,f)}}}function xu(r){let e,n;return e=new an({props:{name:"sports_spaces",singularNoun:"sports space",pluralNoun:"Sports spaces",$$slots:{default:[Qu]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}class ec extends U{constructor(e){super(),z(this,e,null,xu,G,{})}}function tc(r){let e;return{c(){e=w("Vehicle counts")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function nc(r){let e;return{c(){e=w(`DfT road statistics
        `)},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function rc(r){let e;return{c(){e=w("methodology")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function lc(r){let e,n,t,l,o,i,u,s,a,f,c;return t=new q({props:{href:"https://roadtraffic.dft.gov.uk/downloads",$$slots:{default:[nc]},$$scope:{ctx:r}}}),o=new q({props:{href:"https://storage.googleapis.com/dft-statistics/road-traffic/all-traffic-data-metadata.pdf",$$slots:{default:[rc]},$$scope:{ctx:r}}}),f=new Me({}),{c(){e=A("p"),n=w("2022 AADF (annual average daily flow) data from "),h(t.$$.fragment),l=w(`. This counts the total daily number of vehicles
        traveling past a count point (in both directions) on an average day of
        the year. See `),h(o.$$.fragment),i=w(" for details and caveats about the measurements."),u=O(),s=A("p"),s.textContent=`The colors show motor vehicles AADF, not pedal cycles. Click a point for
        full data.`,a=O(),h(f.$$.fragment)},m(d,_){p(d,e,_),y(e,n),b(t,e,null),y(e,l),b(o,e,null),y(e,i),p(d,u,_),p(d,s,_),p(d,a,_),b(f,d,_),c=!0},p(d,_){const C={};_&64&&(C.$$scope={dirty:_,ctx:d}),t.$set(C);const S={};_&64&&(S.$$scope={dirty:_,ctx:d}),o.$set(S)},i(d){c||($(t.$$.fragment,d),$(o.$$.fragment,d),$(f.$$.fragment,d),c=!0)},o(d){g(t.$$.fragment,d),g(o.$$.fragment,d),g(f.$$.fragment,d),c=!1},d(d){d&&(m(e),m(u),m(s),m(a)),v(t),v(o),v(f,d)}}}function oc(r){let e,n,t;return n=new oe({props:{$$slots:{default:[lc]},$$scope:{ctx:r}}}),{c(){e=A("span"),h(n.$$.fragment),x(e,"slot","right")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function nr(r){let e,n;return e=new ze({props:{colorScale:r[1],limits:r[3]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:te,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function sc(r){let e,n=r[5].location+"",t,l,o,i,u,s=r[5].motor_vehicles_2022.toLocaleString()+"",a,f,c,d,_,C=r[5].pedal_cycles_2022.toLocaleString()+"",S,T,k,L,F,j=r[5].method+"",I;return{c(){e=A("h2"),t=w(n),l=O(),o=A("p"),i=w("Total motor vehicles (2022 AADF): "),u=A("b"),a=w(s),f=O(),c=A("p"),d=w("Total pedal cycles (2022 AADF): "),_=A("b"),S=w(C),T=O(),k=A("p"),L=w("Count method: "),F=A("b"),I=w(j)},m(E,P){p(E,e,P),y(e,t),p(E,l,P),p(E,o,P),y(o,i),y(o,u),y(u,a),p(E,f,P),p(E,c,P),y(c,d),y(c,_),y(_,S),p(E,T,P),p(E,k,P),y(k,L),y(k,F),y(F,I)},p(E,P){P&32&&n!==(n=E[5].location+"")&&H(t,n),P&32&&s!==(s=E[5].motor_vehicles_2022.toLocaleString()+"")&&H(a,s),P&32&&C!==(C=E[5].pedal_cycles_2022.toLocaleString()+"")&&H(S,C),P&32&&j!==(j=E[5].method+"")&&H(I,j)},d(E){E&&(m(e),m(l),m(o),m(f),m(c),m(T),m(k))}}}function ic(r){let e,n;return e=new le({props:{$$slots:{default:[sc,({props:t})=>({5:t}),({props:t})=>t?32:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&96&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ac(r){let e,n;const t=[B(pt),{sourceLayer:pt},{paint:{"circle-color":$e(["get","motor_vehicles_2022"],r[2],r[1]),"circle-opacity":.9,"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,15],"circle-stroke-color":"black","circle-stroke-width":.1}},{layout:{visibility:r[0]?"visible":"none"}},{hoverCursor:"pointer"},{eventsIfTopMost:!0}];let l={$$slots:{default:[ic]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=Y(l,t[o]);return e=new Ue({props:l}),e.$on("click",uc),{c(){h(e.$$.fragment)},m(o,i){b(e,o,i),n=!0},p(o,i){const u=i&7?J(t,[i&0&&ee(B(pt)),i&0&&{sourceLayer:pt},i&6&&{paint:{"circle-color":$e(["get","motor_vehicles_2022"],o[2],o[1]),"circle-opacity":.9,"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,15],"circle-stroke-color":"black","circle-stroke-width":.1}},i&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};i&64&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function fc(r){let e,n,t,l,o,i;function u(f){r[4](f)}let s={id:pt,$$slots:{right:[oc],default:[tc]},$$scope:{ctx:r}};r[0]!==void 0&&(s.checked=r[0]),e=new re({props:s}),W.push(()=>V(e,"checked",u));let a=r[0]&&nr(r);return o=new ce({props:{url:`pmtiles://${ie()}/v1/${pt}.pmtiles`,$$slots:{default:[ac]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),l=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),p(f,t,c),a&&a.m(f,c),p(f,l,c),b(o,f,c),i=!0},p(f,[c]){const d={};c&64&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],X(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&$(a,1)):(a=nr(f),a.c(),$(a,1),a.m(l.parentNode,l)):a&&(ae(),g(a,1,1,()=>{a=null}),fe());const _={};c&65&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){i||($(e.$$.fragment,f),$(a),$(o.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),i=!1},d(f){f&&(m(t),m(l)),v(e,f),a&&a.d(f),v(o,f)}}}let pt="vehicle_counts";function uc(r){window.open(`https://roadtraffic.dft.gov.uk/manualcountpoints/${r.detail.features[0].properties.count_point}`,"_blank")}function cc(r,e,n){let t=Q.sequential_low_to_high,l=[0,4e4,8e4,12e4,16e4,205e3],o=["","40k","80k","120k","160k",""],i=!1;function u(s){i=s,n(0,i)}return[i,t,l,o,u]}class $c extends U{constructor(e){super(),z(this,e,cc,fc,G,{})}}function pc(r){let e,n,t,l,o,i,u,s;return e=new Yu({}),t=new Fu({}),o=new ec({}),u=new qu({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),h(o.$$.fragment),i=O(),h(u.$$.fragment)},m(a,f){b(e,a,f),p(a,n,f),b(t,a,f),p(a,l,f),b(o,a,f),p(a,i,f),b(u,a,f),s=!0},i(a){s||($(e.$$.fragment,a),$(t.$$.fragment,a),$(o.$$.fragment,a),$(u.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),g(o.$$.fragment,a),g(u.$$.fragment,a),s=!1},d(a){a&&(m(n),m(l),m(i)),v(e,a),v(t,a),v(o,a),v(u,a)}}}function mc(r){let e,n;return e=new Ct({props:{small:!0,$$slots:{default:[pc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function _c(r){let e,n,t,l,o,i,u,s,a,f;return e=new ef({}),t=new cf({}),o=new Ua({}),u=new ku({}),a=new pu({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),h(o.$$.fragment),i=O(),h(u.$$.fragment),s=O(),h(a.$$.fragment)},m(c,d){b(e,c,d),p(c,n,d),b(t,c,d),p(c,l,d),b(o,c,d),p(c,i,d),b(u,c,d),p(c,s,d),b(a,c,d),f=!0},i(c){f||($(e.$$.fragment,c),$(t.$$.fragment,c),$(o.$$.fragment,c),$(u.$$.fragment,c),$(a.$$.fragment,c),f=!0)},o(c){g(e.$$.fragment,c),g(t.$$.fragment,c),g(o.$$.fragment,c),g(u.$$.fragment,c),g(a.$$.fragment,c),f=!1},d(c){c&&(m(n),m(l),m(i),m(s)),v(e,c),v(t,c),v(o,c),v(u,c),v(a,c)}}}function gc(r){let e,n;return e=new Ct({props:{small:!0,$$slots:{default:[_c]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function dc(r){let e,n,t,l,o,i,u,s,a,f;return e=new $a({}),t=new La({}),o=new bi({}),u=new Gi({}),a=new ta({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),h(o.$$.fragment),i=O(),h(u.$$.fragment),s=O(),h(a.$$.fragment)},m(c,d){b(e,c,d),p(c,n,d),b(t,c,d),p(c,l,d),b(o,c,d),p(c,i,d),b(u,c,d),p(c,s,d),b(a,c,d),f=!0},i(c){f||($(e.$$.fragment,c),$(t.$$.fragment,c),$(o.$$.fragment,c),$(u.$$.fragment,c),$(a.$$.fragment,c),f=!0)},o(c){g(e.$$.fragment,c),g(t.$$.fragment,c),g(o.$$.fragment,c),g(u.$$.fragment,c),g(a.$$.fragment,c),f=!1},d(c){c&&(m(n),m(l),m(i),m(s)),v(e,c),v(t,c),v(o,c),v(u,c),v(a,c)}}}function hc(r){let e,n;return e=new Ct({props:{small:!0,$$slots:{default:[dc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function bc(r){let e,n,t,l;return e=new ai({}),t=new Ii({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,i){b(e,o,i),p(o,n,i),b(t,o,i),l=!0},i(o){l||($(e.$$.fragment,o),$(t.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),l=!1},d(o){o&&m(n),v(e,o),v(t,o)}}}function vc(r){let e,n,t,l;return e=new Vf({}),t=new Df({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,i){b(e,o,i),p(o,n,i),b(t,o,i),l=!0},i(o){l||($(e.$$.fragment,o),$(t.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),l=!1},d(o){o&&m(n),v(e,o),v(t,o)}}}function wc(r){let e,n,t,l,o=rn()=="Private (development)",i,u,s;e=new $c({}),t=new Tf({});let a=o&&vc();return u=new ha({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),a&&a.c(),i=O(),h(u.$$.fragment)},m(f,c){b(e,f,c),p(f,n,c),b(t,f,c),p(f,l,c),a&&a.m(f,c),p(f,i,c),b(u,f,c),s=!0},p:te,i(f){s||($(e.$$.fragment,f),$(t.$$.fragment,f),$(a),$(u.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(t.$$.fragment,f),g(a),g(u.$$.fragment,f),s=!1},d(f){f&&(m(n),m(l),m(i)),v(e,f),v(t,f),a&&a.d(f),v(u,f)}}}function yc(r){let e,n,t,l,o;function i(s){r[2](s)}let u={};return r[0]!==void 0&&(u.enabled=r[0]),e=new Xr({props:u}),W.push(()=>V(e,"enabled",i)),l=new el({}),{c(){h(e.$$.fragment),t=O(),h(l.$$.fragment)},m(s,a){b(e,s,a),p(s,t,a),b(l,s,a),o=!0},p(s,a){const f={};!n&&a&1&&(n=!0,f.enabled=s[0],X(()=>n=!1)),e.$set(f)},i(s){o||($(e.$$.fragment,s),$(l.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(l.$$.fragment,s),o=!1},d(s){s&&m(t),v(e,s),v(l,s)}}}function kc(r){let e,n,t,l,o,i,u,s,a,f,c,d,_,C,S,T;return e=new nu({}),t=new Ae({props:{label:"Trip generators",$$slots:{default:[mc]},$$scope:{ctx:r}}}),o=new Ae({props:{label:"Existing infrastructure",$$slots:{default:[gc]},$$scope:{ctx:r}}}),u=new Ae({props:{label:"Boundaries",$$slots:{default:[hc]},$$scope:{ctx:r}}}),a=new Ae({props:{label:"Census",$$slots:{default:[bc]},$$scope:{ctx:r}}}),c=new Ae({props:{label:"Other",$$slots:{default:[wc]},$$scope:{ctx:r}}}),_=new Ae({props:{label:"Tools",$$slots:{default:[yc]},$$scope:{ctx:r}}}),S=new Vr({props:{disabled:!r[1]}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),h(o.$$.fragment),i=O(),h(u.$$.fragment),s=O(),h(a.$$.fragment),f=O(),h(c.$$.fragment),d=O(),h(_.$$.fragment),C=O(),h(S.$$.fragment)},m(k,L){b(e,k,L),p(k,n,L),b(t,k,L),p(k,l,L),b(o,k,L),p(k,i,L),b(u,k,L),p(k,s,L),b(a,k,L),p(k,f,L),b(c,k,L),p(k,d,L),b(_,k,L),p(k,C,L),b(S,k,L),T=!0},p(k,L){const F={};L&8&&(F.$$scope={dirty:L,ctx:k}),t.$set(F);const j={};L&8&&(j.$$scope={dirty:L,ctx:k}),o.$set(j);const I={};L&8&&(I.$$scope={dirty:L,ctx:k}),u.$set(I);const E={};L&8&&(E.$$scope={dirty:L,ctx:k}),a.$set(E);const P={};L&8&&(P.$$scope={dirty:L,ctx:k}),c.$set(P);const N={};L&9&&(N.$$scope={dirty:L,ctx:k}),_.$set(N);const M={};L&2&&(M.disabled=!k[1]),S.$set(M)},i(k){T||($(e.$$.fragment,k),$(t.$$.fragment,k),$(o.$$.fragment,k),$(u.$$.fragment,k),$(a.$$.fragment,k),$(c.$$.fragment,k),$(_.$$.fragment,k),$(S.$$.fragment,k),T=!0)},o(k){g(e.$$.fragment,k),g(t.$$.fragment,k),g(o.$$.fragment,k),g(u.$$.fragment,k),g(a.$$.fragment,k),g(c.$$.fragment,k),g(_.$$.fragment,k),g(S.$$.fragment,k),T=!1},d(k){k&&(m(n),m(l),m(i),m(s),m(f),m(d),m(C)),v(e,k),v(t,k),v(o,k),v(u,k),v(a,k),v(c,k),v(_,k),v(S,k)}}}function Sc(r){let e,n;return e=new Ae({props:{label:"Layers",open:!0,$$slots:{default:[kc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&11&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Tc(r,e,n){let t,l;We(r,pn,i=>n(1,l=i));function o(i){t=i,n(0,t),n(1,l)}return r.$$.update=()=>{r.$$.dirty&2&&n(0,t=!l),r.$$.dirty&1&&pn.set(!t)},[t,l,o]}class Cc extends U{constructor(e){super(),z(this,e,Tc,Sc,G,{})}}function Oc(r,e,n){let{loadFile:t}=e;return Gt(async()=>{let o=await(await fetch(`${on()}/v1/random_schemes.geojson`)).text();t(o)}),r.$$set=l=>{"loadFile"in l&&n(0,t=l.loadFile)},[t]}class Ac extends U{constructor(e){super(),z(this,e,Oc,null,G,{loadFile:0})}}function Lc(r){let e;return{c(){e=w("Show on map")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Ic(r){let e;return{c(){e=w("Edit scheme locally")},m(n,t){p(n,e,t)},d(n){n&&m(e)}}}function Pc(r){let e,n,t,l;return e=new Yt({props:{$$slots:{default:[Lc]},$$scope:{ctx:r}}}),e.$on("click",r[3]),t=new Yt({props:{disabled:r[1],title:r[2],$$slots:{default:[Ic]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,i){b(e,o,i),p(o,n,i),b(t,o,i),l=!0},p(o,i){const u={};i&256&&(u.$$scope={dirty:i,ctx:o}),e.$set(u);const s={};i&256&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){l||($(e.$$.fragment,o),$(t.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),l=!1},d(o){o&&m(n),v(e,o),v(t,o)}}}function Nc(r){let e,n,t=r[0].authority_or_region+"",l,o,i,u,s=r[0].capital_scheme_id+"",a,f,c,d,_=r[0].funding_programme+"",C,S,T,k;return T=new Kr({props:{$$slots:{default:[Pc]},$$scope:{ctx:r}}}),{c(){e=A("p"),n=w("Authority or region: "),l=w(t),o=O(),i=A("p"),u=w("Capital scheme ID: "),a=w(s),f=O(),c=A("p"),d=w("Funding programme: "),C=w(_),S=O(),h(T.$$.fragment)},m(L,F){p(L,e,F),y(e,n),y(e,l),p(L,o,F),p(L,i,F),y(i,u),y(i,a),p(L,f,F),p(L,c,F),y(c,d),y(c,C),p(L,S,F),b(T,L,F),k=!0},p(L,F){(!k||F&1)&&t!==(t=L[0].authority_or_region+"")&&H(l,t),(!k||F&1)&&s!==(s=L[0].capital_scheme_id+"")&&H(a,s),(!k||F&1)&&_!==(_=L[0].funding_programme+"")&&H(C,_);const j={};F&256&&(j.$$scope={dirty:F,ctx:L}),T.$set(j)},i(L){k||($(T.$$.fragment,L),k=!0)},o(L){g(T.$$.fragment,L),k=!1},d(L){L&&(m(e),m(o),m(i),m(f),m(c),m(S)),v(T,L)}}}function Mc(r){let e,n;return e=new Ae({props:{label:`${r[0].scheme_reference}: ${r[0].num_features} features`,$$slots:{default:[Nc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.label=`${t[0].scheme_reference}: ${t[0].num_features} features`),l&257&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ec(r,e,n){let t;We(r,Rt,c=>n(7,t=c));let{schemesGj:l}=e,{scheme:o}=e,{authorityNames:i}=e,u=!i.has(o.authority_or_region),s=u?"This scheme doesn't have an authority specified correctly, so you can't edit this scheme. We're working to fix this problem.":void 0;function a(){let c={type:"FeatureCollection",features:l.features.filter(d=>d.properties.scheme_reference==o.scheme_reference)};t==null||t.fitBounds(Gr(c),{padding:20,animate:!1})}function f(){let c={type:"FeatureCollection",features:l.features.filter(_=>_.properties.scheme_reference==o.scheme_reference)},d=o.authority_or_region;window.localStorage.setItem(d,JSON.stringify(c)),window.open(`scheme.html?authority=${o.authority_or_region}`,"_blank")}return r.$$set=c=>{"schemesGj"in c&&n(5,l=c.schemesGj),"scheme"in c&&n(0,o=c.scheme),"authorityNames"in c&&n(6,i=c.authorityNames)},[o,u,s,a,f,l,i]}class Fc extends U{constructor(e){super(),z(this,e,Ec,Mc,G,{schemesGj:5,scheme:0,authorityNames:6})}}const Dc=["Adur","Allerdale","Amber Valley","Arun","Ashfield","Ashford","Babergh","Barking and Dagenham","Barnet","Barnsley","Barrow-in-Furness","Basildon","Basingstoke and Deane","Bassetlaw","Bath and North East Somerset","Bedford","Bexley","Birmingham","Blaby","Blackburn with Darwen","Blackpool","Bolsover","Bolton","Boston","Bournemouth, Christchurch and Poole","Bracknell Forest","Bradford","Braintree","Breckland","Brent","Brentwood","Brighton and Hove","Bristol, City of","Broadland","Bromley","Bromsgrove","Broxbourne","Broxtowe","Buckinghamshire","Burnley","Bury","Calderdale","Cambridge","Cambridgeshire and Peterborough Combined Authority","Camden","Cannock Chase","Canterbury","Carlisle","Castle Point","Central Bedfordshire","Charnwood","Chelmsford","Cheltenham","Cherwell","Cheshire East","Cheshire West and Chester","Chesterfield","Chichester","Chorley","City of London","Colchester","Copeland","Cornwall","Cotswold","County Durham","Coventry","Craven","Crawley","Croydon","Cumbria","Dacorum","Darlington","Dartford","Derby","Derbyshire","Derbyshire Dales","Devon","Doncaster","Dorset","Dover","Dudley","Ealing","Eastbourne","East Cambridgeshire","East Devon","East Hampshire","East Hertfordshire","Eastleigh","East Lindsey","East Riding of Yorkshire","East Staffordshire","East Suffolk","East Sussex","Eden","Elmbridge","Enfield","Epping Forest","Epsom and Ewell","Erewash","Essex","Exeter","Fareham","Fenland","Folkestone and Hythe","Forest of Dean","Fylde","Gateshead","Gedling","Gloucester","Gloucestershire","Gosport","Gravesham","Greater London","Greater Manchester Combined Authority","Great Yarmouth","Greenwich","Guildford","Hackney","Halton","Hambleton","Hammersmith and Fulham","Hampshire","Harborough","Haringey","Harlow","Harrogate","Harrow","Hart","Hartlepool","Hastings","Havant","Havering","Herefordshire","Herefordshire, County of","Hertfordshire","Hertsmere","High Peak","Hillingdon","Hinckley and Bosworth","Horsham","Hounslow","Huntingdonshire","Hyndburn","Ipswich","Isle of Wight","Isles of Scilly","Islington","Kensington and Chelsea","Kent","King's Lynn and West Norfolk","Kingston upon Hull","Kingston upon Hull, City of","Kingston upon Thames","Kirklees","Knowsley","Lambeth","Lancashire","Lancaster","Leeds","Leicester","Leicestershire","Lewes","Lewisham","Lichfield","Lincoln","Lincolnshire","Liverpool","Liverpool City Region Combined Authority","Luton","Maidstone","Maldon","Malvern Hills","Manchester","Mansfield","Medway","Melton","Mendip","Merton","Mid Devon","Middlesbrough","Mid Suffolk","Mid Sussex","Milton Keynes","Mole Valley","Newark and Sherwood","Newcastle-under-Lyme","Newcastle upon Tyne","New Forest","Newham","Norfolk","North Devon","North East Derbyshire","North East Joint Transport Committee","North East Lincolnshire","North Hertfordshire","North Kesteven","North Lincolnshire","North Norfolk","North Northamptonshire","North Somerset","North Tyneside","Northumberland","North Warwickshire","North West Leicestershire","North Yorkshire","Norwich","Nottingham","Nottinghamshire","Nuneaton and Bedworth","Oadby and Wigston","Oldham","Oxford","Oxfordshire","Pendle","Peterborough","Plymouth","Portsmouth","Preston","Reading","Redbridge","Redcar and Cleveland","Redditch","Reigate and Banstead","Ribble Valley","Richmondshire","Richmond upon Thames","Rochdale","Rochford","Rossendale","Rother","Rotherham","Rugby","Runnymede","Rushcliffe","Rushmoor","Rutland","Ryedale","Salford","Sandwell","Scarborough","Sedgemoor","Sefton","Selby","Sevenoaks","Sheffield","Sheffield City Region Combined Authority","Shropshire","Slough","Solihull","Somerset","Somerset West and Taunton","Southampton","South Cambridgeshire","South Derbyshire","Southend-on-Sea","South Gloucestershire","South Hams","South Holland","South Kesteven","South Lakeland","South Norfolk","South Oxfordshire","South Ribble","South Somerset","South Staffordshire","South Tyneside","Southwark","Spelthorne","Stafford","Staffordshire","Staffordshire Moorlands","St Albans","Stevenage","St. Helens","Stockport","Stockton-on-Tees","Stoke-on-Trent","Stratford-on-Avon","Stroud","Suffolk","Sunderland","Surrey","Surrey Heath","Sutton","Swale","Swindon","Tameside","Tamworth","Tandridge","Tees Valley Combined Authority","Teignbridge","Telford and Wrekin","Tendring","Test Valley","Tewkesbury","Thanet","Three Rivers","Thurrock","Tonbridge and Malling","Torbay","Torridge","Tower Hamlets","Trafford","Tunbridge Wells","Uttlesford","Vale of White Horse","Wakefield","Walsall","Waltham Forest","Wandsworth","Warrington","Warwick","Warwickshire","Watford","Waverley","Wealden","Welwyn Hatfield","West Berkshire","West Devon","West Lancashire","West Lindsey","West Midlands ITA","Westminster","West Northamptonshire","West of England Combined Authority","West Oxfordshire","West Suffolk","West Sussex","West Yorkshire Combined Authority","Wigan","Wiltshire","Winchester","Windsor and Maidenhead","Wirral","Woking","Wokingham","Wolverhampton","Worcester","Worcestershire","Worthing","Wychavon","Wyre","Wyre Forest","York"];function rr(r){let e,n,t=mn(r[0].length_meters)+"",l;return{c(){e=A("p"),n=w("Length: "),l=w(t)},m(o,i){p(o,e,i),y(e,n),y(e,l)},p(o,i){i&1&&t!==(t=mn(o[0].length_meters)+"")&&H(l,t)},d(o){o&&m(e)}}}function lr(r){let e,n=r[1](r[0].description)+"";return{c(){e=A("p")},m(t,l){p(t,e,l),e.innerHTML=n},p(t,l){l&1&&n!==(n=t[1](t[0].description)+"")&&(e.innerHTML=n)},d(t){t&&m(e)}}}function jc(r){let e,n,t,l=r[1](r[0].name)+"",o,i=r[0].intervention_type+"",u,s,a,f,c,d=r[0].scheme_reference+"",_,C,S,T=r[0].length_meters&&rr(r),k=r[0].description&&lr(r);return{c(){e=A("div"),n=A("h2"),t=new ln(!1),o=w(" ("),u=w(i),s=w(")"),a=O(),f=A("p"),c=w("Scheme reference: "),_=w(d),C=O(),T&&T.c(),S=O(),k&&k.c(),t.a=o,ke(e,"max-width","30vw")},m(L,F){p(L,e,F),y(e,n),t.m(l,n),y(n,o),y(n,u),y(n,s),y(e,a),y(e,f),y(f,c),y(f,_),y(e,C),T&&T.m(e,null),y(e,S),k&&k.m(e,null)},p(L,[F]){F&1&&l!==(l=L[1](L[0].name)+"")&&t.p(l),F&1&&i!==(i=L[0].intervention_type+"")&&H(u,i),F&1&&d!==(d=L[0].scheme_reference+"")&&H(_,d),L[0].length_meters?T?T.p(L,F):(T=rr(L),T.c(),T.m(e,S)):T&&(T.d(1),T=null),L[0].description?k?k.p(L,F):(k=lr(L),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},i:te,o:te,d(L){L&&m(e),T&&T.d(),k&&k.d()}}}function Bc(r,e,n){let{props:t}=e,{filterText:l}=e;function o(i){return l?i.replace(new RegExp(l,"gi"),u=>`<mark>${u}</mark>`):i}return r.$$set=i=>{"props"in i&&n(0,t=i.props),"filterText"in i&&n(2,l=i.filterText)},[t,o,l]}class fn extends U{constructor(e){super(),z(this,e,Bc,jc,G,{props:0,filterText:2})}}function Hc(r){let e,n;return e=new fn({props:{props:r[7],filterText:r[1]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.props=t[7]),l&2&&(o.filterText=t[1]),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Rc(r){let e,n;return e=new le({props:{$$slots:{default:[Hc,({props:t})=>({7:t}),({props:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Gc(r){let e,n;return e=new fn({props:{props:r[7],filterText:r[1]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.props=t[7]),l&2&&(o.filterText=t[1]),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Wc(r){let e,n;return e=new le({props:{$$slots:{default:[Gc,({props:t})=>({7:t}),({props:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Uc(r){let e,n;return e=new fn({props:{props:r[7],filterText:r[1]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&128&&(o.props=t[7]),l&2&&(o.filterText=t[1]),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function zc(r){let e,n;return e=new le({props:{$$slots:{default:[Uc,({props:t})=>({7:t}),({props:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&386&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function qc(r){let e,n,t,l,o,i,u,s,a,f;const c=[B("interventions-points"),{filter:["all",_n,r[4],r[5]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"circle-color":r[3],"circle-radius":Mt,"circle-opacity":K(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}}];let d={$$slots:{default:[Rc]},$$scope:{ctx:r}};for(let I=0;I<c.length;I+=1)d=Y(d,c[I]);e=new Ue({props:d});const _=[B("interventions-lines"),{filter:["all",gn,r[4]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":r[3],"line-width":ht,"line-opacity":K(1,.5)}},{layout:{visibility:r[0]?"visible":"none"}}];let C={$$slots:{default:[Wc]},$$scope:{ctx:r}};for(let I=0;I<_.length;I+=1)C=Y(C,_[I]);t=new ue({props:C});const S=[B("interventions-lines-endpoints"),{filter:["==","endpoint",!0]},{paint:{"circle-radius":.5*ht,"circle-opacity":0,"circle-stroke-color":Yr.lineEndpointColor,"circle-stroke-width":2}},{layout:{visibility:r[0]?"visible":"none"}}];let T={};for(let I=0;I<S.length;I+=1)T=Y(T,S[I]);o=new Ue({props:T});const k=[B("interventions-polygons"),{filter:["all",Lt,r[4]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"fill-color":r[3],"fill-opacity":K(.2,.5)}},{layout:{visibility:r[0]?"visible":"none"}}];let L={$$slots:{default:[zc]},$$scope:{ctx:r}};for(let I=0;I<k.length;I+=1)L=Y(L,k[I]);u=new De({props:L});const F=[B("interventions-polygons-outlines"),{filter:["all",Lt,r[4]]},{paint:{"line-color":r[3],"line-opacity":.5,"line-width":.7*ht}},{layout:{visibility:r[0]?"visible":"none"}}];let j={};for(let I=0;I<F.length;I+=1)j=Y(j,F[I]);return a=new ue({props:j}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),h(o.$$.fragment),i=O(),h(u.$$.fragment),s=O(),h(a.$$.fragment)},m(I,E){b(e,I,E),p(I,n,E),b(t,I,E),p(I,l,E),b(o,I,E),p(I,i,E),b(u,I,E),p(I,s,E),b(a,I,E),f=!0},p(I,E){const P=E&57?J(c,[c[0],E&48&&{filter:["all",_n,I[4],I[5]]},c[2],c[3],E&8&&{paint:{"circle-color":I[3],"circle-radius":Mt,"circle-opacity":K(1,.5)}},E&1&&{layout:{visibility:I[0]?"visible":"none"}}]):{};E&258&&(P.$$scope={dirty:E,ctx:I}),e.$set(P);const N=E&25?J(_,[_[0],E&16&&{filter:["all",gn,I[4]]},_[2],_[3],E&8&&{paint:{"line-color":I[3],"line-width":ht,"line-opacity":K(1,.5)}},E&1&&{layout:{visibility:I[0]?"visible":"none"}}]):{};E&258&&(N.$$scope={dirty:E,ctx:I}),t.$set(N);const M=E&1?J(S,[S[0],S[1],S[2],{layout:{visibility:I[0]?"visible":"none"}}]):{};o.$set(M);const R=E&25?J(k,[k[0],E&16&&{filter:["all",Lt,I[4]]},k[2],k[3],E&8&&{paint:{"fill-color":I[3],"fill-opacity":K(.2,.5)}},E&1&&{layout:{visibility:I[0]?"visible":"none"}}]):{};E&258&&(R.$$scope={dirty:E,ctx:I}),u.$set(R);const D=E&25?J(F,[F[0],E&16&&{filter:["all",Lt,I[4]]},E&8&&{paint:{"line-color":I[3],"line-opacity":.5,"line-width":.7*ht}},E&1&&{layout:{visibility:I[0]?"visible":"none"}}]):{};a.$set(D)},i(I){f||($(e.$$.fragment,I),$(t.$$.fragment,I),$(o.$$.fragment,I),$(u.$$.fragment,I),$(a.$$.fragment,I),f=!0)},o(I){g(e.$$.fragment,I),g(t.$$.fragment,I),g(o.$$.fragment,I),g(u.$$.fragment,I),g(a.$$.fragment,I),f=!1},d(I){I&&(m(n),m(l),m(i),m(s)),v(e,I),v(t,I),v(o,I),v(u,I),v(a,I)}}}function Vc(r){let e,n;return e=new Tt({props:{data:r[2],$$slots:{default:[qc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&4&&(o.data=t[2]),l&259&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Xc(r,e,n){let t,{schemesGj:l}=e,{showSchemes:o}=e,{filterText:i}=e,u=_r("v1");const s=["!=","hide_while_editing",!0],a=["!=","endpoint",!0];return r.$$set=f=>{"schemesGj"in f&&n(6,l=f.schemesGj),"showSchemes"in f&&n(0,o=f.showSchemes),"filterText"in f&&n(1,i=f.filterText)},r.$$.update=()=>{r.$$.dirty&64&&n(2,t=Wr(l))},[o,i,t,u,s,a,l]}class Kc extends U{constructor(e){super(),z(this,e,Xc,Vc,G,{schemesGj:6,showSchemes:0,filterText:1})}}function or(r,e,n){const t=r.slice();return t[14]=e[n],t}function Yc(r){let e,n;return e=new Ac({props:{loadFile:r[8]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p:te,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function sr(r){let e,n,t,l,o,i;function u(d){r[9](d)}function s(d){r[10](d)}function a(d){r[11](d)}function f(d){r[12](d)}let c={schemes:r[2]};return r[1]!==void 0&&(c.schemesGj=r[1]),r[3]!==void 0&&(c.schemesToBeShown=r[3]),r[4]!==void 0&&(c.filterText=r[4]),r[5]!==void 0&&(c.show=r[5]),e=new Ps({props:c}),W.push(()=>V(e,"schemesGj",u)),W.push(()=>V(e,"schemesToBeShown",s)),W.push(()=>V(e,"filterText",a)),W.push(()=>V(e,"show",f)),{c(){h(e.$$.fragment)},m(d,_){b(e,d,_),i=!0},p(d,_){const C={};_&4&&(C.schemes=d[2]),!n&&_&2&&(n=!0,C.schemesGj=d[1],X(()=>n=!1)),!t&&_&8&&(t=!0,C.schemesToBeShown=d[3],X(()=>t=!1)),!l&&_&16&&(l=!0,C.filterText=d[4],X(()=>l=!1)),!o&&_&32&&(o=!0,C.show=d[5],X(()=>o=!1)),e.$set(C)},i(d){i||($(e.$$.fragment,d),i=!0)},o(d){g(e.$$.fragment,d),i=!1},d(d){v(e,d)}}}function ir(r){let e,n;return e=new Fc({props:{schemesGj:r[1],scheme:r[14],authorityNames:r[7]}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.schemesGj=t[1]),l&4&&(o.scheme=t[14]),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ar(r){let e=r[3].has(r[14].scheme_reference),n,t,l=e&&ir(r);return{c(){l&&l.c(),n=Ne()},m(o,i){l&&l.m(o,i),p(o,n,i),t=!0},p(o,i){i&12&&(e=o[3].has(o[14].scheme_reference)),e?l?(l.p(o,i),i&12&&$(l,1)):(l=ir(o),l.c(),$(l,1),l.m(n.parentNode,n)):l&&(ae(),g(l,1,1,()=>{l=null}),fe())},i(o){t||($(l),t=!0)},o(o){g(l),t=!1},d(o){o&&m(n),l&&l.d(o)}}}function Jc(r){let e,n,t,l,o,i,u,s,a,f,c=rn()=="Private (development)",d,_,C,S,T,k,L,F;o=new Qr({props:{boundaryGeojson:r[1]}}),u=new gl({}),a=new Ur({});let j=c&&Yc(r);_=new xr({props:{label:"Load schemes from GeoJSON",id:"load-geojson",loadFile:r[8]}}),S=new mr({props:{errorMessage:r[0]}});let I=r[2].size>0&&sr(r),E=Ge(r[2].values()),P=[];for(let M=0;M<E.length;M+=1)P[M]=ar(or(r,E,M));const N=M=>g(P[M],1,1,()=>{P[M]=null});return{c(){e=A("div"),n=A("div"),t=A("h1"),t.textContent="Browse schemes",l=O(),h(o.$$.fragment),i=O(),h(u.$$.fragment),s=O(),h(a.$$.fragment),f=O(),j&&j.c(),d=O(),h(_.$$.fragment),C=O(),h(S.$$.fragment),T=O(),I&&I.c(),k=O(),L=A("ul");for(let M=0;M<P.length;M+=1)P[M].c();ke(n,"display","flex"),ke(n,"justify-content","space-between"),x(e,"slot","sidebar"),x(e,"class","govuk-prose")},m(M,R){p(M,e,R),y(e,n),y(n,t),y(n,l),b(o,n,null),y(e,i),b(u,e,null),y(e,s),b(a,e,null),y(e,f),j&&j.m(e,null),y(e,d),b(_,e,null),y(e,C),b(S,e,null),y(e,T),I&&I.m(e,null),y(e,k),y(e,L);for(let D=0;D<P.length;D+=1)P[D]&&P[D].m(L,null);F=!0},p(M,R){const D={};R&2&&(D.boundaryGeojson=M[1]),o.$set(D),c&&j.p(M,R);const se={};if(R&1&&(se.errorMessage=M[0]),S.$set(se),M[2].size>0?I?(I.p(M,R),R&4&&$(I,1)):(I=sr(M),I.c(),$(I,1),I.m(e,k)):I&&(ae(),g(I,1,1,()=>{I=null}),fe()),R&142){E=Ge(M[2].values());let Z;for(Z=0;Z<E.length;Z+=1){const be=or(M,E,Z);P[Z]?(P[Z].p(be,R),$(P[Z],1)):(P[Z]=ar(be),P[Z].c(),$(P[Z],1),P[Z].m(L,null))}for(ae(),Z=E.length;Z<P.length;Z+=1)N(Z);fe()}},i(M){if(!F){$(o.$$.fragment,M),$(u.$$.fragment,M),$(a.$$.fragment,M),$(j),$(_.$$.fragment,M),$(S.$$.fragment,M),$(I);for(let R=0;R<E.length;R+=1)$(P[R]);F=!0}},o(M){g(o.$$.fragment,M),g(u.$$.fragment,M),g(a.$$.fragment,M),g(j),g(_.$$.fragment,M),g(S.$$.fragment,M),g(I),P=P.filter(Boolean);for(let R=0;R<P.length;R+=1)g(P[R]);F=!1},d(M){M&&m(e),v(o),v(u),v(a),j&&j.d(),v(_),v(S),I&&I.d(),Nt(P,M)}}}function Zc(r){let e,n,t,l,o,i,u;return e=new Jr({}),t=new Kc({props:{schemesGj:r[1],filterText:r[4],showSchemes:r[5]}}),i=new Cc({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),l=O(),o=A("div"),h(i.$$.fragment),x(o,"class","top-right svelte-u44ed2")},m(s,a){b(e,s,a),p(s,n,a),b(t,s,a),p(s,l,a),p(s,o,a),b(i,o,null),u=!0},p(s,a){const f={};a&2&&(f.schemesGj=s[1]),a&16&&(f.filterText=s[4]),a&32&&(f.showSchemes=s[5]),t.$set(f)},i(s){u||($(e.$$.fragment,s),$(t.$$.fragment,s),$(i.$$.fragment,s),u=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),g(i.$$.fragment,s),u=!1},d(s){s&&(m(n),m(l),m(o)),v(e,s),v(t,s),v(i)}}}function Qc(r){let e,n,t;return n=new zr({props:{style:r[6],startBounds:[-5.96,49.89,2.31,55.94],$$slots:{default:[Zc]},$$scope:{ctx:r}}}),{c(){e=A("div"),h(n.$$.fragment),x(e,"slot","main")},m(l,o){p(l,e,o),b(n,e,null),t=!0},p(l,o){const i={};o&64&&(i.style=l[6]),o&131122&&(i.$$scope={dirty:o,ctx:l}),n.$set(i)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){g(n.$$.fragment,l),t=!1},d(l){l&&m(e),v(n)}}}function xc(r){let e,n;return e=new tl({props:{$$slots:{main:[Qc],sidebar:[Jc]},$$scope:{ctx:r}}}),{c(){h(e.$$.fragment)},m(t,l){b(e,t,l),n=!0},p(t,[l]){const o={};l&131199&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function e$(r,e,n){let t;We(r,dn,k=>n(6,t=k)),Gt(()=>{qr()});let l=new Set(Dc);const o=new URLSearchParams(window.location.search);dn.set(o.get("style")||"dataviz");let i="",u={type:"FeatureCollection",features:[],schemes:{}},s=new Map,a=new Set,f="",c=!0;function d(k){try{n(1,u=JSON.parse(k)),n(2,s=hs(u)),n(0,i="")}catch(L){n(0,i=`The file you loaded is broken: ${L}`)}}function _(k){u=k,n(1,u)}function C(k){a=k,n(3,a)}function S(k){f=k,n(4,f)}function T(k){c=k,n(5,c)}return[i,u,s,a,f,c,t,l,d,_,C,S,T]}class t$ extends U{constructor(e){super(),z(this,e,e$,xc,G,{})}}document.body.className=document.body.className?document.body.className+" js-enabled":"js-enabled";new t$({target:document.getElementById("app")});
