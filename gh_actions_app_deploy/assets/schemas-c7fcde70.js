import{S as m,i as h,s as _,aY as z,b as A,c as T,g as v,m as y,l as W,t as d,n as g,q as $,e as b,h as C,ao as x,j as w,x as I,p as S,az as j,y as F,o as J,aA as M,d as B,u as Y,k,I as Q,a as U,N as P,C as G,ax as H,D as K,T as V,P as X,Z as E,Y as D,Q as ee,a1 as te,a0 as ne,$ as N,ap as O}from"./index-2e56131b.js";import{e as oe,C as re,a as ae,l as L,c}from"./StreetViewController-f8d48b2f.js";function se(a){let e,r,t;function n(o){a[2](o)}let i={label:"Basemap",id:"basemap",choices:z()};return a[0]!==void 0&&(i.value=a[0]),e=new oe({props:i}),A.push(()=>T(e,"value",n)),e.$on("change",a[1]),{c(){v(e.$$.fragment)},m(o,l){y(e,o,l),t=!0},p(o,[l]){const s={};!r&&l&1&&(r=!0,s.value=o[0],W(()=>r=!1)),e.$set(s)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){$(e,o)}}}function ie(a,e,r){let{style:t}=e;function n(){let o=new URLSearchParams(window.location.search);o.set("style",t);let l=`${window.location.pathname}?${o.toString()}${window.location.hash}`;window.location.href=l}function i(o){t=o,r(0,t)}return a.$$set=o=>{"style"in o&&r(0,t=o.style)},[t,n,i]}class be extends m{constructor(e){super(),h(this,e,ie,se,_,{style:0})}}function le(a){let e;return{c(){e=b("span"),C(e,"class","svelte-kzgqtg"),x(e,"background",a[0])},m(r,t){w(r,e,t)},p(r,[t]){t&1&&x(e,"background",r[0])},i:I,o:I,d(r){r&&S(e)}}}function ce(a,e,r){let{color:t}=e;return a.$$set=n=>{"color"in n&&r(0,t=n.color)},[t]}class ue extends m{constructor(e){super(),h(this,e,ce,le,_,{color:0})}}function Z(a,e,r){const t=a.slice();return t[1]=e[r][0],t[2]=e[r][1],t}function q(a){let e,r,t,n=a[1]+"",i,o,l;return r=new ue({props:{color:a[2]}}),{c(){e=b("li"),v(r.$$.fragment),t=B(),i=Y(n),o=B()},m(s,u){w(s,e,u),y(r,e,null),k(e,t),k(e,i),k(e,o),l=!0},p(s,u){const p={};u&1&&(p.color=s[2]),r.$set(p),(!l||u&1)&&n!==(n=s[1]+"")&&Q(i,n)},i(s){l||(d(r.$$.fragment,s),l=!0)},o(s){g(r.$$.fragment,s),l=!1},d(s){s&&S(e),$(r)}}}function pe(a){let e,r,t=j(a[0]),n=[];for(let o=0;o<t.length;o+=1)n[o]=q(Z(a,t,o));const i=o=>g(n[o],1,1,()=>{n[o]=null});return{c(){e=b("ul");for(let o=0;o<n.length;o+=1)n[o].c()},m(o,l){w(o,e,l);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);r=!0},p(o,l){if(l&1){t=j(o[0]);let s;for(s=0;s<t.length;s+=1){const u=Z(o,t,s);n[s]?(n[s].p(u,l),d(n[s],1)):(n[s]=q(u),n[s].c(),d(n[s],1),n[s].m(e,null))}for(F(),s=t.length;s<n.length;s+=1)i(s);J()}},i(o){if(!r){for(let l=0;l<t.length;l+=1)d(n[l]);r=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)g(n[l]);r=!1},d(o){o&&S(e),M(n,o)}}}function fe(a){let e,r;return e=new re({props:{label:"Legend",$$slots:{default:[pe]},$$scope:{ctx:a}}}),{c(){v(e.$$.fragment)},m(t,n){y(e,t,n),r=!0},p(t,[n]){const i={};n&33&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){$(e,t)}}}function de(a,e,r){let{rows:t}=e;return a.$$set=n=>{"rows"in n&&r(0,t=n.rows)},[t]}class we extends m{constructor(e){super(),h(this,e,de,fe,_,{rows:0})}}const ge="/atip/gh_actions_app_deploy/assets/zoom_out_map-b2e1091a.svg";function me(a){let e,r;return{c(){e=b("img"),H(e.src,r=ge)||C(e,"src",r),C(e,"alt","Zoom to show entire boundary")},m(t,n){w(t,e,n)},p:I,d(t){t&&S(e)}}}function he(a){let e,r;return e=new U({props:{title:"Zoom to show entire boundary",$$slots:{default:[me]},$$scope:{ctx:a}}}),e.$on("click",a[0]),{c(){v(e.$$.fragment)},m(t,n){y(e,t,n),r=!0},p(t,[n]){const i={};n&8&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){$(e,t)}}}function _e(a,e,r){let t;P(a,G,o=>r(2,t=o));let{boundaryGeojson:n}=e;function i(){t.fitBounds(K(n),{padding:20,animate:!0,duration:500})}return a.$$set=o=>{"boundaryGeojson"in o&&r(1,n=o.boundaryGeojson)},[i,n]}class Se extends m{constructor(e){super(),h(this,e,_e,he,_,{boundaryGeojson:1})}}let f="interventions";function ve(a,e,r){let t,n;P(a,G,s=>r(1,t=s)),P(a,V,s=>r(2,n=s));let{colorInterventions:i}=e;X(t,f,n);const o=["!=","hide_while_editing",!0];return E(t,{id:"interventions-points",source:f,filter:["all",te,o,["!=","endpoint",!0]],color:i,radius:ae}),D(t,{id:"interventions-lines",source:f,filter:["all",ne,o],color:i,width:L}),E(t,{id:"interventions-lines-endpoints",source:f,filter:["==","endpoint",!0],radius:.5*L,opacity:0,strokeColor:c.lineEndpointColor,strokeWidth:2}),ee(t,{id:"interventions-polygons",source:f,filter:["all",N,o],color:i,opacity:.2}),D(t,{id:"interventions-polygon-outlines",source:f,filter:["all",N,o],color:i,opacity:.5,width:.7*L}),a.$$set=s=>{"colorInterventions"in s&&r(0,i=s.colorInterventions)},a.$$.update=()=>{if(a.$$.dirty&6){let s=JSON.parse(JSON.stringify(n)),u=[];for(let p of s.features)if(p.geometry.type=="LineString"&&!p.properties.hide_while_editing)for(let R of[p.geometry.coordinates[0],p.geometry.coordinates[p.geometry.coordinates.length-1]])u.push({type:"Feature",properties:{endpoint:!0},geometry:{type:"Point",coordinates:R}});s.features=s.features.concat(u),t.getSource(f).setData(s)}},[i,t,n]}class ke extends m{constructor(e){super(),h(this,e,ve,null,_,{colorInterventions:0})}}function Le(a){return{v1:"Scheme Design",v2:"Experimental Scheme Design",planning:"Development Planning",criticals:"Critical Issues",atf4:"ATF4 Scheme"}[a]}function Ce(a){return{v1:"an intervention",v2:"an intervention",planning:"a development",criticals:"a critical issue",atf4:"an intervention"}[a]}function Ie(a){return{v1:"interventions",v2:"interventions",planning:"developments",criticals:"critical issues",atf4:"interventions"}[a]}function Pe(a){return a=="planning"?O(["get","reference_type",["get","planning"]],{preapp:c.preapp,outline:c.outline,"reserved matters":c["reserved matters"],"local plan":c["local plan"]},"black"):O(["get","intervention_type"],{area:c.area,route:c.route,crossing:c.crossing,other:c.other},"white")}function xe(a){return a=="planning"?[["Preapp",c.preapp],["Outline",c.outline],["Reserved matters",c["reserved matters"]],["Local plan",c["local plan"]]]:[["Areas",c.area],["Routes",c.route],["Crossings",c.crossing],["Other",c.other]]}export{be as B,ue as C,ke as I,we as L,Se as Z,Ie as a,Le as b,Pe as c,xe as d,Ce as s};
