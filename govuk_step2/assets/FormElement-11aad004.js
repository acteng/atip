import{S as J,i as Q,s as Z,c as tt,e as G,p as et,q as nt,r as F,d as it,v as W,w as rt,u as ot,g as st,f as at,t as lt,j as ut,k as ct}from"./maplibre_helpers-e26a4314.js";function w(t,e){if(window.NodeList.prototype.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e.call(window,t[n],n,t)}function dt(){var t=new Date().getTime();return typeof window.performance<"u"&&typeof window.performance.now=="function"&&(t+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(e==="x"?n:n&3|8).toString(16)})}function $(){for(var t=function(l){var s={},i=function(u,a){for(var c in u)if(Object.prototype.hasOwnProperty.call(u,c)){var h=u[c],p=a?a+"."+c:c;typeof h=="object"?i(h,p):s[p]=h}};return i(l),s},e={},n=0;n<arguments.length;n++){var r=t(arguments[n]);for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}function U(t,e){if(!t||typeof t!="object")throw new Error('Provide a `configObject` of type "object".');if(!e||typeof e!="string")throw new Error('Provide a `namespace` of type "string" to filter the `configObject` by.');var n={};for(var r in t){var o=r.split(".");if(Object.prototype.hasOwnProperty.call(t,r)&&o[0]===e){o.length>1&&o.shift();var l=o.join(".");n[l]=t[r]}}return n}(function(t){var e="defineProperty"in Object&&function(){try{var n={};return Object.defineProperty(n,"test",{value:42}),!0}catch{return!1}}();e||function(n){var r=Object.prototype.hasOwnProperty("__defineGetter__"),o="Getters & setters cannot be defined on this javascript engine",l="A property cannot both have accessors and be writable or have a value";Object.defineProperty=function(i,u,a){if(n&&(i===window||i===document||i===Element.prototype||i instanceof Element))return n(i,u,a);if(i===null||!(i instanceof Object||typeof i=="object"))throw new TypeError("Object.defineProperty called on non-object");if(!(a instanceof Object))throw new TypeError("Property description must be an object");var c=String(u),h="value"in a||"writable"in a,p="get"in a&&typeof a.get,m="set"in a&&typeof a.set;if(p){if(p!=="function")throw new TypeError("Getter must be a function");if(!r)throw new TypeError(o);if(h)throw new TypeError(l);Object.__defineGetter__.call(i,c,a.get)}else i[c]=a.value;if(m){if(m!=="function")throw new TypeError("Setter must be a function");if(!r)throw new TypeError(o);if(h)throw new TypeError(l);Object.__defineSetter__.call(i,c,a.set)}return"value"in a&&(i[c]=a.value),i}}(Object.defineProperty)}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="Document"in this;e||typeof WorkerGlobalScope>"u"&&typeof importScripts!="function"&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="Element"in this&&"HTMLElement"in this;e||function(){if(window.Element&&!window.HTMLElement){window.HTMLElement=window.Element;return}window.Element=window.HTMLElement=new Function("return function Element() {}")();var n=document.appendChild(document.createElement("body")),r=n.appendChild(document.createElement("iframe")),o=r.contentWindow.document,l=Element.prototype=o.appendChild(o.createElement("*")),s={},i=function(m,d){var E=m.childNodes||[],b=-1,f,g,v;if(m.nodeType===1&&m.constructor!==Element){m.constructor=Element;for(f in s)g=s[f],m[f]=g}for(;v=d&&E[++b];)i(v,d);return m},u=document.getElementsByTagName("*"),a=document.createElement,c,h=100;l.attachEvent("onpropertychange",function(m){for(var d=m.propertyName,E=!s.hasOwnProperty(d),b=l[d],f=s[d],g=-1,v;v=u[++g];)v.nodeType===1&&(E||v[d]===f)&&(v[d]=b);s[d]=b}),l.constructor=Element,l.hasAttribute||(l.hasAttribute=function(d){return this.getAttribute(d)!==null});function p(){return h--||clearTimeout(c),document.body&&!document.body.prototype&&/(complete|interactive)/.test(document.readyState)?(i(document,!0),c&&document.body.prototype&&clearTimeout(c),!!document.body.prototype):!1}p()||(document.onreadystatechange=p,c=setInterval(p,25)),document.createElement=function(d){var E=a(String(d).toLowerCase());return i(E)},document.removeChild(n)}()}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e=function(){if(!document.documentElement.dataset)return!1;var n=document.createElement("div");return n.setAttribute("data-a-b","c"),n.dataset&&n.dataset.aB=="c"}();e||Object.defineProperty(Element.prototype,"dataset",{get:function(){for(var n=this,r=this.attributes,o={},l=0;l<r.length;l++){var s=r[l];if(s&&s.name&&/^data-\w[.\w-]*$/.test(s.name)){var i=s.name,u=s.value,a=i.substr(5).replace(/-./g,function(c){return c.charAt(1).toUpperCase()});"__defineGetter__"in Object.prototype&&"__defineSetter__"in Object.prototype?Object.defineProperty(o,a,{enumerable:!0,get:function(){return this.value}.bind({value:u||""}),set:function(h,p){typeof p<"u"?this.setAttribute(h,p):this.removeAttribute(h)}.bind(n,i)}):o[a]=u}}return o}})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="trim"in String.prototype;e||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});function ht(t){if(typeof t!="string")return t;var e=t.trim();return e==="true"?!0:e==="false"?!1:e.length>0&&isFinite(Number(e))?Number(e):t}function I(t){var e={};for(var n in t)e[n]=ht(t[n]);return e}function C(t,e){this.translations=t||{},this.locale=e&&e.locale||document.documentElement.lang||"en"}C.prototype.t=function(t,e){if(!t)throw new Error("i18n: lookup key missing");e&&typeof e.count=="number"&&(t=t+"."+this.getPluralSuffix(t,e.count));var n=this.translations[t];if(typeof n=="string")if(n.match(/%{(.\S+)}/)){if(!e)throw new Error("i18n: cannot replace placeholders in string if no option data provided");return this.replacePlaceholders(n,e)}else return n;else return t};C.prototype.replacePlaceholders=function(t,e){var n;return this.hasIntlNumberFormatSupport()&&(n=new Intl.NumberFormat(this.locale)),t.replace(/%{(.\S+)}/g,function(r,o){if(Object.prototype.hasOwnProperty.call(e,o)){var l=e[o];return l===!1||typeof l!="number"&&typeof l!="string"?"":typeof l=="number"?n?n.format(l):l.toString():l}else throw new Error("i18n: no data found to replace "+r+" placeholder in string")})};C.prototype.hasIntlPluralRulesSupport=function(){return!!(window.Intl&&"PluralRules"in window.Intl&&Intl.PluralRules.supportedLocalesOf(this.locale).length)};C.prototype.hasIntlNumberFormatSupport=function(){return!!(window.Intl&&"NumberFormat"in window.Intl&&Intl.NumberFormat.supportedLocalesOf(this.locale).length)};C.prototype.getPluralSuffix=function(t,e){if(e=Number(e),!isFinite(e))return"other";var n;if(this.hasIntlPluralRulesSupport()?n=new Intl.PluralRules(this.locale).select(e):n=this.selectPluralFormUsingFallbackRules(e),t+"."+n in this.translations)return n;if(t+".other"in this.translations)return console&&"warn"in console&&console.warn('i18n: Missing plural form ".'+n+'" for "'+this.locale+'" locale. Falling back to ".other".'),"other";throw new Error('i18n: Plural form ".other" is required for "'+this.locale+'" locale')};C.prototype.selectPluralFormUsingFallbackRules=function(t){t=Math.abs(Math.floor(t));var e=this.getPluralRulesForLocale();return e?C.pluralRules[e](t):"other"};C.prototype.getPluralRulesForLocale=function(){var t=this.locale,e=t.split("-")[0];for(var n in C.pluralRulesMap)if(Object.prototype.hasOwnProperty.call(C.pluralRulesMap,n)){for(var r=C.pluralRulesMap[n],o=0;o<r.length;o++)if(r[o]===t||r[o]===e)return n}};C.pluralRulesMap={arabic:["ar"],chinese:["my","zh","id","ja","jv","ko","ms","th","vi"],french:["hy","bn","fr","gu","hi","fa","pa","zu"],german:["af","sq","az","eu","bg","ca","da","nl","en","et","fi","ka","de","el","hu","lb","no","so","sw","sv","ta","te","tr","ur"],irish:["ga"],russian:["ru","uk"],scottish:["gd"],spanish:["pt-PT","it","es"],welsh:["cy"]};C.pluralRules={arabic:function(t){return t===0?"zero":t===1?"one":t===2?"two":t%100>=3&&t%100<=10?"few":t%100>=11&&t%100<=99?"many":"other"},chinese:function(){return"other"},french:function(t){return t===0||t===1?"one":"other"},german:function(t){return t===1?"one":"other"},irish:function(t){return t===1?"one":t===2?"two":t>=3&&t<=6?"few":t>=7&&t<=10?"many":"other"},russian:function(t){var e=t%100,n=e%10;return n===1&&e!==11?"one":n>=2&&n<=4&&!(e>=12&&e<=14)?"few":n===0||n>=5&&n<=9||e>=11&&e<=14?"many":"other"},scottish:function(t){return t===1||t===11?"one":t===2||t===12?"two":t>=3&&t<=10||t>=13&&t<=19?"few":"other"},spanish:function(t){return t===1?"one":t%1e6===0&&t!==0?"many":"other"},welsh:function(t){return t===0?"zero":t===1?"one":t===2?"two":t===3?"few":t===6?"many":"other"}};(function(t){var e="DOMTokenList"in this&&function(n){return"classList"in n?!n.classList.toggle("x",!1)&&!n.className:!0}(document.createElement("x"));e||function(n){var r="DOMTokenList"in n&&n.DOMTokenList;(!r||document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg")&&!(document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList))&&(n.DOMTokenList=function(){var o=!0,l=function(i,u,a,c){Object.defineProperty?Object.defineProperty(i,u,{configurable:o===!1?!0:!!c,get:a}):i.__defineGetter__(u,a)};try{l({},"support")}catch{o=!1}var s=function(i,u){var a=this,c=[],h={},p=0,m=0,d=function(f){l(a,f,function(){return b(),c[f]},!1)},E=function(){if(p>=m)for(;m<p;++m)d(m)},b=function(){var f,g,v=arguments,T=/\s+/;if(v.length){for(g=0;g<v.length;++g)if(T.test(v[g]))throw f=new SyntaxError('String "'+v[g]+'" contains an invalid character'),f.code=5,f.name="InvalidCharacterError",f}for(typeof i[u]=="object"?c=(""+i[u].baseVal).replace(/^\s+|\s+$/g,"").split(T):c=(""+i[u]).replace(/^\s+|\s+$/g,"").split(T),c[0]===""&&(c=[]),h={},g=0;g<c.length;++g)h[c[g]]=!0;p=c.length,E()};return b(),l(a,"length",function(){return b(),p}),a.toLocaleString=a.toString=function(){return b(),c.join(" ")},a.item=function(f){return b(),c[f]},a.contains=function(f){return b(),!!h[f]},a.add=function(){b.apply(a,f=arguments);for(var f,g,v=0,T=f.length;v<T;++v)g=f[v],h[g]||(c.push(g),h[g]=!0);p!==c.length&&(p=c.length>>>0,typeof i[u]=="object"?i[u].baseVal=c.join(" "):i[u]=c.join(" "),E())},a.remove=function(){b.apply(a,f=arguments);for(var f,g={},v=0,T=[];v<f.length;++v)g[f[v]]=!0,delete h[f[v]];for(v=0;v<c.length;++v)g[c[v]]||T.push(c[v]);c=T,p=T.length>>>0,typeof i[u]=="object"?i[u].baseVal=c.join(" "):i[u]=c.join(" "),E()},a.toggle=function(f,g){return b.apply(a,[f]),t!==g?g?(a.add(f),!0):(a.remove(f),!1):h[f]?(a.remove(f),!1):(a.add(f),!0)},a};return s}()),function(){var o=document.createElement("span");"classList"in o&&(o.classList.toggle("x",!1),o.classList.contains("x")&&(o.classList.constructor.prototype.toggle=function(s){var i=arguments[1];if(i===t){var u=!this.contains(s);return this[u?"add":"remove"](s),u}return i=!!i,this[i?"add":"remove"](s),i}))}(),function(){var o=document.createElement("span");if("classList"in o&&(o.classList.add("a","b"),!o.classList.contains("b"))){var l=o.classList.constructor.prototype.add;o.classList.constructor.prototype.add=function(){for(var s=arguments,i=arguments.length,u=0;u<i;u++)l.call(this,s[u])}}}(),function(){var o=document.createElement("span");if("classList"in o&&(o.classList.add("a"),o.classList.add("b"),o.classList.remove("a","b"),!!o.classList.contains("b"))){var l=o.classList.constructor.prototype.remove;o.classList.constructor.prototype.remove=function(){for(var s=arguments,i=arguments.length,u=0;u<i;u++)l.call(this,s[u])}}}()}(this)}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&function(){var n=document.createElement("span");return n.classList.add("a","b"),n.classList.contains("b")}();e||function(n){var r=!0,o=function(s,i,u,a){Object.defineProperty?Object.defineProperty(s,i,{configurable:r===!1?!0:!!a,get:u}):s.__defineGetter__(i,u)};try{o({},"support")}catch{r=!1}var l=function(s,i,u){o(s.prototype,i,function(){var a,c=this,h="__defineGetter__DEFINE_PROPERTY"+i;if(c[h])return a;if(c[h]=!0,r===!1){for(var p,m=l.mirror||document.createElement("div"),d=m.childNodes,E=d.length,b=0;b<E;++b)if(d[b]._R===c){p=d[b];break}p||(p=m.appendChild(document.createElement("div"))),a=DOMTokenList.call(p,c,u)}else a=new DOMTokenList(c,u);return o(c,i,function(){return a}),delete c[h],a},!0)};l(n.Element,"classList","className"),l(n.HTMLElement,"classList","className"),l(n.HTMLLinkElement,"relList","rel"),l(n.HTMLAnchorElement,"relList","rel"),l(n.HTMLAreaElement,"relList","rel")}(this)}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="document"in this&&"matches"in document.documentElement;e||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(r){for(var o=this,l=(o.document||o.ownerDocument).querySelectorAll(r),s=0;l[s]&&l[s]!==o;)++s;return!!l[s]})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="document"in this&&"closest"in document.documentElement;e||(Element.prototype.closest=function(r){for(var o=this;o;){if(o.matches(r))return o;o="SVGElement"in window&&o instanceof SVGElement?o.parentNode:o.parentElement}return null})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="Window"in this;e||typeof WorkerGlobalScope>"u"&&typeof importScripts!="function"&&function(n){n.constructor?n.Window=n.constructor:(n.Window=n.constructor=new Function("return function Window() {}")()).prototype=this}(this)}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e=function(n){if(!("Event"in n))return!1;if(typeof n.Event=="function")return!0;try{return new Event("click"),!0}catch{return!1}}(this);e||function(){var n={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if(typeof document>"u"||typeof window>"u")return;function r(l,s){for(var i=-1,u=l.length;++i<u;)if(i in l&&l[i]===s)return i;return-1}var o=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(s,i){if(!s)throw new Error("Not enough arguments");var u;if("createEvent"in document){u=document.createEvent("Event");var a=i&&i.bubbles!==t?i.bubbles:!1,c=i&&i.cancelable!==t?i.cancelable:!1;return u.initEvent(s,a,c),u}return u=document.createEventObject(),u.type=s,u.bubbles=i&&i.bubbles!==t?i.bubbles:!1,u.cancelable=i&&i.cancelable!==t?i.cancelable:!1,u},o&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:o}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var s=this,i=arguments[0],u=arguments[1];if(s===window&&i in n)throw new Error("In IE8 the event: "+i+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");s._events||(s._events={}),s._events[i]||(s._events[i]=function(a){var c=s._events[a.type].list,h=c.slice(),p=-1,m=h.length,d;for(a.preventDefault=function(){a.cancelable!==!1&&(a.returnValue=!1)},a.stopPropagation=function(){a.cancelBubble=!0},a.stopImmediatePropagation=function(){a.cancelBubble=!0,a.cancelImmediate=!0},a.currentTarget=s,a.relatedTarget=a.fromElement||null,a.target=a.target||a.srcElement||s,a.timeStamp=new Date().getTime(),a.clientX&&(a.pageX=a.clientX+document.documentElement.scrollLeft,a.pageY=a.clientY+document.documentElement.scrollTop);++p<m&&!a.cancelImmediate;)p in h&&(d=h[p],r(c,d)!==-1&&typeof d=="function"&&d.call(s,a))},s._events[i].list=[],s.attachEvent&&s.attachEvent("on"+i,s._events[i])),s._events[i].list.push(u)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var s=this,i=arguments[0],u=arguments[1],a;s._events&&s._events[i]&&s._events[i].list&&(a=r(s._events[i].list,u),a!==-1&&(s._events[i].list.splice(a,1),s._events[i].list.length||(s.detachEvent&&s.detachEvent("on"+i,s._events[i]),delete s._events[i])))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(s){if(!arguments.length)throw new Error("Not enough arguments");if(!s||typeof s.type!="string")throw new Error("DOM Events Exception 0");var i=this,u=s.type;try{if(!s.bubbles){s.cancelBubble=!0;var a=function(c){c.cancelBubble=!0,(i||window).detachEvent("on"+u,a)};this.attachEvent("on"+u,a)}this.fireEvent("on"+u,s)}catch{s.target=i;do s.currentTarget=i,"_events"in i&&typeof i._events[u]=="function"&&i._events[u].call(i,s),typeof i["on"+u]=="function"&&i["on"+u].call(i,s),i=i.nodeType===9?i.parentWindow:i.parentNode;while(i&&!s.cancelBubble)}return!0},document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}()}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="bind"in Function.prototype;e||Object.defineProperty(Function.prototype,"bind",{value:function(r){var o=Array,l=Object,s=l.prototype,i=o.prototype,u=function(){},a=s.toString,c=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",h,p=Function.prototype.toString,m=function(H){try{return p.call(H),!0}catch{return!1}},d="[object Function]",E="[object GeneratorFunction]";h=function(H){if(typeof H!="function")return!1;if(c)return m(H);var R=a.call(H);return R===d||R===E};var b=i.slice,f=i.concat,g=i.push,v=Math.max,T=this;if(!h(T))throw new TypeError("Function.prototype.bind called on incompatible "+T);for(var N=b.call(arguments,1),P,z=function(){if(this instanceof P){var _=T.apply(this,f.call(N,b.call(arguments)));return l(_)===_?_:this}else return T.apply(r,f.call(N,b.call(arguments)))},X=v(0,T.length-N.length),K=[],D=0;D<X;D++)g.call(K,"$"+D);return P=Function("binder","return function ("+K.join(",")+"){ return binder.apply(this, arguments); }")(z),T.prototype&&(u.prototype=T.prototype,P.prototype=new u,u.prototype=null),P}})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});var ft={hideAllSections:"Hide all sections",hideSection:"Hide",hideSectionAriaLabel:"Hide this section",showAllSections:"Show all sections",showSection:"Show",showSectionAriaLabel:"Show this section"};function S(t,e){if(!(t instanceof HTMLElement))return this;this.$module=t;var n={i18n:ft,rememberExpanded:!0};this.config=$(n,e||{},I(t.dataset)),this.i18n=new C(U(this.config,"i18n")),this.controlsClass="govuk-accordion__controls",this.showAllClass="govuk-accordion__show-all",this.showAllTextClass="govuk-accordion__show-all-text",this.sectionClass="govuk-accordion__section",this.sectionExpandedClass="govuk-accordion__section--expanded",this.sectionButtonClass="govuk-accordion__section-button",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionHeadingDividerClass="govuk-accordion__section-heading-divider",this.sectionHeadingTextClass="govuk-accordion__section-heading-text",this.sectionHeadingTextFocusClass="govuk-accordion__section-heading-text-focus",this.sectionShowHideToggleClass="govuk-accordion__section-toggle",this.sectionShowHideToggleFocusClass="govuk-accordion__section-toggle-focus",this.sectionShowHideTextClass="govuk-accordion__section-toggle-text",this.upChevronIconClass="govuk-accordion-nav__chevron",this.downChevronIconClass="govuk-accordion-nav__chevron--down",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionSummaryFocusClass="govuk-accordion__section-summary-focus",this.sectionContentClass="govuk-accordion__section-content";var r=this.$module.querySelectorAll("."+this.sectionClass);if(!r.length)return this;this.$sections=r,this.browserSupportsSessionStorage=pt.checkForSessionStorage(),this.$showAllButton=null,this.$showAllIcon=null,this.$showAllText=null}S.prototype.init=function(){if(!(!this.$module||!this.$sections)){this.initControls(),this.initSectionHeaders();var t=this.checkIfAllSectionsOpen();this.updateShowAllButton(t)}};S.prototype.initControls=function(){this.$showAllButton=document.createElement("button"),this.$showAllButton.setAttribute("type","button"),this.$showAllButton.setAttribute("class",this.showAllClass),this.$showAllButton.setAttribute("aria-expanded","false"),this.$showAllIcon=document.createElement("span"),this.$showAllIcon.classList.add(this.upChevronIconClass),this.$showAllButton.appendChild(this.$showAllIcon);var t=document.createElement("div");t.setAttribute("class",this.controlsClass),t.appendChild(this.$showAllButton),this.$module.insertBefore(t,this.$module.firstChild),this.$showAllText=document.createElement("span"),this.$showAllText.classList.add(this.showAllTextClass),this.$showAllButton.appendChild(this.$showAllText),this.$showAllButton.addEventListener("click",this.onShowOrHideAllToggle.bind(this)),"onbeforematch"in document&&document.addEventListener("beforematch",this.onBeforeMatch.bind(this))};S.prototype.initSectionHeaders=function(){var t=this,e=this.$sections;w(e,function(n,r){var o=n.querySelector("."+t.sectionHeaderClass);o&&(t.constructHeaderMarkup(o,r),t.setExpanded(t.isExpanded(n),n),o.addEventListener("click",t.onSectionToggle.bind(t,n)),t.setInitialState(n))})};S.prototype.constructHeaderMarkup=function(t,e){var n=t.querySelector("."+this.sectionButtonClass),r=t.querySelector("."+this.sectionHeadingClass),o=t.querySelector("."+this.sectionSummaryClass);if(!(!n||!r)){var l=document.createElement("button");l.setAttribute("type","button"),l.setAttribute("aria-controls",this.$module.id+"-content-"+(e+1).toString());for(var s=0;s<n.attributes.length;s++){var i=n.attributes.item(s);i.nodeName!=="id"&&l.setAttribute(i.nodeName,i.nodeValue)}var u=document.createElement("span");u.classList.add(this.sectionHeadingTextClass),u.id=n.id;var a=document.createElement("span");a.classList.add(this.sectionHeadingTextFocusClass),u.appendChild(a),a.innerHTML=n.innerHTML;var c=document.createElement("span");c.classList.add(this.sectionShowHideToggleClass),c.setAttribute("data-nosnippet","");var h=document.createElement("span");h.classList.add(this.sectionShowHideToggleFocusClass),c.appendChild(h);var p=document.createElement("span"),m=document.createElement("span");if(m.classList.add(this.upChevronIconClass),h.appendChild(m),p.classList.add(this.sectionShowHideTextClass),h.appendChild(p),l.appendChild(u),l.appendChild(this.getButtonPunctuationEl()),o){var d=document.createElement("span"),E=document.createElement("span");E.classList.add(this.sectionSummaryFocusClass),d.appendChild(E);for(var b=0,f=o.attributes.length;b<f;++b){var g=o.attributes.item(b).nodeName,v=o.attributes.item(b).nodeValue;d.setAttribute(g,v)}E.innerHTML=o.innerHTML,o.parentNode.replaceChild(d,o),l.appendChild(d),l.appendChild(this.getButtonPunctuationEl())}l.appendChild(c),r.removeChild(n),r.appendChild(l)}};S.prototype.onBeforeMatch=function(t){var e=t.target;if(e instanceof Element){var n=e.closest("."+this.sectionClass);n&&this.setExpanded(!0,n)}};S.prototype.onSectionToggle=function(t){var e=this.isExpanded(t);this.setExpanded(!e,t),this.storeState(t)};S.prototype.onShowOrHideAllToggle=function(){var t=this,e=this.$sections,n=!this.checkIfAllSectionsOpen();w(e,function(r){t.setExpanded(n,r),t.storeState(r)}),t.updateShowAllButton(n)};S.prototype.setExpanded=function(t,e){var n=e.querySelector("."+this.upChevronIconClass),r=e.querySelector("."+this.sectionShowHideTextClass),o=e.querySelector("."+this.sectionButtonClass),l=e.querySelector("."+this.sectionContentClass);if(!(!n||!(r instanceof HTMLElement)||!o||!l)){var s=t?this.i18n.t("hideSection"):this.i18n.t("showSection");r.innerText=s,o.setAttribute("aria-expanded",t.toString());var i=[],u=e.querySelector("."+this.sectionHeadingTextClass);u instanceof HTMLElement&&i.push(u.innerText.trim());var a=e.querySelector("."+this.sectionSummaryClass);a instanceof HTMLElement&&i.push(a.innerText.trim());var c=t?this.i18n.t("hideSectionAriaLabel"):this.i18n.t("showSectionAriaLabel");i.push(c),o.setAttribute("aria-label",i.join(" , ")),t?(l.removeAttribute("hidden"),e.classList.add(this.sectionExpandedClass),n.classList.remove(this.downChevronIconClass)):(l.setAttribute("hidden","until-found"),e.classList.remove(this.sectionExpandedClass),n.classList.add(this.downChevronIconClass));var h=this.checkIfAllSectionsOpen();this.updateShowAllButton(h)}};S.prototype.isExpanded=function(t){return t.classList.contains(this.sectionExpandedClass)};S.prototype.checkIfAllSectionsOpen=function(){var t=this.$sections.length,e=this.$module.querySelectorAll("."+this.sectionExpandedClass).length,n=t===e;return n};S.prototype.updateShowAllButton=function(t){var e=t?this.i18n.t("hideAllSections"):this.i18n.t("showAllSections");this.$showAllButton.setAttribute("aria-expanded",t.toString()),this.$showAllText.innerText=e,t?this.$showAllIcon.classList.remove(this.downChevronIconClass):this.$showAllIcon.classList.add(this.downChevronIconClass)};var pt={checkForSessionStorage:function(){var t="this is the test string",e;try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch{return!1}}};S.prototype.storeState=function(t){if(this.browserSupportsSessionStorage&&this.config.rememberExpanded){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),r=e.getAttribute("aria-expanded");n&&r&&window.sessionStorage.setItem(n,r)}}};S.prototype.setInitialState=function(t){if(this.browserSupportsSessionStorage&&this.config.rememberExpanded){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),r=n?window.sessionStorage.getItem(n):null;r!==null&&this.setExpanded(r==="true",t)}}};S.prototype.getButtonPunctuationEl=function(){var t=document.createElement("span");return t.classList.add("govuk-visually-hidden",this.sectionHeadingDividerClass),t.innerHTML=", ",t};var mt=32,vt=1;function B(t,e){if(!(t instanceof HTMLElement))return this;this.$module=t,this.debounceFormSubmitTimer=null;var n={preventDoubleClick:!1};this.config=$(n,e||{},I(t.dataset))}B.prototype.init=function(){this.$module&&(this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce.bind(this)))};B.prototype.handleKeyDown=function(t){var e=t.target;t.keyCode===mt&&e instanceof HTMLElement&&e.getAttribute("role")==="button"&&(t.preventDefault(),e.click())};B.prototype.debounce=function(t){if(this.config.preventDoubleClick){if(this.debounceFormSubmitTimer)return t.preventDefault(),!1;this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),vt*1e3)}};function gt(t,e){var n=t.closest("["+e+"]");return n?n.getAttribute(e):null}(function(t){var e="Date"in self&&"now"in self.Date&&"getTime"in self.Date.prototype;e||(Date.now=function(){return new Date().getTime()})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});var bt={charactersUnderLimit:{one:"You have %{count} character remaining",other:"You have %{count} characters remaining"},charactersAtLimit:"You have 0 characters remaining",charactersOverLimit:{one:"You have %{count} character too many",other:"You have %{count} characters too many"},wordsUnderLimit:{one:"You have %{count} word remaining",other:"You have %{count} words remaining"},wordsAtLimit:"You have 0 words remaining",wordsOverLimit:{one:"You have %{count} word too many",other:"You have %{count} words too many"},textareaDescription:{other:""}};function L(t,e){if(!(t instanceof HTMLElement))return this;var n=t.querySelector(".govuk-js-character-count");if(!(n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement))return this;var r={threshold:0,i18n:bt},o=I(t.dataset),l={};if(("maxwords"in o||"maxlength"in o)&&(l={maxlength:!1,maxwords:!1}),this.config=$(r,e||{},l,o),this.i18n=new C(U(this.config,"i18n"),{locale:gt(t,"lang")}),this.maxLength=1/0,"maxwords"in this.config&&this.config.maxwords)this.maxLength=this.config.maxwords;else if("maxlength"in this.config&&this.config.maxlength)this.maxLength=this.config.maxlength;else return;this.$module=t,this.$textarea=n,this.$visibleCountMessage=null,this.$screenReaderCountMessage=null,this.lastInputTimestamp=null,this.lastInputValue="",this.valueChecker=null}L.prototype.init=function(){if(!(!this.$module||!this.$textarea)){var t=this.$textarea,e=document.getElementById(t.id+"-info");if(e){e.innerText.match(/^\s*$/)&&(e.innerText=this.i18n.t("textareaDescription",{count:this.maxLength})),t.insertAdjacentElement("afterend",e);var n=document.createElement("div");n.className="govuk-character-count__sr-status govuk-visually-hidden",n.setAttribute("aria-live","polite"),this.$screenReaderCountMessage=n,e.insertAdjacentElement("afterend",n);var r=document.createElement("div");r.className=e.className,r.classList.add("govuk-character-count__status"),r.setAttribute("aria-hidden","true"),this.$visibleCountMessage=r,e.insertAdjacentElement("afterend",r),e.classList.add("govuk-visually-hidden"),t.removeAttribute("maxlength"),this.bindChangeEvents(),window.addEventListener("onpageshow"in window?"pageshow":"DOMContentLoaded",this.updateCountMessage.bind(this)),this.updateCountMessage()}}};L.prototype.bindChangeEvents=function(){var t=this.$textarea;t.addEventListener("keyup",this.handleKeyUp.bind(this)),t.addEventListener("focus",this.handleFocus.bind(this)),t.addEventListener("blur",this.handleBlur.bind(this))};L.prototype.handleKeyUp=function(){this.updateVisibleCountMessage(),this.lastInputTimestamp=Date.now()};L.prototype.handleFocus=function(){this.valueChecker=setInterval(function(){(!this.lastInputTimestamp||Date.now()-500>=this.lastInputTimestamp)&&this.updateIfValueChanged()}.bind(this),1e3)};L.prototype.handleBlur=function(){clearInterval(this.valueChecker)};L.prototype.updateIfValueChanged=function(){this.$textarea.value!==this.lastInputValue&&(this.lastInputValue=this.$textarea.value,this.updateCountMessage())};L.prototype.updateCountMessage=function(){this.updateVisibleCountMessage(),this.updateScreenReaderCountMessage()};L.prototype.updateVisibleCountMessage=function(){var t=this.$textarea,e=this.$visibleCountMessage,n=this.maxLength-this.count(t.value);this.isOverThreshold()?e.classList.remove("govuk-character-count__message--disabled"):e.classList.add("govuk-character-count__message--disabled"),n<0?(t.classList.add("govuk-textarea--error"),e.classList.remove("govuk-hint"),e.classList.add("govuk-error-message")):(t.classList.remove("govuk-textarea--error"),e.classList.remove("govuk-error-message"),e.classList.add("govuk-hint")),e.innerText=this.getCountMessage()};L.prototype.updateScreenReaderCountMessage=function(){var t=this.$screenReaderCountMessage;this.isOverThreshold()?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden","true"),t.innerText=this.getCountMessage()};L.prototype.count=function(t){if("maxwords"in this.config&&this.config.maxwords){var e=t.match(/\S+/g)||[];return e.length}else return t.length};L.prototype.getCountMessage=function(){var t=this.maxLength-this.count(this.$textarea.value),e="maxwords"in this.config&&this.config.maxwords?"words":"characters";return this.formatCountMessage(t,e)};L.prototype.formatCountMessage=function(t,e){if(t===0)return this.i18n.t(e+"AtLimit");var n=t<0?"OverLimit":"UnderLimit";return this.i18n.t(e+n,{count:Math.abs(t)})};L.prototype.isOverThreshold=function(){if(!this.config.threshold)return!0;var t=this.$textarea,e=this.count(t.value),n=this.maxLength,r=n*this.config.threshold/100;return r<=e};function A(t){if(!(t instanceof HTMLElement))return this;var e=t.querySelectorAll('input[type="checkbox"]');if(!e.length)return this;this.$module=t,this.$inputs=e}A.prototype.init=function(){if(!(!this.$module||!this.$inputs)){var t=this.$module,e=this.$inputs;w(e,function(n){var r=n.getAttribute("data-aria-controls");!r||!document.getElementById(r)||(n.setAttribute("aria-controls",r),n.removeAttribute("data-aria-controls"))}),window.addEventListener("onpageshow"in window?"pageshow":"DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),t.addEventListener("click",this.handleClick.bind(this))}};A.prototype.syncAllConditionalReveals=function(){w(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))};A.prototype.syncConditionalRevealWithInputState=function(t){var e=t.getAttribute("aria-controls");if(e){var n=document.getElementById(e);if(n&&n.classList.contains("govuk-checkboxes__conditional")){var r=t.checked;t.setAttribute("aria-expanded",r.toString()),n.classList.toggle("govuk-checkboxes__conditional--hidden",!r)}}};A.prototype.unCheckAllInputsExcept=function(t){var e=this,n=document.querySelectorAll('input[type="checkbox"][name="'+t.name+'"]');w(n,function(r){var o=t.form===r.form;o&&r!==t&&(r.checked=!1,e.syncConditionalRevealWithInputState(r))})};A.prototype.unCheckExclusiveInputs=function(t){var e=this,n=document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+t.name+'"]');w(n,function(r){var o=t.form===r.form;o&&(r.checked=!1,e.syncConditionalRevealWithInputState(r))})};A.prototype.handleClick=function(t){var e=t.target;if(!(!(e instanceof HTMLInputElement)||e.type!=="checkbox")){var n=e.getAttribute("aria-controls");if(n&&this.syncConditionalRevealWithInputState(e),!!e.checked){var r=e.getAttribute("data-behaviour")==="exclusive";r?this.unCheckAllInputsExcept(e):this.unCheckExclusiveInputs(e)}}};var yt=13,Y=32;function O(t){if(!(t instanceof HTMLElement))return this;this.$module=t,this.$summary=null,this.$content=null}O.prototype.init=function(){if(this.$module){var t="HTMLDetailsElement"in window&&this.$module instanceof HTMLDetailsElement;t||this.polyfillDetails()}};O.prototype.polyfillDetails=function(){var t=this.$module,e=this.$summary=t.getElementsByTagName("summary").item(0),n=this.$content=t.getElementsByTagName("div").item(0);!e||!n||(n.id||(n.id="details-content-"+dt()),t.setAttribute("role","group"),e.setAttribute("role","button"),e.setAttribute("aria-controls",n.id),e.tabIndex=0,this.$module.hasAttribute("open")?e.setAttribute("aria-expanded","true"):(e.setAttribute("aria-expanded","false"),n.style.display="none"),this.polyfillHandleInputs(this.polyfillSetAttributes.bind(this)))};O.prototype.polyfillSetAttributes=function(){return this.$module.hasAttribute("open")?(this.$module.removeAttribute("open"),this.$summary.setAttribute("aria-expanded","false"),this.$content.style.display="none"):(this.$module.setAttribute("open","open"),this.$summary.setAttribute("aria-expanded","true"),this.$content.style.display=""),!0};O.prototype.polyfillHandleInputs=function(t){this.$summary.addEventListener("keypress",function(e){var n=e.target;(e.keyCode===yt||e.keyCode===Y)&&n instanceof HTMLElement&&n.nodeName.toLowerCase()==="summary"&&(e.preventDefault(),n.click?n.click():t(e))}),this.$summary.addEventListener("keyup",function(e){var n=e.target;e.keyCode===Y&&n instanceof HTMLElement&&n.nodeName.toLowerCase()==="summary"&&e.preventDefault()}),this.$summary.addEventListener("click",t)};function x(t,e){if(!(t instanceof HTMLElement))return this;this.$module=t;var n={disableAutoFocus:!1};this.config=$(n,e||{},I(t.dataset))}x.prototype.init=function(){if(this.$module){var t=this.$module;this.setFocus(),t.addEventListener("click",this.handleClick.bind(this))}};x.prototype.setFocus=function(){var t=this.$module;this.config.disableAutoFocus||(t.setAttribute("tabindex","-1"),t.addEventListener("blur",function(){t.removeAttribute("tabindex")}),t.focus())};x.prototype.handleClick=function(t){var e=t.target;this.focusTarget(e)&&t.preventDefault()};x.prototype.focusTarget=function(t){if(!(t instanceof HTMLAnchorElement))return!1;var e=this.getFragmentFromUrl(t.href);if(!e)return!1;var n=document.getElementById(e);if(!n)return!1;var r=this.getAssociatedLegendOrLabel(n);return r?(r.scrollIntoView(),n.focus({preventScroll:!0}),!0):!1};x.prototype.getFragmentFromUrl=function(t){if(t.indexOf("#")!==-1)return t.split("#").pop()};x.prototype.getAssociatedLegendOrLabel=function(t){var e=t.closest("fieldset");if(e){var n=e.getElementsByTagName("legend");if(n.length){var r=n[0];if(t instanceof HTMLInputElement&&(t.type==="checkbox"||t.type==="radio"))return r;var o=r.getBoundingClientRect().top,l=t.getBoundingClientRect();if(l.height&&window.innerHeight){var s=l.top+l.height;if(s-o<window.innerHeight/2)return r}}}return document.querySelector("label[for='"+t.getAttribute("id")+"']")||t.closest("label")};var wt={activated:"Loading.",timedOut:"Exit this page expired.",pressTwoMoreTimes:"Shift, press 2 more times to exit.",pressOneMoreTime:"Shift, press 1 more time to exit."};function k(t,e){var n={i18n:wt};if(!(t instanceof HTMLElement))return this;var r=t.querySelector(".govuk-exit-this-page__button");if(!(r instanceof HTMLElement))return this;this.config=$(n,e||{},I(t.dataset)),this.i18n=new C(U(this.config,"i18n")),this.$module=t,this.$button=r,this.$skiplinkButton=document.querySelector(".govuk-js-exit-this-page-skiplink"),this.$updateSpan=null,this.$indicatorContainer=null,this.$overlay=null,this.keypressCounter=0,this.lastKeyWasModified=!1,this.timeoutTime=5e3,this.keypressTimeoutId=null,this.timeoutMessageId=null}k.prototype.initUpdateSpan=function(){this.$updateSpan=document.createElement("span"),this.$updateSpan.setAttribute("role","status"),this.$updateSpan.className="govuk-visually-hidden",this.$module.appendChild(this.$updateSpan)};k.prototype.initButtonClickHandler=function(){this.$button.addEventListener("click",this.handleClick.bind(this)),this.$skiplinkButton&&this.$skiplinkButton.addEventListener("click",this.handleClick.bind(this))};k.prototype.buildIndicator=function(){this.$indicatorContainer=document.createElement("div"),this.$indicatorContainer.className="govuk-exit-this-page__indicator",this.$indicatorContainer.setAttribute("aria-hidden","true");for(var t=0;t<3;t++){var e=document.createElement("div");e.className="govuk-exit-this-page__indicator-light",this.$indicatorContainer.appendChild(e)}this.$button.appendChild(this.$indicatorContainer)};k.prototype.updateIndicator=function(){this.keypressCounter>0?this.$indicatorContainer.classList.add("govuk-exit-this-page__indicator--visible"):this.$indicatorContainer.classList.remove("govuk-exit-this-page__indicator--visible");var t=this.$indicatorContainer.querySelectorAll(".govuk-exit-this-page__indicator-light");w(t,function(e,n){e.classList.toggle("govuk-exit-this-page__indicator-light--on",n<this.keypressCounter)}.bind(this))};k.prototype.exitPage=function(){this.$updateSpan.innerText="",document.body.classList.add("govuk-exit-this-page-hide-content"),this.$overlay=document.createElement("div"),this.$overlay.className="govuk-exit-this-page-overlay",this.$overlay.setAttribute("role","alert"),document.body.appendChild(this.$overlay),this.$overlay.innerText=this.i18n.t("activated"),window.location.href=this.$button.getAttribute("href")};k.prototype.handleClick=function(t){t.preventDefault(),this.exitPage()};k.prototype.handleKeypress=function(t){(t.key==="Shift"||t.keyCode===16||t.which===16)&&!this.lastKeyWasModified?(this.keypressCounter+=1,this.updateIndicator(),this.timeoutMessageId!==null&&(clearTimeout(this.timeoutMessageId),this.timeoutMessageId=null),this.keypressCounter>=3?(this.keypressCounter=0,this.keypressTimeoutId!==null&&(clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=null),this.exitPage()):this.keypressCounter===1?this.$updateSpan.innerText=this.i18n.t("pressTwoMoreTimes"):this.$updateSpan.innerText=this.i18n.t("pressOneMoreTime"),this.setKeypressTimer()):this.keypressTimeoutId!==null&&this.resetKeypressTimer(),this.lastKeyWasModified=t.shiftKey};k.prototype.setKeypressTimer=function(){clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=setTimeout(this.resetKeypressTimer.bind(this),this.timeoutTime)};k.prototype.resetKeypressTimer=function(){clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=null,this.keypressCounter=0,this.$updateSpan.innerText=this.i18n.t("timedOut"),this.timeoutMessageId=setTimeout(function(){this.$updateSpan.innerText=""}.bind(this),this.timeoutTime),this.updateIndicator()};k.prototype.resetPage=function(){document.body.classList.remove("govuk-exit-this-page-hide-content"),this.$overlay&&(this.$overlay.remove(),this.$overlay=null),this.$updateSpan.setAttribute("role","status"),this.$updateSpan.innerText="",this.updateIndicator(),this.keypressTimeoutId&&clearTimeout(this.keypressTimeoutId),this.timeoutMessageId&&clearTimeout(this.timeoutMessageId)};k.prototype.init=function(){this.buildIndicator(),this.initUpdateSpan(),this.initButtonClickHandler(),"govukFrontendExitThisPageKeypress"in document.body.dataset||(document.addEventListener("keyup",this.handleKeypress.bind(this),!0),document.body.dataset.govukFrontendExitThisPageKeypress="true"),window.addEventListener("onpageshow"in window?"pageshow":"DOMContentLoaded",this.resetPage.bind(this))};function q(t){if(!(t instanceof HTMLElement))return this;this.$module=t,this.$menuButton=t.querySelector(".govuk-js-header-toggle"),this.$menu=this.$menuButton&&t.querySelector("#"+this.$menuButton.getAttribute("aria-controls")),this.menuIsOpen=!1,this.mql=null}q.prototype.init=function(){!this.$module||!this.$menuButton||!this.$menu||("matchMedia"in window?(this.mql=window.matchMedia("(min-width: 48.0625em)"),"addEventListener"in this.mql?this.mql.addEventListener("change",this.syncState.bind(this)):this.mql.addListener(this.syncState.bind(this)),this.syncState(),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this))):this.$menuButton.setAttribute("hidden",""))};q.prototype.syncState=function(){this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden",""))};q.prototype.handleMenuButtonClick=function(){this.menuIsOpen=!this.menuIsOpen,this.syncState()};function V(t,e){if(!(t instanceof HTMLElement))return this;this.$module=t;var n={disableAutoFocus:!1};this.config=$(n,e||{},I(t.dataset))}V.prototype.init=function(){this.$module&&this.setFocus()};V.prototype.setFocus=function(){var t=this.$module;this.config.disableAutoFocus||t.getAttribute("role")==="alert"&&(t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.addEventListener("blur",function(){t.removeAttribute("tabindex")})),t.focus())};function j(t){if(!(t instanceof HTMLElement))return this;var e=t.querySelectorAll('input[type="radio"]');if(!e.length)return this;this.$module=t,this.$inputs=e}j.prototype.init=function(){if(!(!this.$module||!this.$inputs)){var t=this.$module,e=this.$inputs;w(e,function(n){var r=n.getAttribute("data-aria-controls");!r||!document.getElementById(r)||(n.setAttribute("aria-controls",r),n.removeAttribute("data-aria-controls"))}),window.addEventListener("onpageshow"in window?"pageshow":"DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),t.addEventListener("click",this.handleClick.bind(this))}};j.prototype.syncAllConditionalReveals=function(){w(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))};j.prototype.syncConditionalRevealWithInputState=function(t){var e=t.getAttribute("aria-controls");if(e){var n=document.getElementById(e);if(n&&n.classList.contains("govuk-radios__conditional")){var r=t.checked;t.setAttribute("aria-expanded",r.toString()),n.classList.toggle("govuk-radios__conditional--hidden",!r)}}};j.prototype.handleClick=function(t){var e=this,n=t.target;if(!(!(n instanceof HTMLInputElement)||n.type!=="radio")){var r=document.querySelectorAll('input[type="radio"][aria-controls]'),o=n.form,l=n.name;w(r,function(s){var i=s.form===o,u=s.name===l;u&&i&&e.syncConditionalRevealWithInputState(s)})}};function M(t){if(!(t instanceof HTMLAnchorElement))return this;this.$module=t,this.$linkedElement=null,this.linkedElementListener=!1}M.prototype.init=function(){if(this.$module){var t=this.getLinkedElement();t&&(this.$linkedElement=t,this.$module.addEventListener("click",this.focusLinkedElement.bind(this)))}};M.prototype.getLinkedElement=function(){var t=this.getFragmentFromUrl();return t?document.getElementById(t):null};M.prototype.focusLinkedElement=function(){var t=this.$linkedElement;t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.classList.add("govuk-skip-link-focused-element"),this.linkedElementListener||(this.$linkedElement.addEventListener("blur",this.removeFocusProperties.bind(this)),this.linkedElementListener=!0)),t.focus()};M.prototype.removeFocusProperties=function(){this.$linkedElement.removeAttribute("tabindex"),this.$linkedElement.classList.remove("govuk-skip-link-focused-element")};M.prototype.getFragmentFromUrl=function(){if(this.$module.hash)return this.$module.hash.split("#").pop()};(function(t){var e="document"in this&&"nextElementSibling"in document.documentElement;e||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var n=this.nextSibling;n&&n.nodeType!==1;)n=n.nextSibling;return n}})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});(function(t){var e="document"in this&&"previousElementSibling"in document.documentElement;e||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var n=this.previousSibling;n&&n.nodeType!==1;)n=n.previousSibling;return n}})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});function y(t){if(!(t instanceof HTMLElement))return this;var e=t.querySelectorAll("a.govuk-tabs__tab");if(!e.length)return this;this.$module=t,this.$tabs=e,this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden",this.boundTabClick=this.onTabClick.bind(this),this.boundTabKeydown=this.onTabKeydown.bind(this),this.boundOnHashChange=this.onHashChange.bind(this),this.changingHash=!1}y.prototype.init=function(){!this.$module||!this.$tabs||(typeof window.matchMedia=="function"?this.setupResponsiveChecks():this.setup())};y.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()};y.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()};y.prototype.setup=function(){var t=this,e=this.$module,n=this.$tabs,r=e.querySelector(".govuk-tabs__list"),o=e.querySelectorAll(".govuk-tabs__list-item");if(!(!n||!r||!o)){r.setAttribute("role","tablist"),w(o,function(s){s.setAttribute("role","presentation")}),w(n,function(s){t.setAttributes(s),s.addEventListener("click",t.boundTabClick,!0),s.addEventListener("keydown",t.boundTabKeydown,!0),t.hideTab(s)});var l=this.getTab(window.location.hash)||this.$tabs[0];l&&(this.showTab(l),window.addEventListener("hashchange",this.boundOnHashChange,!0))}};y.prototype.teardown=function(){var t=this,e=this.$module,n=this.$tabs,r=e.querySelector(".govuk-tabs__list"),o=e.querySelectorAll("a.govuk-tabs__list-item");!n||!r||!o||(r.removeAttribute("role"),w(o,function(l){l.removeAttribute("role")}),w(n,function(l){l.removeEventListener("click",t.boundTabClick,!0),l.removeEventListener("keydown",t.boundTabKeydown,!0),t.unsetAttributes(l)}),window.removeEventListener("hashchange",this.boundOnHashChange,!0))};y.prototype.onHashChange=function(){var t=window.location.hash,e=this.getTab(t);if(e){if(this.changingHash){this.changingHash=!1;return}var n=this.getCurrentTab();n&&(this.hideTab(n),this.showTab(e),e.focus())}};y.prototype.hideTab=function(t){this.unhighlightTab(t),this.hidePanel(t)};y.prototype.showTab=function(t){this.highlightTab(t),this.showPanel(t)};y.prototype.getTab=function(t){return this.$module.querySelector('a.govuk-tabs__tab[href="'+t+'"]')};y.prototype.setAttributes=function(t){var e=this.getHref(t).slice(1);t.setAttribute("id","tab_"+e),t.setAttribute("role","tab"),t.setAttribute("aria-controls",e),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");var n=this.getPanel(t);n&&(n.setAttribute("role","tabpanel"),n.setAttribute("aria-labelledby",t.id),n.classList.add(this.jsHiddenClass))};y.prototype.unsetAttributes=function(t){t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex");var e=this.getPanel(t);e&&(e.removeAttribute("role"),e.removeAttribute("aria-labelledby"),e.classList.remove(this.jsHiddenClass))};y.prototype.onTabClick=function(t){var e=this.getCurrentTab(),n=t.currentTarget;!e||!(n instanceof HTMLAnchorElement)||(t.preventDefault(),this.hideTab(e),this.showTab(n),this.createHistoryEntry(n))};y.prototype.createHistoryEntry=function(t){var e=this.getPanel(t);if(e){var n=e.id;e.id="",this.changingHash=!0,window.location.hash=this.getHref(t).slice(1),e.id=n}};y.prototype.onTabKeydown=function(t){switch(t.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),t.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),t.preventDefault();break}};y.prototype.activateNextTab=function(){var t=this.getCurrentTab();if(!(!t||!t.parentElement)){var e=t.parentElement.nextElementSibling;if(e){var n=e.querySelector("a.govuk-tabs__tab");n&&(this.hideTab(t),this.showTab(n),n.focus(),this.createHistoryEntry(n))}}};y.prototype.activatePreviousTab=function(){var t=this.getCurrentTab();if(!(!t||!t.parentElement)){var e=t.parentElement.previousElementSibling;if(e){var n=e.querySelector("a.govuk-tabs__tab");n&&(this.hideTab(t),this.showTab(n),n.focus(),this.createHistoryEntry(n))}}};y.prototype.getPanel=function(t){return this.$module.querySelector(this.getHref(t))};y.prototype.showPanel=function(t){var e=this.getPanel(t);e&&e.classList.remove(this.jsHiddenClass)};y.prototype.hidePanel=function(t){var e=this.getPanel(t);e&&e.classList.add(this.jsHiddenClass)};y.prototype.unhighlightTab=function(t){t.parentElement&&(t.setAttribute("aria-selected","false"),t.parentElement.classList.remove("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","-1"))};y.prototype.highlightTab=function(t){t.parentElement&&(t.setAttribute("aria-selected","true"),t.parentElement.classList.add("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","0"))};y.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected a.govuk-tabs__tab")};y.prototype.getHref=function(t){var e=t.getAttribute("href"),n=e.slice(e.indexOf("#"),e.length);return n};function St(t){t=typeof t<"u"?t:{};var e=t.scope instanceof HTMLElement?t.scope:document,n=e.querySelectorAll('[data-module="govuk-accordion"]');w(n,function(d){new S(d,t.accordion).init()});var r=e.querySelectorAll('[data-module="govuk-button"]');w(r,function(d){new B(d,t.button).init()});var o=e.querySelectorAll('[data-module="govuk-character-count"]');w(o,function(d){new L(d,t.characterCount).init()});var l=e.querySelectorAll('[data-module="govuk-checkboxes"]');w(l,function(d){new A(d).init()});var s=e.querySelectorAll('[data-module="govuk-details"]');w(s,function(d){new O(d).init()});var i=e.querySelector('[data-module="govuk-error-summary"]');i&&new x(i,t.errorSummary).init();var u=e.querySelectorAll('[data-module="govuk-exit-this-page"]');w(u,function(d){new k(d,t.exitThisPage).init()});var a=e.querySelector('[data-module="govuk-header"]');a&&new q(a).init();var c=e.querySelectorAll('[data-module="govuk-notification-banner"]');w(c,function(d){new V(d,t.notificationBanner).init()});var h=e.querySelectorAll('[data-module="govuk-radios"]');w(h,function(d){new j(d).init()});var p=e.querySelector('[data-module="govuk-skip-link"]');p&&new M(p).init();var m=e.querySelectorAll('[data-module="govuk-tabs"]');w(m,function(d){new y(d).init()})}function Et(t){let e,n,r,o,l;const s=t[3].default,i=tt(s,t,t[2],null);return{c(){e=G("div"),n=G("label"),r=et(t[0]),o=nt(),i&&i.c(),F(n,"class","govuk-label"),F(n,"for",t[1]),F(e,"class","govuk-form-group")},m(u,a){it(u,e,a),W(e,n),W(n,r),W(e,o),i&&i.m(e,null),l=!0},p(u,[a]){(!l||a&1)&&rt(r,u[0]),(!l||a&2)&&F(n,"for",u[1]),i&&i.p&&(!l||a&4)&&ot(i,s,u,u[2],l?at(s,u[2],a,null):st(u[2]),null)},i(u){l||(lt(i,u),l=!0)},o(u){ut(i,u),l=!1},d(u){u&&ct(e),i&&i.d(u)}}}function Tt(t,e,n){let{$$slots:r={},$$scope:o}=e,{label:l}=e,{id:s}=e;return t.$$set=i=>{"label"in i&&n(0,l=i.label),"id"in i&&n(1,s=i.id),"$$scope"in i&&n(2,o=i.$$scope)},[l,s,o,r]}class Lt extends J{constructor(e){super(),Q(this,e,Tt,Et,Z,{label:0,id:1})}}export{Lt as F,St as i};
