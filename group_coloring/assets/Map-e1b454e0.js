import{S as C,i as L,s as E,G as P,e as p,h as _,j as y,k as h,J as j,K as B,L as D,t as v,l as k,p as w,f as z,w as G,F as fe,g as Z,m as F,q,U,ac as de,aK as _e,aX as A,V as me,aJ as pe,P as ge,aY as he,v as N,u as ie,T as ae,b as T,c as re,o as ce,W as Q,x as W,Q as be,aF as ue,aZ as V,a as ve,Z as R,C as K,D as ke,a1 as ye,$ as we,a7 as X,a6 as Y,a0 as Se,ab as Ce,aa as Le,a9 as $,y as Ee,n as Oe,a_ as Pe,r as je,B as H,af as Be}from"./data_getter-5d9beebd.js";function De(l){let e,n,t;const o=l[3].default,s=P(o,l,l[2],null);return{c(){e=p("fieldset"),n=p("div"),s&&s.c(),_(n,"class",l[0]),_(n,"data-module","govuk-checkboxes"),_(e,"class","govuk-fieldset")},m(i,a){y(i,e,a),h(e,n),s&&s.m(n,null),t=!0},p(i,[a]){s&&s.p&&(!t||a&4)&&j(s,o,i,i[2],t?D(o,i[2],a,null):B(i[2]),null)},i(i){t||(v(s,i),t=!0)},o(i){k(s,i),t=!1},d(i){i&&w(e),s&&s.d(i)}}}function Ie(l,e,n){let{$$slots:t={},$$scope:o}=e,{small:s=!1}=e,i=s?"govuk-checkboxes--small":"govuk-checkboxes";return l.$$set=a=>{"small"in a&&n(1,s=a.small),"$$scope"in a&&n(2,o=a.$$scope)},[i,s,o,t]}class ct extends C{constructor(e){super(),L(this,e,Ie,De,E,{small:1})}}const Me=l=>({}),x=l=>({});function ze(l){let e,n,t,o,s,i,a,c;const u=l[4].default,r=P(u,l,l[3],null),d=l[4].right,m=P(d,l,l[3],x);return{c(){e=p("div"),n=p("input"),t=z(),o=p("label"),r&&r.c(),s=z(),m&&m.c(),_(n,"type","checkbox"),_(n,"class","govuk-checkboxes__input"),_(n,"id",l[1]),_(o,"class","govuk-label govuk-checkboxes__label"),_(o,"for",l[1]),_(o,"title",l[2]),_(e,"class","govuk-checkboxes__item")},m(f,b){y(f,e,b),h(e,n),n.checked=l[0],h(e,t),h(e,o),r&&r.m(o,null),h(e,s),m&&m.m(e,null),i=!0,a||(c=G(n,"change",l[5]),a=!0)},p(f,[b]){(!i||b&2)&&_(n,"id",f[1]),b&1&&(n.checked=f[0]),r&&r.p&&(!i||b&8)&&j(r,u,f,f[3],i?D(u,f[3],b,null):B(f[3]),null),(!i||b&2)&&_(o,"for",f[1]),(!i||b&4)&&_(o,"title",f[2]),m&&m.p&&(!i||b&8)&&j(m,d,f,f[3],i?D(d,f[3],b,Me):B(f[3]),x)},i(f){i||(v(r,f),v(m,f),i=!0)},o(f){k(r,f),k(m,f),i=!1},d(f){f&&w(e),r&&r.d(f),m&&m.d(f),a=!1,c()}}}function Ge(l,e,n){let{$$slots:t={},$$scope:o}=e,{id:s}=e,{checked:i}=e,{hint:a=null}=e;function c(){i=this.checked,n(0,i)}return l.$$set=u=>{"id"in u&&n(1,s=u.id),"checked"in u&&n(0,i=u.checked),"hint"in u&&n(2,a=u.hint),"$$scope"in u&&n(3,o=u.$$scope)},[i,s,a,o,t,c]}class ut extends C{constructor(e){super(),L(this,e,Ge,ze,E,{id:1,checked:0,hint:2})}}function ee(l,e,n){const t=l.slice();return t[8]=e[n][0],t[9]=e[n][1],t}function te(l){let e;return{c(){e=p("option"),e.__value="",N(e,e.__value)},m(n,t){y(n,e,t)},d(n){n&&w(e)}}}function ne(l){let e,n=l[9]+"",t,o;return{c(){e=p("option"),t=ie(n),e.__value=o=l[8],N(e,e.__value)},m(s,i){y(s,e,i),h(e,t)},p(s,i){i&8&&n!==(n=s[9]+"")&&ae(t,n),i&8&&o!==(o=s[8])&&(e.__value=o,N(e,e.__value))},d(s){s&&w(e)}}}function Ze(l){let e,n,t,o,s=l[4]&&te(),i=U(l[3]),a=[];for(let c=0;c<i.length;c+=1)a[c]=ne(ee(l,i,c));return{c(){e=p("select"),s&&s.c(),n=de();for(let c=0;c<a.length;c+=1)a[c].c();_(e,"class","govuk-select"),_(e,"id",l[2]),e.disabled=l[5],l[0]===void 0&&_e(()=>l[7].call(e))},m(c,u){y(c,e,u),s&&s.m(e,null),h(e,n);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(e,null);A(e,l[0],!0),t||(o=[G(e,"change",l[7]),G(e,"change",l[6])],t=!0)},p(c,u){if(c[4]?s||(s=te(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),u&8){i=U(c[3]);let r;for(r=0;r<i.length;r+=1){const d=ee(c,i,r);a[r]?a[r].p(d,u):(a[r]=ne(d),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}u&4&&_(e,"id",c[2]),u&32&&(e.disabled=c[5]),u&9&&A(e,c[0])},d(c){c&&w(e),s&&s.d(),me(a,c),t=!1,pe(o)}}}function Fe(l){let e,n;return e=new fe({props:{label:l[1],id:l[2],$$slots:{default:[Ze]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(t,o){F(e,t,o),n=!0},p(t,[o]){const s={};o&2&&(s.label=t[1]),o&4&&(s.id=t[2]),o&4157&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function qe(l,e,n){let{label:t}=e,{id:o}=e,{choices:s}=e,{emptyOption:i=!1}=e,{disabled:a=!1}=e,{value:c}=e;function u(d){ge.call(this,l,d)}function r(){c=he(this),n(0,c),n(3,s)}return l.$$set=d=>{"label"in d&&n(1,t=d.label),"id"in d&&n(2,o=d.id),"choices"in d&&n(3,s=d.choices),"emptyOption"in d&&n(4,i=d.emptyOption),"disabled"in d&&n(5,a=d.disabled),"value"in d&&n(0,c=d.value)},[c,t,o,s,i,a,u,r]}class He extends C{constructor(e){super(),L(this,e,qe,Fe,E,{label:1,id:2,choices:3,emptyOption:4,disabled:5,value:0})}}function Je(l){let e,n,t;function o(i){l[2](i)}let s={label:"Basemap",id:"basemap",choices:[["streets","Streets"],["hybrid","Satellite"]]};return l[0]!==void 0&&(s.value=l[0]),e=new He({props:s}),T.push(()=>re(e,"value",o)),e.$on("change",l[1]),{c(){Z(e.$$.fragment)},m(i,a){F(e,i,a),t=!0},p(i,[a]){const c={};!n&&a&1&&(n=!0,c.value=i[0],ce(()=>n=!1)),e.$set(c)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function Ne(l,e,n){let{style:t}=e;function o(){let i=new URLSearchParams(window.location.search);i.set("style",t);let a=`${window.location.pathname}?${i.toString()}${window.location.hash}`;window.location.href=a}function s(i){t=i,n(0,t)}return l.$$set=i=>{"style"in i&&n(0,t=i.style)},[t,o,s]}class ft extends C{constructor(e){super(),L(this,e,Ne,Je,E,{style:0})}}function We(l){let e,n,t,o,s,i,a;const c=l[3].default,u=P(c,l,l[2],null);return{c(){e=p("details"),n=p("summary"),t=p("span"),o=ie(l[0]),s=z(),i=p("div"),u&&u.c(),_(t,"class","govuk-details__summary-text"),_(n,"class","govuk-details__summary"),_(i,"class","govuk-details__text"),e.open=l[1],_(e,"class","govuk-details"),_(e,"data-module","govuk-details")},m(r,d){y(r,e,d),h(e,n),h(n,t),h(t,o),h(e,s),h(e,i),u&&u.m(i,null),a=!0},p(r,[d]){(!a||d&1)&&ae(o,r[0]),u&&u.p&&(!a||d&4)&&j(u,c,r,r[2],a?D(c,r[2],d,null):B(r[2]),null),(!a||d&2)&&(e.open=r[1])},i(r){a||(v(u,r),a=!0)},o(r){k(u,r),a=!1},d(r){r&&w(e),u&&u.d(r)}}}function Re(l,e,n){let{$$slots:t={},$$scope:o}=e,{label:s}=e,{open:i=!1}=e;return l.$$set=a=>{"label"in a&&n(0,s=a.label),"open"in a&&n(1,i=a.open),"$$scope"in a&&n(2,o=a.$$scope)},[s,i,o,t]}class dt extends C{constructor(e){super(),L(this,e,Re,We,E,{label:0,open:1})}}function Te(l){let e;return{c(){e=p("span"),_(e,"class","svelte-kzgqtg"),Q(e,"background",l[0])},m(n,t){y(n,e,t)},p(n,[t]){t&1&&Q(e,"background",n[0])},i:W,o:W,d(n){n&&w(e)}}}function Ke(l,e,n){let{color:t}=e;return l.$$set=o=>{"color"in o&&n(0,t=o.color)},[t]}class _t extends C{constructor(e){super(),L(this,e,Ke,Te,E,{color:0})}}const Ue="/atip/group_coloring/assets/help-d011708a.svg";function Ae(l){let e,n;const t=l[1].default,o=P(t,l,l[4],null);return{c(){e=p("div"),o&&o.c(),_(e,"class","govuk-prose")},m(s,i){y(s,e,i),o&&o.m(e,null),n=!0},p(s,i){o&&o.p&&(!n||i&16)&&j(o,t,s,s[4],n?D(t,s[4],i,null):B(s[4]),null)},i(s){n||(v(o,s),n=!0)},o(s){k(o,s),n=!1},d(s){s&&w(e),o&&o.d(s)}}}function Qe(l){let e,n,t,o,s,i,a,c,u;function r(m){l[3](m)}let d={title:"Help",$$slots:{default:[Ae]},$$scope:{ctx:l}};return l[0]!==void 0&&(d.open=l[0]),s=new be({props:d}),T.push(()=>re(s,"open",r)),{c(){e=p("button"),n=p("img"),o=z(),Z(s.$$.fragment),ue(n.src,t=Ue)||_(n,"src",t),_(n,"title","Help"),_(n,"alt","Help")},m(m,f){y(m,e,f),h(e,n),y(m,o,f),F(s,m,f),a=!0,c||(u=G(e,"click",l[2]),c=!0)},p(m,[f]){const b={};f&16&&(b.$$scope={dirty:f,ctx:m}),!i&&f&1&&(i=!0,b.open=m[0],ce(()=>i=!1)),s.$set(b)},i(m){a||(v(s.$$.fragment,m),a=!0)},o(m){k(s.$$.fragment,m),a=!1},d(m){m&&(w(e),w(o)),q(s,m),c=!1,u()}}}function Ve(l,e,n){let{$$slots:t={},$$scope:o}=e,s=!1;const i=()=>n(0,s=!0);function a(c){s=c,n(0,s)}return l.$$set=c=>{"$$scope"in c&&n(4,o=c.$$scope)},[s,t,i,a,o]}class mt extends C{constructor(e){super(),L(this,e,Ve,Qe,E,{})}}const Xe=l=>({}),le=l=>({}),Ye=l=>({}),se=l=>({});function $e(l){let e,n,t,o,s,i,a,c,u,r,d;const m=l[3].sidebar,f=P(m,l,l[2],se),b=l[3].main,S=P(b,l,l[2],le);return{c(){e=p("div"),n=p("aside"),t=p("div"),f&&f.c(),o=z(),s=p("button"),s.textContent="â†’",a=z(),c=p("main"),S&&S.c(),_(t,"class","sidebar-content content-container svelte-ect12w"),_(s,"type","button"),_(s,"class","sidebar-toggle rounded-rect svelte-ect12w"),_(n,"class",i=V(l[0]?"":"collapsed")+" svelte-ect12w"),_(c,"class","svelte-ect12w"),_(e,"class","overall-layout svelte-ect12w")},m(g,I){y(g,e,I),h(e,n),h(n,t),f&&f.m(t,null),h(n,o),h(n,s),h(e,a),h(e,c),S&&S.m(c,null),u=!0,r||(d=G(s,"click",l[1]),r=!0)},p(g,[I]){f&&f.p&&(!u||I&4)&&j(f,m,g,g[2],u?D(m,g[2],I,Ye):B(g[2]),se),(!u||I&1&&i!==(i=V(g[0]?"":"collapsed")+" svelte-ect12w"))&&_(n,"class",i),S&&S.p&&(!u||I&4)&&j(S,b,g,g[2],u?D(b,g[2],I,Xe):B(g[2]),le)},i(g){u||(v(f,g),v(S,g),u=!0)},o(g){k(f,g),k(S,g),u=!1},d(g){g&&w(e),f&&f.d(g),S&&S.d(g),r=!1,d()}}}function xe(l,e,n){let{$$slots:t={},$$scope:o}=e,s=!0;function i(){n(0,s=!s)}return l.$$set=a=>{"$$scope"in a&&n(2,o=a.$$scope)},[s,i,o,t]}class pt extends C{constructor(e){super(),L(this,e,xe,$e,E,{})}}const et="/atip/group_coloring/assets/zoom_out_map-b2e1091a.svg";function tt(l){let e,n;return{c(){e=p("img"),ue(e.src,n=et)||_(e,"src",n),_(e,"alt","Zoom to show entire boundary")},m(t,o){y(t,e,o)},p:W,d(t){t&&w(e)}}}function nt(l){let e,n;return e=new ve({props:{title:"Zoom to show entire boundary",$$slots:{default:[tt]},$$scope:{ctx:l}}}),e.$on("click",l[0]),{c(){Z(e.$$.fragment)},m(t,o){F(e,t,o),n=!0},p(t,[o]){const s={};o&8&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function lt(l,e,n){let t;R(l,K,i=>n(2,t=i));let{boundaryGeojson:o}=e;function s(){t.fitBounds(ke(o),{padding:20,animate:!0,duration:500})}return l.$$set=i=>{"boundaryGeojson"in i&&n(1,o=i.boundaryGeojson)},[s,o]}class gt extends C{constructor(e){super(),L(this,e,lt,nt,E,{boundaryGeojson:1})}}const O={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black"},st=10,J=10;let M="interventions";function ot(l,e,n){let t,o;R(l,K,c=>n(1,t=c)),R(l,ye,c=>n(2,o=c));let{colorInterventions:s}=e;we(t,M,o);const i=["!=","hide_while_editing",!0];return X(t,{id:"interventions-points",source:M,filter:["all",Ce,i,["!=","endpoint",!0]],color:s,radius:st}),Y(t,{id:"interventions-lines",source:M,filter:["all",Le,i],color:s,width:J}),X(t,{id:"interventions-lines-endpoints",source:M,filter:["==","endpoint",!0],radius:.5*J,opacity:0,strokeColor:O.lineEndpointColor,strokeWidth:2}),Se(t,{id:"interventions-polygons",source:M,filter:["all",$,i],color:s,opacity:.2}),Y(t,{id:"interventions-polygon-outlines",source:M,filter:["all",$,i],color:s,opacity:.5,width:.7*J}),l.$$set=c=>{"colorInterventions"in c&&n(0,s=c.colorInterventions)},l.$$.update=()=>{if(l.$$.dirty&6){let c=JSON.parse(JSON.stringify(o)),u=[];for(let r of c.features)if(r.geometry.type=="LineString"&&!r.properties.hide_while_editing)for(let d of[r.geometry.coordinates[0],r.geometry.coordinates[r.geometry.coordinates.length-1]])u.push({type:"Feature",properties:{endpoint:!0},geometry:{type:"Point",coordinates:d}});c.features=c.features.concat(u),t.getSource(M).setData(c)}},[s,t,o]}class ht extends C{constructor(e){super(),L(this,e,ot,null,E,{colorInterventions:0})}}function bt(l){return{v1:"Scheme Design",v2:"Experimental Scheme Design",planning:"Development Planning",criticals:"Critical Issues",atf4:"ATF4 Scheme"}[l]}function vt(l){return{v1:"an intervention",v2:"an intervention",planning:"a development",criticals:"a critical issue",atf4:"an intervention"}[l]}function kt(l){return{v1:"interventions",v2:"interventions",planning:"developments",criticals:"critical issues",atf4:"interventions"}[l]}function yt(l){return l=="planning"?["match",["get","reference_type",["get","planning"]],"preapp",O.preapp,"outline",O.outline,"reserved matters",O["reserved matters"],"local plan",O["local plan"],"black"]:["match",["get","intervention_type"],"area",O.area,"route",O.route,"crossing",O.crossing,"other",O.other,"white"]}function oe(l){let e;const n=l[4].default,t=P(n,l,l[3],null);return{c(){t&&t.c()},m(o,s){t&&t.m(o,s),e=!0},p(o,s){t&&t.p&&(!e||s&8)&&j(t,n,o,o[3],e?D(n,o[3],s,null):B(o[3]),null)},i(o){e||(v(t,o),e=!0)},o(o){k(t,o),e=!1},d(o){t&&t.d(o)}}}function it(l){let e,n,t=l[1]&&oe(l);return{c(){e=p("div"),t&&t.c(),_(e,"class","map svelte-12dpf1u")},m(o,s){y(o,e,s),t&&t.m(e,null),l[5](e),n=!0},p(o,[s]){o[1]?t?(t.p(o,s),s&2&&v(t,1)):(t=oe(o),t.c(),v(t,1),t.m(e,null)):t&&(Ee(),k(t,1,1,()=>{t=null}),Oe())},i(o){n||(v(t),n=!0)},o(o){k(t),n=!1},d(o){o&&w(e),t&&t.d(),l[5](null)}}}function at(l,e,n){let{$$slots:t={},$$scope:o}=e,{style:s}=e,i,a,c=!1;Pe("setCamera",!window.location.hash),je(()=>{i=new H.Map({container:a,style:`https://api.maptiler.com/maps/${s}/style.json?key=MZEJTanw3WpxRvt7qDfo`,hash:!0}),i.addControl(new H.ScaleControl({})),i.addControl(new H.NavigationControl({visualizePitch:!0}),"bottom-right"),i.on("load",()=>{n(1,c=!0),K.set(i)}),new ResizeObserver(()=>{i.resize()}).observe(a)}),Be(()=>{i.remove()});function u(r){T[r?"unshift":"push"](()=>{a=r,n(0,a)})}return l.$$set=r=>{"style"in r&&n(2,s=r.style),"$$scope"in r&&n(3,o=r.$$scope)},[a,c,s,o,t,u]}class wt extends C{constructor(e){super(),L(this,e,at,it,E,{style:2})}}export{ft as B,dt as C,mt as H,ht as I,pt as L,wt as M,He as S,gt as Z,st as a,ct as b,O as c,ut as d,_t as e,kt as f,bt as g,yt as h,J as l,vt as s};
