import{a4 as Ue,h as V,t as J,S as le,i as ue,s as fe,C as Be,e as O,d as P,f as B,g as E,D as Ie,E as Le,F as Re,j as I,a as z,b as Te,a3 as Z,aD as tl,a5 as Ce,z as ni,r as pn,l as te,x as ne,c as tt,m as rt,k as nt,Q as rl,af as W,w as oi,a1 as nl,a2 as xe,M as vr,al as gn,N as ol,am as vn,aF as il,aG as hn,aH as al,I as ll,G as St,J as ul,K as fl,an as sl,aC as cl,u as yl,p as pl}from"./stores-dc1f9b6e.js";function _t(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function $g(t,e){V(t,1,1,()=>{e.delete(t.key)})}function Mg(t,e,r,n,o,i,a,u,l,f,y,c){let p=t.length,s=i.length,g=p;const v={};for(;g--;)v[t[g].key]=g;const m=[],h=new Map,d=new Map,b=[];for(g=s;g--;){const M=c(o,i,g),k=r(M);let G=a.get(k);G?n&&b.push(()=>G.p(M,e)):(G=f(k,M),G.c()),h.set(k,m[g]=G),k in v&&d.set(k,Math.abs(g-v[k]))}const _=new Set,w=new Set;function L(M){J(M,1),M.m(u,y),a.set(M.key,M),y=M.first,s--}for(;p&&s;){const M=m[s-1],k=t[p-1],G=M.key,me=k.key;M===k?(y=M.first,p--,s--):h.has(me)?!a.has(G)||_.has(G)?L(M):w.has(me)?p--:d.get(G)>d.get(me)?(w.add(G),L(M)):(_.add(me),p--):(l(k,a),p--)}for(;p--;){const M=t[p];h.has(M.key)||l(M,a)}for(;s;)L(m[s-1]);return Ue(b),m}let ft;const gl=new Uint8Array(16);function vl(){if(!ft&&(ft=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ft))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ft(gl)}const D=[];for(let t=0;t<256;++t)D.push((t+256).toString(16).slice(1));function hl(t,e=0){return D[t[e+0]]+D[t[e+1]]+D[t[e+2]]+D[t[e+3]]+"-"+D[t[e+4]]+D[t[e+5]]+"-"+D[t[e+6]]+D[t[e+7]]+"-"+D[t[e+8]]+D[t[e+9]]+"-"+D[t[e+10]]+D[t[e+11]]+D[t[e+12]]+D[t[e+13]]+D[t[e+14]]+D[t[e+15]]}const dl=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dn={randomUUID:dl};function Dt(t,e,r){if(dn.randomUUID&&!e&&!t)return dn.randomUUID();t=t||{};const n=t.random||(t.rng||vl)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return hl(n)}function ml(t){let e,r,n;const o=t[3].default,i=Be(o,t,t[2],null);return{c(){e=O("fieldset"),r=O("div"),i&&i.c(),P(r,"class",t[0]),P(r,"data-module","govuk-checkboxes"),P(e,"class","govuk-fieldset")},m(a,u){B(a,e,u),E(e,r),i&&i.m(r,null),n=!0},p(a,[u]){i&&i.p&&(!n||u&4)&&Ie(i,o,a,a[2],n?Re(o,a[2],u,null):Le(a[2]),null)},i(a){n||(J(i,a),n=!0)},o(a){V(i,a),n=!1},d(a){a&&I(e),i&&i.d(a)}}}function bl(t,e,r){let{$$slots:n={},$$scope:o}=e,{small:i=!1}=e,a=i?"govuk-checkboxes--small":"govuk-checkboxes";return t.$$set=u=>{"small"in u&&r(1,i=u.small),"$$scope"in u&&r(2,o=u.$$scope)},[a,i,o,n]}class kg extends le{constructor(e){super(),ue(this,e,bl,ml,fe,{small:1})}}const wl=t=>({}),mn=t=>({});function Sl(t){let e,r,n,o,i,a,u,l,f;const y=t[5].default,c=Be(y,t,t[4],null),p=t[5].right,s=Be(p,t,t[4],mn);return{c(){e=O("div"),r=O("input"),n=z(),o=O("label"),c&&c.c(),i=z(),a=O("span"),s&&s.c(),P(r,"type","checkbox"),P(r,"class","govuk-checkboxes__input"),P(r,"id",t[3]),P(o,"class","govuk-label govuk-checkboxes__label"),P(o,"for",t[3]),P(o,"title",t[1]),Te(a,"float","right"),P(e,"class","govuk-checkboxes__item"),P(e,"style",t[2])},m(g,v){B(g,e,v),E(e,r),r.checked=t[0],E(e,n),E(e,o),c&&c.m(o,null),E(e,i),E(e,a),s&&s.m(a,null),u=!0,l||(f=[Z(r,"change",t[7]),Z(r,"change",t[6])],l=!0)},p(g,[v]){v&1&&(r.checked=g[0]),c&&c.p&&(!u||v&16)&&Ie(c,y,g,g[4],u?Re(y,g[4],v,null):Le(g[4]),null),(!u||v&2)&&P(o,"title",g[1]),s&&s.p&&(!u||v&16)&&Ie(s,p,g,g[4],u?Re(p,g[4],v,wl):Le(g[4]),mn)},i(g){u||(J(c,g),J(s,g),u=!0)},o(g){V(c,g),V(s,g),u=!1},d(g){g&&I(e),c&&c.d(g),s&&s.d(g),l=!1,Ue(f)}}}function _l(t,e,r){let{$$slots:n={},$$scope:o}=e;const i=tl(n);let{checked:a}=e,{hint:u=null}=e,f=i.right!==void 0?"float: none":"",y=Dt();function c(s){Ce.call(this,t,s)}function p(){a=this.checked,r(0,a)}return t.$$set=s=>{"checked"in s&&r(0,a=s.checked),"hint"in s&&r(1,u=s.hint),"$$scope"in s&&r(4,o=s.$$scope)},[a,u,f,y,o,n,c,p]}class Cg extends le{constructor(e){super(),ue(this,e,_l,Sl,fe,{checked:0,hint:1})}}function bn(t){let e,r,n,o;return{c(){e=O("div"),r=O("span"),r.textContent="Error:",n=z(),o=te(t[0]),P(r,"class","govuk-visually-hidden"),P(e,"class","govuk-error-message")},m(i,a){B(i,e,a),E(e,r),E(e,n),E(e,o)},p(i,a){a&1&&ne(o,i[0])},d(i){i&&I(e)}}}function Pl(t){let e,r=t[0]&&bn(t);return{c(){r&&r.c(),e=ni()},m(n,o){r&&r.m(n,o),B(n,e,o)},p(n,[o]){n[0]?r?r.p(n,o):(r=bn(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:pn,o:pn,d(n){n&&I(e),r&&r.d(n)}}}function El(t,e,r){let{errorMessage:n}=e;return t.$$set=o=>{"errorMessage"in o&&r(0,n=o.errorMessage)},[n]}class ii extends le{constructor(e){super(),ue(this,e,El,Pl,fe,{errorMessage:0})}}function Al(t){let e,r,n;return{c(){e=O("input"),e.disabled=t[1],P(e,"class","govuk-file-upload"),P(e,"id",t[4]),P(e,"type","file")},m(o,i){B(o,e,i),t[6](e),r||(n=Z(e,"change",t[3]),r=!0)},p(o,i){i&2&&(e.disabled=o[1])},d(o){o&&I(e),t[6](null),r=!1,n()}}}function Ol(t){let e,r;return e=new ai({props:{label:t[0],id:t[4],$$slots:{default:[Al]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(n,o){rt(e,n,o),r=!0},p(n,[o]){const i={};o&1&&(i.label=n[0]),o&134&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){r||(J(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){nt(e,n)}}}function $l(t,e,r){let{label:n}=e,{onLoad:o}=e,{disabled:i=!1}=e,a;async function u(y){let c=a.files[0].name,p=await a.files[0].text();o(c,p)}let l=Dt();function f(y){rl[y?"unshift":"push"](()=>{a=y,r(2,a)})}return t.$$set=y=>{"label"in y&&r(0,n=y.label),"onLoad"in y&&r(5,o=y.onLoad),"disabled"in y&&r(1,i=y.disabled)},[n,i,a,u,l,o,f]}class Fg extends le{constructor(e){super(),ue(this,e,$l,Ol,fe,{label:0,onLoad:5,disabled:1})}}function Ml(t){let e,r,n,o,i;const a=t[3].default,u=Be(a,t,t[2],null);return{c(){e=O("div"),r=O("label"),n=te(t[0]),o=z(),u&&u.c(),P(r,"class","govuk-label govuk-label--s"),P(r,"for",t[1]),P(e,"class","govuk-form-group")},m(l,f){B(l,e,f),E(e,r),E(r,n),E(e,o),u&&u.m(e,null),i=!0},p(l,[f]){(!i||f&1)&&ne(n,l[0]),(!i||f&2)&&P(r,"for",l[1]),u&&u.p&&(!i||f&4)&&Ie(u,a,l,l[2],i?Re(a,l[2],f,null):Le(l[2]),null)},i(l){i||(J(u,l),i=!0)},o(l){V(u,l),i=!1},d(l){l&&I(e),u&&u.d(l)}}}function kl(t,e,r){let{$$slots:n={},$$scope:o}=e,{label:i}=e,{id:a}=e;return t.$$set=u=>{"label"in u&&r(0,i=u.label),"id"in u&&r(1,a=u.id),"$$scope"in u&&r(2,o=u.$$scope)},[i,a,o,n]}class ai extends le{constructor(e){super(),ue(this,e,kl,Ml,fe,{label:0,id:1})}}function wn(t,e,r){const n=t.slice();return n[14]=e[r][0],n[15]=e[r][1],n}function Sn(t){let e,r;return{c(){e=O("legend"),r=te(t[1]),P(e,"class","govuk-fieldset__legend govuk-fieldset__legend--s"),Te(e,"margin-right","8px")},m(n,o){B(n,e,o),E(e,r)},p(n,o){o&2&&ne(r,n[1])},d(n){n&&I(e)}}}function _n(t){let e,r;return{c(){e=O("legend"),r=te(t[1]),P(e,"class","govuk-fieldset__legend govuk-fieldset__legend--s")},m(n,o){B(n,e,o),E(e,r)},p(n,o){o&2&&ne(r,n[1])},d(n){n&&I(e)}}}function Pn(t){let e,r;return{c(){e=O("div"),r=te(t[2]),P(e,"class","govuk-hint")},m(n,o){B(n,e,o),E(e,r)},p(n,o){o&4&&ne(r,n[2])},d(n){n&&I(e)}}}function En(t){let e,r;return{c(){e=O("legend"),r=te(t[1]),P(e,"class","govuk-fieldset__legend govuk-fieldset__legend--s"),Te(e,"margin-right","8px")},m(n,o){B(n,e,o),E(e,r)},p(n,o){o&2&&ne(r,n[1])},d(n){n&&I(e)}}}function An(t){let e,r,n,o,i=!1,a,u,l=t[15]+"",f,y,c,p,s,g;return p=nl(t[13][0]),{c(){e=O("div"),r=O("input"),a=z(),u=O("label"),f=te(l),c=z(),P(r,"class","govuk-radios__input"),P(r,"id",n=t[9]+t[14]),P(r,"type","radio"),r.__value=o=t[14],xe(r,r.__value),P(u,"class","govuk-label govuk-radios__label"),P(u,"for",y=t[9]+t[14]),P(e,"class","govuk-radios__item"),p.p(r)},m(v,m){B(v,e,m),E(e,r),r.checked=r.__value===t[0],E(e,a),E(e,u),E(u,f),E(e,c),s||(g=[Z(r,"change",t[12]),Z(r,"change",t[11])],s=!0)},p(v,m){m&8&&n!==(n=v[9]+v[14])&&P(r,"id",n),m&8&&o!==(o=v[14])&&(r.__value=o,xe(r,r.__value),i=!0),(i||m&9)&&(r.checked=r.__value===v[0]),m&8&&l!==(l=v[15]+"")&&ne(f,l),m&8&&y!==(y=v[9]+v[14])&&P(u,"for",y)},d(v){v&&I(e),p.r(),s=!1,Ue(g)}}}function Cl(t){let e,r,n,o,i,a,u,l,f,y,c,p=t[7]&&!t[4]&&Sn(t),s=!t[7]&&_n(t);a=new ii({props:{errorMessage:t[8]}});let g=t[2]&&Pn(t),v=t[7]&&t[4]&&En(t),m=_t(t[3]),h=[];for(let d=0;d<m.length;d+=1)h[d]=An(wn(t,m,d));return{c(){e=O("div"),p&&p.c(),r=z(),n=O("div"),o=O("fieldset"),s&&s.c(),i=z(),tt(a.$$.fragment),u=z(),g&&g.c(),l=z(),f=O("div"),v&&v.c(),y=z();for(let d=0;d<h.length;d+=1)h[d].c();P(f,"class","govuk-radios svelte-1i6hs1"),P(f,"data-module","govuk-radios"),W(f,"govuk-radios--inline",t[4]),W(f,"govuk-radios--small",t[4]),W(f,"nowrap",t[5]),W(f,"no-bottom-margin",t[6]),P(o,"class","govuk-fieldset"),P(n,"class","govuk-form-group"),Te(e,"display","flex")},m(d,b){B(d,e,b),p&&p.m(e,null),E(e,r),E(e,n),E(n,o),s&&s.m(o,null),E(o,i),rt(a,o,null),E(o,u),g&&g.m(o,null),E(o,l),E(o,f),v&&v.m(f,null),E(f,y);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(f,null);c=!0},p(d,[b]){d[7]&&!d[4]?p?p.p(d,b):(p=Sn(d),p.c(),p.m(e,r)):p&&(p.d(1),p=null),d[7]?s&&(s.d(1),s=null):s?s.p(d,b):(s=_n(d),s.c(),s.m(o,i));const _={};if(b&256&&(_.errorMessage=d[8]),a.$set(_),d[2]?g?g.p(d,b):(g=Pn(d),g.c(),g.m(o,l)):g&&(g.d(1),g=null),d[7]&&d[4]?v?v.p(d,b):(v=En(d),v.c(),v.m(f,y)):v&&(v.d(1),v=null),b&521){m=_t(d[3]);let w;for(w=0;w<m.length;w+=1){const L=wn(d,m,w);h[w]?h[w].p(L,b):(h[w]=An(L),h[w].c(),h[w].m(f,null))}for(;w<h.length;w+=1)h[w].d(1);h.length=m.length}(!c||b&16)&&W(f,"govuk-radios--inline",d[4]),(!c||b&16)&&W(f,"govuk-radios--small",d[4]),(!c||b&32)&&W(f,"nowrap",d[5]),(!c||b&64)&&W(f,"no-bottom-margin",d[6])},i(d){c||(J(a.$$.fragment,d),c=!0)},o(d){V(a.$$.fragment,d),c=!1},d(d){d&&I(e),p&&p.d(),s&&s.d(),nt(a),g&&g.d(),v&&v.d(),oi(h,d)}}}function Fl(t,e,r){let n,{label:o}=e,{hint:i=""}=e,{choices:a}=e,{inlineSmall:u=!1}=e,{nowrap:l=!1}=e,{noBottomMargin:f=!1}=e,{leftLabel:y=!1}=e,{required:c=!1}=e,{value:p}=e,s=Dt();const g=[[]];function v(h){Ce.call(this,t,h)}function m(){p=this.__value,r(0,p)}return t.$$set=h=>{"label"in h&&r(1,o=h.label),"hint"in h&&r(2,i=h.hint),"choices"in h&&r(3,a=h.choices),"inlineSmall"in h&&r(4,u=h.inlineSmall),"nowrap"in h&&r(5,l=h.nowrap),"noBottomMargin"in h&&r(6,f=h.noBottomMargin),"leftLabel"in h&&r(7,y=h.leftLabel),"required"in h&&r(10,c=h.required),"value"in h&&r(0,p=h.value)},t.$$.update=()=>{t.$$.dirty&1025&&r(8,n=c&&p==""?"Required":"")},[p,o,i,a,u,l,f,y,n,s,c,v,m,g]}class Bg extends le{constructor(e){super(),ue(this,e,Fl,Cl,fe,{label:1,hint:2,choices:3,inlineSmall:4,nowrap:5,noBottomMargin:6,leftLabel:7,required:10,value:0})}}function Bl(t){let e,r,n,o;const i=t[3].default,a=Be(i,t,t[2],null);let u=[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},t[1]],l={};for(let f=0;f<u.length;f+=1)l=vr(l,u[f]);return{c(){e=O("button"),a&&a.c(),gn(e,l),W(e,"no-bottom-margin",t[0]),W(e,"svelte-m0sq6k",!0)},m(f,y){B(f,e,y),a&&a.m(e,null),e.autofocus&&e.focus(),r=!0,n||(o=[Z(e,"click",t[4]),Z(e,"mouseenter",t[5]),Z(e,"mouseleave",t[6])],n=!0)},p(f,[y]){a&&a.p&&(!r||y&4)&&Ie(a,i,f,f[2],r?Re(i,f[2],y,null):Le(f[2]),null),gn(e,l=ol(u,[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},y&2&&f[1]])),W(e,"no-bottom-margin",f[0]),W(e,"svelte-m0sq6k",!0)},i(f){r||(J(a,f),r=!0)},o(f){V(a,f),r=!1},d(f){f&&I(e),a&&a.d(f),n=!1,Ue(o)}}}function Il(t,e,r){let{$$slots:n={},$$scope:o}=e,{noBottomMargin:i=!1}=e;function a(f){Ce.call(this,t,f)}function u(f){Ce.call(this,t,f)}function l(f){Ce.call(this,t,f)}return t.$$set=f=>{r(1,e=vr(vr({},e),vn(f))),"noBottomMargin"in f&&r(0,i=f.noBottomMargin),"$$scope"in f&&r(2,o=f.$$scope)},e=vn(e),[i,e,o,n,a,u,l]}class Ll extends le{constructor(e){super(),ue(this,e,Il,Bl,fe,{noBottomMargin:0})}}function On(t,e,r){const n=t.slice();return n[10]=e[r][0],n[11]=e[r][1],n}function $n(t){let e,r;return{c(){e=O("div"),r=te(t[2]),P(e,"class","govuk-hint")},m(n,o){B(n,e,o),E(e,r)},p(n,o){o&4&&ne(r,n[2])},d(n){n&&I(e)}}}function Mn(t){let e;return{c(){e=O("option"),e.__value="",xe(e,e.__value)},m(r,n){B(r,e,n)},d(r){r&&I(e)}}}function kn(t){let e,r=t[11]+"",n,o;return{c(){e=O("option"),n=te(r),e.__value=o=t[10],xe(e,e.__value)},m(i,a){B(i,e,a),E(e,n)},p(i,a){a&8&&r!==(r=i[11]+"")&&ne(n,r),a&8&&o!==(o=i[10])&&(e.__value=o,xe(e,e.__value))},d(i){i&&I(e)}}}function Rl(t){let e,r,n,o,i,a,u,l;e=new ii({props:{errorMessage:t[6]}});let f=t[2]&&$n(t),y=t[4]&&Mn(),c=_t(t[3]),p=[];for(let s=0;s<c.length;s+=1)p[s]=kn(On(t,c,s));return{c(){tt(e.$$.fragment),r=z(),f&&f.c(),n=z(),o=O("select"),y&&y.c(),i=ni();for(let s=0;s<p.length;s+=1)p[s].c();P(o,"class","govuk-select"),P(o,"id",t[7]),o.disabled=t[5],t[0]===void 0&&il(()=>t[9].call(o))},m(s,g){rt(e,s,g),B(s,r,g),f&&f.m(s,g),B(s,n,g),B(s,o,g),y&&y.m(o,null),E(o,i);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(o,null);hn(o,t[0],!0),a=!0,u||(l=[Z(o,"change",t[9]),Z(o,"change",t[8])],u=!0)},p(s,g){const v={};if(g&64&&(v.errorMessage=s[6]),e.$set(v),s[2]?f?f.p(s,g):(f=$n(s),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),s[4]?y||(y=Mn(),y.c(),y.m(o,i)):y&&(y.d(1),y=null),g&8){c=_t(s[3]);let m;for(m=0;m<c.length;m+=1){const h=On(s,c,m);p[m]?p[m].p(h,g):(p[m]=kn(h),p[m].c(),p[m].m(o,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=c.length}(!a||g&32)&&(o.disabled=s[5]),g&9&&hn(o,s[0])},i(s){a||(J(e.$$.fragment,s),a=!0)},o(s){V(e.$$.fragment,s),a=!1},d(s){s&&(I(r),I(n),I(o)),nt(e,s),f&&f.d(s),y&&y.d(),oi(p,s),u=!1,Ue(l)}}}function Tl(t){let e,r;return e=new ai({props:{label:t[1],id:t[7],$$slots:{default:[Rl]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(n,o){rt(e,n,o),r=!0},p(n,[o]){const i={};o&2&&(i.label=n[1]),o&16509&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){r||(J(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){nt(e,n)}}}function Gl(t,e,r){let{label:n}=e,{hint:o=""}=e,{choices:i}=e,{emptyOption:a=!1}=e,{disabled:u=!1}=e,{errorMessage:l=""}=e,{value:f}=e,y=Dt();function c(s){Ce.call(this,t,s)}function p(){f=al(this),r(0,f),r(3,i)}return t.$$set=s=>{"label"in s&&r(1,n=s.label),"hint"in s&&r(2,o=s.hint),"choices"in s&&r(3,i=s.choices),"emptyOption"in s&&r(4,a=s.emptyOption),"disabled"in s&&r(5,u=s.disabled),"errorMessage"in s&&r(6,l=s.errorMessage),"value"in s&&r(0,f=s.value)},[f,n,o,i,a,u,l,y,c,p]}class Ig extends le{constructor(e){super(),ue(this,e,Gl,Tl,fe,{label:1,hint:2,choices:3,emptyOption:4,disabled:5,errorMessage:6,value:0})}}var Cn=Object.prototype.toString,li=function(e){var r=Cn.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Cn.call(e.callee)==="[object Function]"),n},Kt,Fn;function Dl(){if(Fn)return Kt;Fn=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=li,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(p){var s=p.constructor;return s&&s.prototype===p},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if(typeof window>"u")return!1;for(var p in window)try{if(!f["$"+p]&&e.call(window,p)&&window[p]!==null&&typeof window[p]=="object")try{l(window[p])}catch{return!0}}catch{return!0}return!1}(),c=function(p){if(typeof window>"u"||!y)return l(p);try{return l(p)}catch{return!1}};t=function(s){var g=s!==null&&typeof s=="object",v=r.call(s)==="[object Function]",m=n(s),h=g&&r.call(s)==="[object String]",d=[];if(!g&&!v&&!m)throw new TypeError("Object.keys called on a non-object");var b=a&&v;if(h&&s.length>0&&!e.call(s,0))for(var _=0;_<s.length;++_)d.push(String(_));if(m&&s.length>0)for(var w=0;w<s.length;++w)d.push(String(w));else for(var L in s)!(b&&L==="prototype")&&e.call(s,L)&&d.push(String(L));if(i)for(var M=c(s),k=0;k<u.length;++k)!(M&&u[k]==="constructor")&&e.call(s,u[k])&&d.push(u[k]);return d}}return Kt=t,Kt}var Nl=Array.prototype.slice,ql=li,Bn=Object.keys,pt=Bn?function(e){return Bn(e)}:Dl(),In=Object.keys;pt.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return ql(n)?In(Nl.call(n)):In(n)})}else Object.keys=pt;return Object.keys||pt};var Ur=pt,Ul=Error,Wl=EvalError,Hl=RangeError,jl=ReferenceError,ui=SyntaxError,ye=TypeError,zl=URIError,Nt=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},Ln=typeof Symbol<"u"&&Symbol,Jl=Nt,Wr=function(){return typeof Ln!="function"||typeof Symbol!="function"||typeof Ln("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Jl()},Zt={__proto__:null,foo:{}},Vl=Object,Kl=function(){return{__proto__:Zt}.foo===Zt.foo&&!(Zt instanceof Vl)},Zl="Function.prototype.bind called on incompatible ",Xl=Object.prototype.toString,Yl=Math.max,Ql="[object Function]",Rn=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},xl=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},eu=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},tu=function(e){var r=this;if(typeof r!="function"||Xl.apply(r)!==Ql)throw new TypeError(Zl+r);for(var n=xl(arguments,1),o,i=function(){if(this instanceof o){var y=r.apply(this,Rn(n,arguments));return Object(y)===y?y:this}return r.apply(e,Rn(n,arguments))},a=Yl(0,r.length-n.length),u=[],l=0;l<a;l++)u[l]="$"+l;if(o=Function("binder","return function ("+eu(u,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var f=function(){};f.prototype=r.prototype,o.prototype=new f,f.prototype=null}return o},ru=tu,Hr=Function.prototype.bind||ru,nu=Function.prototype.call,ou=Object.prototype.hasOwnProperty,iu=Hr,fi=iu.call(nu,ou),A,au=Ul,lu=Wl,uu=Hl,fu=jl,Ge=ui,Fe=ye,su=zl,si=Function,Xt=function(t){try{return si('"use strict"; return ('+t+").constructor;")()}catch{}},be=Object.getOwnPropertyDescriptor;if(be)try{be({},"")}catch{be=null}var Yt=function(){throw new Fe},cu=be?function(){try{return arguments.callee,Yt}catch{try{return be(arguments,"callee").get}catch{return Yt}}}():Yt,Oe=Wr(),yu=Kl(),T=Object.getPrototypeOf||(yu?function(t){return t.__proto__}:null),Me={},pu=typeof Uint8Array>"u"||!T?A:T(Uint8Array),we={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?A:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?A:ArrayBuffer,"%ArrayIteratorPrototype%":Oe&&T?T([][Symbol.iterator]()):A,"%AsyncFromSyncIteratorPrototype%":A,"%AsyncFunction%":Me,"%AsyncGenerator%":Me,"%AsyncGeneratorFunction%":Me,"%AsyncIteratorPrototype%":Me,"%Atomics%":typeof Atomics>"u"?A:Atomics,"%BigInt%":typeof BigInt>"u"?A:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?A:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?A:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?A:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":au,"%eval%":eval,"%EvalError%":lu,"%Float32Array%":typeof Float32Array>"u"?A:Float32Array,"%Float64Array%":typeof Float64Array>"u"?A:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?A:FinalizationRegistry,"%Function%":si,"%GeneratorFunction%":Me,"%Int8Array%":typeof Int8Array>"u"?A:Int8Array,"%Int16Array%":typeof Int16Array>"u"?A:Int16Array,"%Int32Array%":typeof Int32Array>"u"?A:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Oe&&T?T(T([][Symbol.iterator]())):A,"%JSON%":typeof JSON=="object"?JSON:A,"%Map%":typeof Map>"u"?A:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Oe||!T?A:T(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?A:Promise,"%Proxy%":typeof Proxy>"u"?A:Proxy,"%RangeError%":uu,"%ReferenceError%":fu,"%Reflect%":typeof Reflect>"u"?A:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?A:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Oe||!T?A:T(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?A:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Oe&&T?T(""[Symbol.iterator]()):A,"%Symbol%":Oe?Symbol:A,"%SyntaxError%":Ge,"%ThrowTypeError%":cu,"%TypedArray%":pu,"%TypeError%":Fe,"%Uint8Array%":typeof Uint8Array>"u"?A:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?A:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?A:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?A:Uint32Array,"%URIError%":su,"%WeakMap%":typeof WeakMap>"u"?A:WeakMap,"%WeakRef%":typeof WeakRef>"u"?A:WeakRef,"%WeakSet%":typeof WeakSet>"u"?A:WeakSet};if(T)try{null.error}catch(t){var gu=T(T(t));we["%Error.prototype%"]=gu}var vu=function t(e){var r;if(e==="%AsyncFunction%")r=Xt("async function () {}");else if(e==="%GeneratorFunction%")r=Xt("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Xt("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&T&&(r=T(o.prototype))}return we[e]=r,r},Tn={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ot=Hr,Pt=fi,hu=ot.call(Function.call,Array.prototype.concat),du=ot.call(Function.apply,Array.prototype.splice),Gn=ot.call(Function.call,String.prototype.replace),Et=ot.call(Function.call,String.prototype.slice),mu=ot.call(Function.call,RegExp.prototype.exec),bu=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,wu=/\\(\\)?/g,Su=function(e){var r=Et(e,0,1),n=Et(e,-1);if(r==="%"&&n!=="%")throw new Ge("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ge("invalid intrinsic syntax, expected opening `%`");var o=[];return Gn(e,bu,function(i,a,u,l){o[o.length]=u?Gn(l,wu,"$1"):a||i}),o},_u=function(e,r){var n=e,o;if(Pt(Tn,n)&&(o=Tn[n],n="%"+o[0]+"%"),Pt(we,n)){var i=we[n];if(i===Me&&(i=vu(n)),typeof i>"u"&&!r)throw new Fe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Ge("intrinsic "+e+" does not exist!")},oe=function(e,r){if(typeof e!="string"||e.length===0)throw new Fe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Fe('"allowMissing" argument must be a boolean');if(mu(/^%?[^%]*%?$/,e)===null)throw new Ge("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Su(e),o=n.length>0?n[0]:"",i=_u("%"+o+"%",r),a=i.name,u=i.value,l=!1,f=i.alias;f&&(o=f[0],du(n,hu([0,1],f)));for(var y=1,c=!0;y<n.length;y+=1){var p=n[y],s=Et(p,0,1),g=Et(p,-1);if((s==='"'||s==="'"||s==="`"||g==='"'||g==="'"||g==="`")&&s!==g)throw new Ge("property names with quotes must have matching quotes");if((p==="constructor"||!c)&&(l=!0),o+="."+p,a="%"+o+"%",Pt(we,a))u=we[a];else if(u!=null){if(!(p in u)){if(!r)throw new Fe("base intrinsic for "+e+" exists, but the property is not available.");return}if(be&&y+1>=n.length){var v=be(u,p);c=!!v,c&&"get"in v&&!("originalValue"in v.get)?u=v.get:u=u[p]}else c=Pt(u,p),u=u[p];c&&!l&&(we[a]=u)}}return u},Qt,Dn;function jr(){if(Dn)return Qt;Dn=1;var t=oe,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Qt=e,Qt}var Pu=oe,gt=Pu("%Object.getOwnPropertyDescriptor%",!0);if(gt)try{gt([],"length")}catch{gt=null}var zr=gt,Nn=jr(),Eu=ui,$e=ye,qn=zr,Jr=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new $e("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new $e("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $e("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $e("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $e("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $e("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,l=!!qn&&qn(e,r);if(Nn)Nn(e,r,{configurable:a===null&&l?l.configurable:!a,enumerable:o===null&&l?l.enumerable:!o,value:n,writable:i===null&&l?l.writable:!i});else if(u||!o&&!i&&!a)e[r]=n;else throw new Eu("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},hr=jr(),ci=function(){return!!hr};ci.hasArrayLengthDefineBug=function(){if(!hr)return null;try{return hr([],"length",{value:1}).length!==1}catch{return!0}};var Vr=ci,Au=Ur,Ou=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",$u=Object.prototype.toString,Mu=Array.prototype.concat,Un=Jr,ku=function(t){return typeof t=="function"&&$u.call(t)==="[object Function]"},yi=Vr(),Cu=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!ku(n)||!n())return}yi?Un(t,e,r,!0):Un(t,e,r)},pi=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Au(e);Ou&&(n=Mu.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)Cu(t,n[o],e[n[o]],r[n[o]])};pi.supportsDescriptors=!!yi;var _e=pi,gi={exports:{}},Fu=oe,Wn=Jr,Bu=Vr(),Hn=zr,jn=ye,Iu=Fu("%Math.floor%"),Lu=function(e,r){if(typeof e!="function")throw new jn("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Iu(r)!==r)throw new jn("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,i=!0;if("length"in e&&Hn){var a=Hn(e,"length");a&&!a.configurable&&(o=!1),a&&!a.writable&&(i=!1)}return(o||i||!n)&&(Bu?Wn(e,"length",r,!0,!0):Wn(e,"length",r)),e};(function(t){var e=Hr,r=oe,n=Lu,o=ye,i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(a,i),l=jr(),f=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new o("a function is required");var s=u(e,a,arguments);return n(s,1+f(0,p.length-(arguments.length-1)),!0)};var y=function(){return u(e,i,arguments)};l?l(t.exports,"apply",{value:y}):t.exports.apply=y})(gi);var We=gi.exports,vi=oe,hi=We,Ru=hi(vi("String.prototype.indexOf")),Y=function(e,r){var n=vi(e,!!r);return typeof n=="function"&&Ru(e,".prototype.")>-1?hi(n):n},Tu=Ur,di=Nt(),mi=Y,zn=Object,Gu=mi("Array.prototype.push"),Jn=mi("Object.prototype.propertyIsEnumerable"),Du=di?Object.getOwnPropertySymbols:null,bi=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=zn(e);if(arguments.length===1)return n;for(var o=1;o<arguments.length;++o){var i=zn(arguments[o]),a=Tu(i),u=di&&(Object.getOwnPropertySymbols||Du);if(u)for(var l=u(i),f=0;f<l.length;++f){var y=l[f];Jn(i,y)&&Gu(a,y)}for(var c=0;c<a.length;++c){var p=a[c];if(Jn(i,p)){var s=i[p];n[p]=s}}}return n},xt=bi,Nu=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return t!==i},qu=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},wi=function(){return!Object.assign||Nu()||qu()?xt:Object.assign},Uu=_e,Wu=wi,Hu=function(){var e=Wu();return Uu(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},ju=_e,zu=We,Ju=bi,Si=wi,Vu=Hu,Ku=zu.apply(Si()),_i=function(e,r){return Ku(Object,arguments)};ju(_i,{getPolyfill:Si,implementation:Ju,shim:Vu});var Zu=_i,et=function(){return typeof(function(){}).name=="string"},Xe=Object.getOwnPropertyDescriptor;if(Xe)try{Xe([],"length")}catch{Xe=null}et.functionsHaveConfigurableNames=function(){if(!et()||!Xe)return!1;var e=Xe(function(){},"name");return!!e&&!!e.configurable};var Xu=Function.prototype.bind;et.boundFunctionsHaveNames=function(){return et()&&typeof Xu=="function"&&(function(){}).bind().name!==""};var Yu=et,Vn=Jr,Qu=Vr(),xu=Yu.functionsHaveConfigurableNames(),ef=ye,tf=function(e,r){if(typeof e!="function")throw new ef("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||xu)&&(Qu?Vn(e,"name",r,!0,!0):Vn(e,"name",r)),e},rf=tf,nf=ye,of=Object,Pi=rf(function(){if(this==null||this!==of(this))throw new nf("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),af=Pi,lf=_e.supportsDescriptors,uf=Object.getOwnPropertyDescriptor,Ei=function(){if(lf&&/a/mig.flags==="gim"){var e=uf(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),r==="dy")return e.get}}return af},ff=_e.supportsDescriptors,sf=Ei,cf=Object.getOwnPropertyDescriptor,yf=Object.defineProperty,pf=TypeError,Kn=Object.getPrototypeOf,gf=/a/,vf=function(){if(!ff||!Kn)throw new pf("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=sf(),r=Kn(gf),n=cf(r,"flags");return(!n||n.get!==e)&&yf(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},hf=_e,df=We,mf=Pi,Ai=Ei,bf=vf,Oi=df(Ai());hf(Oi,{getPolyfill:Ai,implementation:mf,shim:bf});var wf=Oi,vt={exports:{}},Sf=Nt,Pe=function(){return Sf()&&!!Symbol.toStringTag},_f=Pe(),Pf=Y,dr=Pf("Object.prototype.toString"),qt=function(e){return _f&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:dr(e)==="[object Arguments]"},$i=function(e){return qt(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&dr(e)!=="[object Array]"&&dr(e.callee)==="[object Function]"},Ef=function(){return qt(arguments)}();qt.isLegacyArguments=$i;var Mi=Ef?qt:$i;const Af={},Of=Object.freeze(Object.defineProperty({__proto__:null,default:Af},Symbol.toStringTag,{value:"Module"})),$f=ll(Of);var Kr=typeof Map=="function"&&Map.prototype,er=Object.getOwnPropertyDescriptor&&Kr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,At=Kr&&er&&typeof er.get=="function"?er.get:null,Zn=Kr&&Map.prototype.forEach,Zr=typeof Set=="function"&&Set.prototype,tr=Object.getOwnPropertyDescriptor&&Zr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ot=Zr&&tr&&typeof tr.get=="function"?tr.get:null,Xn=Zr&&Set.prototype.forEach,Mf=typeof WeakMap=="function"&&WeakMap.prototype,Ye=Mf?WeakMap.prototype.has:null,kf=typeof WeakSet=="function"&&WeakSet.prototype,Qe=kf?WeakSet.prototype.has:null,Cf=typeof WeakRef=="function"&&WeakRef.prototype,Yn=Cf?WeakRef.prototype.deref:null,Ff=Boolean.prototype.valueOf,Bf=Object.prototype.toString,If=Function.prototype.toString,Lf=String.prototype.match,Xr=String.prototype.slice,ce=String.prototype.replace,Rf=String.prototype.toUpperCase,Qn=String.prototype.toLowerCase,ki=RegExp.prototype.test,xn=Array.prototype.concat,re=Array.prototype.join,Tf=Array.prototype.slice,eo=Math.floor,mr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,rr=Object.getOwnPropertySymbols,br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,De=typeof Symbol=="function"&&typeof Symbol.iterator=="object",H=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===De||"symbol")?Symbol.toStringTag:null,Ci=Object.prototype.propertyIsEnumerable,to=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function ro(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ki.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-eo(-t):eo(t);if(n!==t){var o=String(n),i=Xr.call(e,o.length+1);return ce.call(o,r,"$&_")+"."+ce.call(ce.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ce.call(e,r,"$&_")}var wr=$f,no=wr.custom,oo=Bi(no)?no:null,Gf=function t(e,r,n,o){var i=r||{};if(se(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(se(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=se(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(se(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(se(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Li(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return u?ro(e,l):l}if(typeof e=="bigint"){var f=String(e)+"n";return u?ro(e,f):f}var y=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=y&&y>0&&typeof e=="object")return Sr(e)?"[Array]":"[Object]";var c=ts(i,n);if(typeof o>"u")o=[];else if(Ii(o,e)>=0)return"[Circular]";function p(Ae,ut,el){if(ut&&(o=Tf.call(o),o.push(ut)),el){var yn={depth:i.depth};return se(i,"quoteStyle")&&(yn.quoteStyle=i.quoteStyle),t(Ae,yn,n+1,o)}return t(Ae,i,n+1,o)}if(typeof e=="function"&&!io(e)){var s=Jf(e),g=st(e,p);return"[Function"+(s?": "+s:" (anonymous)")+"]"+(g.length>0?" { "+re.call(g,", ")+" }":"")}if(Bi(e)){var v=De?ce.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):br.call(e);return typeof e=="object"&&!De?ze(v):v}if(Qf(e)){for(var m="<"+Qn.call(String(e.nodeName)),h=e.attributes||[],d=0;d<h.length;d++)m+=" "+h[d].name+"="+Fi(Df(h[d].value),"double",i);return m+=">",e.childNodes&&e.childNodes.length&&(m+="..."),m+="</"+Qn.call(String(e.nodeName))+">",m}if(Sr(e)){if(e.length===0)return"[]";var b=st(e,p);return c&&!es(b)?"["+_r(b,c)+"]":"[ "+re.call(b,", ")+" ]"}if(qf(e)){var _=st(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!Ci.call(e,"cause")?"{ ["+String(e)+"] "+re.call(xn.call("[cause]: "+p(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+re.call(_,", ")+" }"}if(typeof e=="object"&&a){if(oo&&typeof e[oo]=="function"&&wr)return wr(e,{depth:y-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Vf(e)){var w=[];return Zn&&Zn.call(e,function(Ae,ut){w.push(p(ut,e,!0)+" => "+p(Ae,e))}),ao("Map",At.call(e),w,c)}if(Xf(e)){var L=[];return Xn&&Xn.call(e,function(Ae){L.push(p(Ae,e))}),ao("Set",Ot.call(e),L,c)}if(Kf(e))return nr("WeakMap");if(Yf(e))return nr("WeakSet");if(Zf(e))return nr("WeakRef");if(Wf(e))return ze(p(Number(e)));if(jf(e))return ze(p(mr.call(e)));if(Hf(e))return ze(Ff.call(e));if(Uf(e))return ze(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof St<"u"&&e===St)return"{ [object globalThis] }";if(!Nf(e)&&!io(e)){var M=st(e,p),k=to?to(e)===Object.prototype:e instanceof Object||e.constructor===Object,G=e instanceof Object?"":"null prototype",me=!k&&H&&Object(e)===e&&H in e?Xr.call(pe(e),8,-1):G?"Object":"",xa=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Vt=xa+(me||G?"["+re.call(xn.call([],me||[],G||[]),": ")+"] ":"");return M.length===0?Vt+"{}":c?Vt+"{"+_r(M,c)+"}":Vt+"{ "+re.call(M,", ")+" }"}return String(e)};function Fi(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Df(t){return ce.call(String(t),/"/g,"&quot;")}function Sr(t){return pe(t)==="[object Array]"&&(!H||!(typeof t=="object"&&H in t))}function Nf(t){return pe(t)==="[object Date]"&&(!H||!(typeof t=="object"&&H in t))}function io(t){return pe(t)==="[object RegExp]"&&(!H||!(typeof t=="object"&&H in t))}function qf(t){return pe(t)==="[object Error]"&&(!H||!(typeof t=="object"&&H in t))}function Uf(t){return pe(t)==="[object String]"&&(!H||!(typeof t=="object"&&H in t))}function Wf(t){return pe(t)==="[object Number]"&&(!H||!(typeof t=="object"&&H in t))}function Hf(t){return pe(t)==="[object Boolean]"&&(!H||!(typeof t=="object"&&H in t))}function Bi(t){if(De)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!br)return!1;try{return br.call(t),!0}catch{}return!1}function jf(t){if(!t||typeof t!="object"||!mr)return!1;try{return mr.call(t),!0}catch{}return!1}var zf=Object.prototype.hasOwnProperty||function(t){return t in this};function se(t,e){return zf.call(t,e)}function pe(t){return Bf.call(t)}function Jf(t){if(t.name)return t.name;var e=Lf.call(If.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Ii(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Vf(t){if(!At||!t||typeof t!="object")return!1;try{At.call(t);try{Ot.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Kf(t){if(!Ye||!t||typeof t!="object")return!1;try{Ye.call(t,Ye);try{Qe.call(t,Qe)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Zf(t){if(!Yn||!t||typeof t!="object")return!1;try{return Yn.call(t),!0}catch{}return!1}function Xf(t){if(!Ot||!t||typeof t!="object")return!1;try{Ot.call(t);try{At.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Yf(t){if(!Qe||!t||typeof t!="object")return!1;try{Qe.call(t,Qe);try{Ye.call(t,Ye)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Qf(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Li(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Li(Xr.call(t,0,e.maxStringLength),e)+n}var o=ce.call(ce.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,xf);return Fi(o,"single",e)}function xf(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Rf.call(e.toString(16))}function ze(t){return"Object("+t+")"}function nr(t){return t+" { ? }"}function ao(t,e,r,n){var o=n?_r(r,n):re.call(r,", ");return t+" ("+e+") {"+o+"}"}function es(t){for(var e=0;e<t.length;e++)if(Ii(t[e],`
`)>=0)return!1;return!0}function ts(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=re.call(Array(t.indent+1)," ");else return null;return{base:r,prev:re.call(Array(e+1),r)}}function _r(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+re.call(t,","+r)+`
`+e.prev}function st(t,e){var r=Sr(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=se(t,o)?e(t[o],t):""}var i=typeof rr=="function"?rr(t):[],a;if(De){a={};for(var u=0;u<i.length;u++)a["$"+i[u]]=i[u]}for(var l in t)se(t,l)&&(r&&String(Number(l))===l&&l<t.length||De&&a["$"+l]instanceof Symbol||(ki.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof rr=="function")for(var f=0;f<i.length;f++)Ci.call(t,i[f])&&n.push("["+e(i[f])+"]: "+e(t[i[f]],t));return n}var Ri=oe,He=Y,rs=Gf,ns=ye,ct=Ri("%WeakMap%",!0),yt=Ri("%Map%",!0),os=He("WeakMap.prototype.get",!0),is=He("WeakMap.prototype.set",!0),as=He("WeakMap.prototype.has",!0),ls=He("Map.prototype.get",!0),us=He("Map.prototype.set",!0),fs=He("Map.prototype.has",!0),Yr=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},ss=function(t,e){var r=Yr(t,e);return r&&r.value},cs=function(t,e,r){var n=Yr(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},ys=function(t,e){return!!Yr(t,e)},Ti=function(){var e,r,n,o={assert:function(i){if(!o.has(i))throw new ns("Side channel does not contain "+rs(i))},get:function(i){if(ct&&i&&(typeof i=="object"||typeof i=="function")){if(e)return os(e,i)}else if(yt){if(r)return ls(r,i)}else if(n)return ss(n,i)},has:function(i){if(ct&&i&&(typeof i=="object"||typeof i=="function")){if(e)return as(e,i)}else if(yt){if(r)return fs(r,i)}else if(n)return ys(n,i);return!1},set:function(i,a){ct&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new ct),is(e,i,a)):yt?(r||(r=new yt),us(r,i,a)):(n||(n={key:{},next:null}),cs(n,i,a))}};return o},ps=fi,Je=Ti(),ae=ye,Qr={assert:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new ae("`O` is not an object");if(typeof e!="string")throw new ae("`slot` must be a string");if(Je.assert(t),!Qr.has(t,e))throw new ae("`"+e+"` is not present on `O`")},get:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new ae("`O` is not an object");if(typeof e!="string")throw new ae("`slot` must be a string");var r=Je.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new ae("`O` is not an object");if(typeof e!="string")throw new ae("`slot` must be a string");var r=Je.get(t);return!!r&&ps(r,"$"+e)},set:function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new ae("`O` is not an object");if(typeof e!="string")throw new ae("`slot` must be a string");var n=Je.get(t);n||(n={},Je.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(Qr);var gs=Qr,Ve=gs,vs=SyntaxError,lo=typeof StopIteration=="object"?StopIteration:null,hs=function(e){if(!lo)throw new vs("this environment lacks StopIteration");Ve.set(e,"[[Done]]",!1);var r={next:function(){var o=Ve.get(this,"[[Iterator]]"),i=Ve.get(o,"[[Done]]");try{return{done:i,value:i?void 0:o.next()}}catch(a){if(Ve.set(o,"[[Done]]",!0),a!==lo)throw a;return{done:!0,value:void 0}}}};return Ve.set(r,"[[Iterator]]",e),r},ds={}.toString,Gi=Array.isArray||function(t){return ds.call(t)=="[object Array]"},ms=String.prototype.valueOf,bs=function(e){try{return ms.call(e),!0}catch{return!1}},ws=Object.prototype.toString,Ss="[object String]",_s=Pe(),Di=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:_s?bs(e):ws.call(e)===Ss},xr=typeof Map=="function"&&Map.prototype?Map:null,Ps=typeof Set=="function"&&Set.prototype?Set:null,$t;xr||($t=function(e){return!1});var Ni=xr?Map.prototype.has:null,uo=Ps?Set.prototype.has:null;!$t&&!Ni&&($t=function(e){return!1});var qi=$t||function(e){if(!e||typeof e!="object")return!1;try{if(Ni.call(e),uo)try{uo.call(e)}catch{return!0}return e instanceof xr}catch{}return!1},Es=typeof Map=="function"&&Map.prototype?Map:null,en=typeof Set=="function"&&Set.prototype?Set:null,Mt;en||(Mt=function(e){return!1});var fo=Es?Map.prototype.has:null,Ui=en?Set.prototype.has:null;!Mt&&!Ui&&(Mt=function(e){return!1});var Wi=Mt||function(e){if(!e||typeof e!="object")return!1;try{if(Ui.call(e),fo)try{fo.call(e)}catch{return!0}return e instanceof en}catch{}return!1},so=Mi,co=hs;if(Wr()||Nt()){var or=Symbol.iterator;vt.exports=function(e){if(e!=null&&typeof e[or]<"u")return e[or]();if(so(e))return Array.prototype[or].call(e)}}else{var As=Gi,Os=Di,yo=oe,$s=yo("%Map%",!0),Ms=yo("%Set%",!0),x=Y,po=x("Array.prototype.push"),go=x("String.prototype.charCodeAt"),ks=x("String.prototype.slice"),Cs=function(e,r){var n=e.length;if(r+1>=n)return r+1;var o=go(e,r);if(o<55296||o>56319)return r+1;var i=go(e,r+1);return i<56320||i>57343?r+1:r+2},ir=function(e){var r=0;return{next:function(){var o=r>=e.length,i;return o||(i=e[r],r+=1),{done:o,value:i}}}},vo=function(e,r){if(As(e)||so(e))return ir(e);if(Os(e)){var n=0;return{next:function(){var i=Cs(e,n),a=ks(e,n,i);return n=i,{done:i>e.length,value:a}}}}if(r&&typeof e["_es6-shim iterator_"]<"u")return e["_es6-shim iterator_"]()};if(!$s&&!Ms)vt.exports=function(e){if(e!=null)return vo(e,!0)};else{var Fs=qi,Bs=Wi,ho=x("Map.prototype.forEach",!0),mo=x("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var bo=x("Map.prototype.iterator",!0),wo=x("Set.prototype.iterator",!0);var So=x("Map.prototype.@@iterator",!0)||x("Map.prototype._es6-shim iterator_",!0),_o=x("Set.prototype.@@iterator",!0)||x("Set.prototype._es6-shim iterator_",!0),Is=function(e){if(Fs(e)){if(bo)return co(bo(e));if(So)return So(e);if(ho){var r=[];return ho(e,function(o,i){po(r,[i,o])}),ir(r)}}if(Bs(e)){if(wo)return co(wo(e));if(_o)return _o(e);if(mo){var n=[];return mo(e,function(o){po(n,o)}),ir(n)}}};vt.exports=function(e){return Is(e)||vo(e)}}}var Ls=vt.exports,Po=function(t){return t!==t},Hi=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||Po(e)&&Po(r))},Rs=Hi,ji=function(){return typeof Object.is=="function"?Object.is:Rs},Ts=ji,Gs=_e,Ds=function(){var e=Ts();return Gs(Object,{is:e},{is:function(){return Object.is!==e}}),e},Ns=_e,qs=We,Us=Hi,zi=ji,Ws=Ds,Ji=qs(zi(),Object);Ns(Ji,{getPolyfill:zi,implementation:Us,shim:Ws});var Hs=Ji,js=We,Vi=Y,zs=oe,Pr=zs("%ArrayBuffer%",!0),ht=Vi("ArrayBuffer.prototype.byteLength",!0),Js=Vi("Object.prototype.toString"),Eo=!!Pr&&!ht&&new Pr(0).slice,Ao=!!Eo&&js(Eo),Ki=ht||Ao?function(e){if(!e||typeof e!="object")return!1;try{return ht?ht(e):Ao(e,0),!0}catch{return!1}}:Pr?function(e){return Js(e)==="[object ArrayBuffer]"}:function(e){return!1},Vs=Date.prototype.getDay,Ks=function(e){try{return Vs.call(e),!0}catch{return!1}},Zs=Object.prototype.toString,Xs="[object Date]",Ys=Pe(),Qs=function(e){return typeof e!="object"||e===null?!1:Ys?Ks(e):Zs.call(e)===Xs},Er=Y,Zi=Pe(),Xi,Yi,Ar,Or;if(Zi){Xi=Er("Object.prototype.hasOwnProperty"),Yi=Er("RegExp.prototype.exec"),Ar={};var ar=function(){throw Ar};Or={toString:ar,valueOf:ar},typeof Symbol.toPrimitive=="symbol"&&(Or[Symbol.toPrimitive]=ar)}var xs=Er("Object.prototype.toString"),ec=Object.getOwnPropertyDescriptor,tc="[object RegExp]",rc=Zi?function(e){if(!e||typeof e!="object")return!1;var r=ec(e,"lastIndex"),n=r&&Xi(r,"value");if(!n)return!1;try{Yi(e,Or)}catch(o){return o===Ar}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:xs(e)===tc},nc=Y,Oo=nc("SharedArrayBuffer.prototype.byteLength",!0),oc=Oo?function(e){if(!e||typeof e!="object")return!1;try{return Oo(e),!0}catch{return!1}}:function(e){return!1},ic=Number.prototype.toString,ac=function(e){try{return ic.call(e),!0}catch{return!1}},lc=Object.prototype.toString,uc="[object Number]",fc=Pe(),sc=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:fc?ac(e):lc.call(e)===uc},Qi=Y,cc=Qi("Boolean.prototype.toString"),yc=Qi("Object.prototype.toString"),pc=function(e){try{return cc(e),!0}catch{return!1}},gc="[object Boolean]",vc=Pe(),hc=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:vc&&Symbol.toStringTag in e?pc(e):yc(e)===gc},$r={exports:{}},dc=Object.prototype.toString,mc=Wr();if(mc){var bc=Symbol.prototype.toString,wc=/^Symbol\(.*\)$/,Sc=function(e){return typeof e.valueOf()!="symbol"?!1:wc.test(bc.call(e))};$r.exports=function(e){if(typeof e=="symbol")return!0;if(dc.call(e)!=="[object Symbol]")return!1;try{return Sc(e)}catch{return!1}}}else $r.exports=function(e){return!1};var _c=$r.exports,Mr={exports:{}},$o=typeof BigInt<"u"&&BigInt,Pc=function(){return typeof $o=="function"&&typeof BigInt=="function"&&typeof $o(42)=="bigint"&&typeof BigInt(42)=="bigint"},Ec=Pc();if(Ec){var Ac=BigInt.prototype.valueOf,Oc=function(e){try{return Ac.call(e),!0}catch{}return!1};Mr.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:Oc(e)}}else Mr.exports=function(e){return!1};var $c=Mr.exports,Mc=Di,kc=sc,Cc=hc,Fc=_c,Bc=$c,Ic=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if(Mc(e))return"String";if(kc(e))return"Number";if(Cc(e))return"Boolean";if(Fc(e))return"Symbol";if(Bc(e))return"BigInt"},kt=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,Mo=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,Ct;kt||(Ct=function(e){return!1});var kr=kt?kt.prototype.has:null,lr=Mo?Mo.prototype.has:null;!Ct&&!kr&&(Ct=function(e){return!1});var Lc=Ct||function(e){if(!e||typeof e!="object")return!1;try{if(kr.call(e,kr),lr)try{lr.call(e,lr)}catch{return!0}return e instanceof kt}catch{}return!1},Cr={exports:{}},Rc=oe,xi=Y,Tc=Rc("%WeakSet%",!0),ur=xi("WeakSet.prototype.has",!0);if(ur){var fr=xi("WeakMap.prototype.has",!0);Cr.exports=function(e){if(!e||typeof e!="object")return!1;try{if(ur(e,ur),fr)try{fr(e,fr)}catch{return!0}return e instanceof Tc}catch{}return!1}}else Cr.exports=function(e){return!1};var Gc=Cr.exports,Dc=qi,Nc=Wi,qc=Lc,Uc=Gc,Wc=function(e){if(e&&typeof e=="object"){if(Dc(e))return"Map";if(Nc(e))return"Set";if(qc(e))return"WeakMap";if(Uc(e))return"WeakSet"}return!1},ea=Function.prototype.toString,ke=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Fr,dt;if(typeof ke=="function"&&typeof Object.defineProperty=="function")try{Fr=Object.defineProperty({},"length",{get:function(){throw dt}}),dt={},ke(function(){throw 42},null,Fr)}catch(t){t!==dt&&(ke=null)}else ke=null;var Hc=/^\s*class\b/,Br=function(e){try{var r=ea.call(e);return Hc.test(r)}catch{return!1}},sr=function(e){try{return Br(e)?!1:(ea.call(e),!0)}catch{return!1}},mt=Object.prototype.toString,jc="[object Object]",zc="[object Function]",Jc="[object GeneratorFunction]",Vc="[object HTMLAllCollection]",Kc="[object HTML document.all class]",Zc="[object HTMLCollection]",Xc=typeof Symbol=="function"&&!!Symbol.toStringTag,Yc=!(0 in[,]),Ir=function(){return!1};if(typeof document=="object"){var Qc=document.all;mt.call(Qc)===mt.call(document.all)&&(Ir=function(e){if((Yc||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=mt.call(e);return(r===Vc||r===Kc||r===Zc||r===jc)&&e("")==null}catch{}return!1})}var xc=ke?function(e){if(Ir(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{ke(e,null,Fr)}catch(r){if(r!==dt)return!1}return!Br(e)&&sr(e)}:function(e){if(Ir(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Xc)return sr(e);if(Br(e))return!1;var r=mt.call(e);return r!==zc&&r!==Jc&&!/^\[object HTML/.test(r)?!1:sr(e)},ey=xc,ty=Object.prototype.toString,ta=Object.prototype.hasOwnProperty,ry=function(e,r,n){for(var o=0,i=e.length;o<i;o++)ta.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},ny=function(e,r,n){for(var o=0,i=e.length;o<i;o++)n==null?r(e.charAt(o),o,e):r.call(n,e.charAt(o),o,e)},oy=function(e,r,n){for(var o in e)ta.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},iy=function(e,r,n){if(!ey(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),ty.call(e)==="[object Array]"?ry(e,r,o):typeof e=="string"?ny(e,r,o):oy(e,r,o)},ay=iy,ly=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],cr=ly,uy=typeof globalThis>"u"?St:globalThis,fy=function(){for(var e=[],r=0;r<cr.length;r++)typeof uy[cr[r]]=="function"&&(e[e.length]=cr[r]);return e},Ft=ay,sy=fy,ko=We,tn=Y,bt=zr,cy=tn("Object.prototype.toString"),ra=Pe(),Co=typeof globalThis>"u"?St:globalThis,Lr=sy(),rn=tn("String.prototype.slice"),yr=Object.getPrototypeOf,yy=tn("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Bt={__proto__:null};ra&&bt&&yr?Ft(Lr,function(t){var e=new Co[t];if(Symbol.toStringTag in e){var r=yr(e),n=bt(r,Symbol.toStringTag);if(!n){var o=yr(r);n=bt(o,Symbol.toStringTag)}Bt["$"+t]=ko(n.get)}}):Ft(Lr,function(t){var e=new Co[t],r=e.slice||e.set;r&&(Bt["$"+t]=ko(r))});var py=function(e){var r=!1;return Ft(Bt,function(n,o){if(!r)try{"$"+n(e)===o&&(r=rn(o,1))}catch{}}),r},gy=function(e){var r=!1;return Ft(Bt,function(n,o){if(!r)try{n(e),r=rn(o,1)}catch{}}),r},vy=function(e){if(!e||typeof e!="object")return!1;if(!ra){var r=rn(cy(e),8,-1);return yy(Lr,r)>-1?r:r!=="Object"?!1:gy(e)}return bt?py(e):null},hy=Y,Fo=hy("ArrayBuffer.prototype.byteLength",!0),dy=Ki,my=function(e){return dy(e)?Fo?Fo(e):e.byteLength:NaN},na=Zu,ie=Y,Bo=wf,by=oe,Ne=Ls,wy=Ti,Io=Hs,Lo=Mi,Ro=Gi,To=Ki,Go=Qs,Do=rc,No=oc,qo=Ur,Uo=Ic,Wo=Wc,Ho=vy,jo=my,zo=ie("SharedArrayBuffer.prototype.byteLength",!0),Jo=ie("Date.prototype.getTime"),pr=Object.getPrototypeOf,Vo=ie("Object.prototype.toString"),It=by("%Set%",!0),Rr=ie("Map.prototype.has",!0),Lt=ie("Map.prototype.get",!0),Ko=ie("Map.prototype.size",!0),Rt=ie("Set.prototype.add",!0),oa=ie("Set.prototype.delete",!0),Tt=ie("Set.prototype.has",!0),wt=ie("Set.prototype.size",!0);function Zo(t,e,r,n){for(var o=Ne(t),i;(i=o.next())&&!i.done;)if(ee(e,i.value,r,n))return oa(t,i.value),!0;return!1}function ia(t){if(typeof t>"u")return null;if(typeof t!="object")return typeof t=="symbol"?!1:typeof t=="string"||typeof t=="number"?+t==+t:!0}function Sy(t,e,r,n,o,i){var a=ia(r);if(a!=null)return a;var u=Lt(e,a),l=na({},o,{strict:!1});return typeof u>"u"&&!Rr(e,a)||!ee(n,u,l,i)?!1:!Rr(t,a)&&ee(n,u,l,i)}function _y(t,e,r){var n=ia(r);return n??(Tt(e,n)&&!Tt(t,n))}function Xo(t,e,r,n,o,i){for(var a=Ne(t),u,l;(u=a.next())&&!u.done;)if(l=u.value,ee(r,l,o,i)&&ee(n,Lt(e,l),o,i))return oa(t,l),!0;return!1}function ee(t,e,r,n){var o=r||{};if(o.strict?Io(t,e):t===e)return!0;var i=Uo(t),a=Uo(e);if(i!==a)return!1;if(!t||!e||typeof t!="object"&&typeof e!="object")return o.strict?Io(t,e):t==e;var u=n.has(t),l=n.has(e),f;if(u&&l){if(n.get(t)===n.get(e))return!0}else f={};return u||n.set(t,f),l||n.set(e,f),Ay(t,e,o,n)}function Yo(t){return!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Py(t,e,r,n){if(wt(t)!==wt(e))return!1;for(var o=Ne(t),i=Ne(e),a,u,l;(a=o.next())&&!a.done;)if(a.value&&typeof a.value=="object")l||(l=new It),Rt(l,a.value);else if(!Tt(e,a.value)){if(r.strict||!_y(t,e,a.value))return!1;l||(l=new It),Rt(l,a.value)}if(l){for(;(u=i.next())&&!u.done;)if(u.value&&typeof u.value=="object"){if(!Zo(l,u.value,r.strict,n))return!1}else if(!r.strict&&!Tt(t,u.value)&&!Zo(l,u.value,r.strict,n))return!1;return wt(l)===0}return!0}function Ey(t,e,r,n){if(Ko(t)!==Ko(e))return!1;for(var o=Ne(t),i=Ne(e),a,u,l,f,y,c;(a=o.next())&&!a.done;)if(f=a.value[0],y=a.value[1],f&&typeof f=="object")l||(l=new It),Rt(l,f);else if(c=Lt(e,f),typeof c>"u"&&!Rr(e,f)||!ee(y,c,r,n)){if(r.strict||!Sy(t,e,f,y,r,n))return!1;l||(l=new It),Rt(l,f)}if(l){for(;(u=i.next())&&!u.done;)if(f=u.value[0],c=u.value[1],f&&typeof f=="object"){if(!Xo(l,t,f,c,r,n))return!1}else if(!r.strict&&(!t.has(f)||!ee(Lt(t,f),c,r,n))&&!Xo(l,t,f,c,na({},r,{strict:!1}),n))return!1;return wt(l)===0}return!0}function Ay(t,e,r,n){var o,i;if(typeof t!=typeof e||t==null||e==null||Vo(t)!==Vo(e)||Lo(t)!==Lo(e))return!1;var a=Ro(t),u=Ro(e);if(a!==u)return!1;var l=t instanceof Error,f=e instanceof Error;if(l!==f||(l||f)&&(t.name!==e.name||t.message!==e.message))return!1;var y=Do(t),c=Do(e);if(y!==c||(y||c)&&(t.source!==e.source||Bo(t)!==Bo(e)))return!1;var p=Go(t),s=Go(e);if(p!==s||(p||s)&&Jo(t)!==Jo(e)||r.strict&&pr&&pr(t)!==pr(e))return!1;var g=Ho(t),v=Ho(e);if(g!==v)return!1;if(g||v){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var m=Yo(t),h=Yo(e);if(m!==h)return!1;if(m||h){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var d=To(t),b=To(e);if(d!==b)return!1;if(d||b)return jo(t)!==jo(e)?!1:typeof Uint8Array=="function"&&ee(new Uint8Array(t),new Uint8Array(e),r,n);var _=No(t),w=No(e);if(_!==w)return!1;if(_||w)return zo(t)!==zo(e)?!1:typeof Uint8Array=="function"&&ee(new Uint8Array(t),new Uint8Array(e),r,n);if(typeof t!=typeof e)return!1;var L=qo(t),M=qo(e);if(L.length!==M.length)return!1;for(L.sort(),M.sort(),o=L.length-1;o>=0;o--)if(L[o]!=M[o])return!1;for(o=L.length-1;o>=0;o--)if(i=L[o],!ee(t[i],e[i],r,n))return!1;var k=Wo(t),G=Wo(e);return k!==G?!1:k==="Set"||G==="Set"?Py(t,e,r,n):k==="Map"?Ey(t,e,r,n):!0}var Oy=function(e,r,n){return ee(e,r,n,wy())};const $y=ul(Oy);var My=Object.defineProperty,$=(t,e)=>My(t,"name",{value:e,configurable:!0}),ky=class{constructor(e){this.direction=!1,this.compareProperties=!0;var r,n,o;this.precision=10**-((r=e==null?void 0:e.precision)!=null?r:17),this.direction=(n=e==null?void 0:e.direction)!=null?n:!1,this.compareProperties=(o=e==null?void 0:e.compareProperties)!=null?o:!0}compare(e,r){if(e.type!==r.type||!Ke(e,r))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,r.coordinates);case"LineString":return this.compareLine(e.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(e,r);case"GeometryCollection":return this.compareGeometryCollection(e,r);case"Feature":return this.compareFeature(e,r);case"FeatureCollection":return this.compareFeatureCollection(e,r);default:if(e.type.startsWith("Multi")){const n=Tr(e),o=Tr(r);return n.every(i=>o.some(a=>this.compare(i,a)))}}return!1}compareCoord(e,r){return e.length===r.length&&e.every((n,o)=>Math.abs(n-r[o])<this.precision)}compareLine(e,r,n=0,o=!1){if(!Ke(e,r))return!1;const i=e;let a=r;if(o&&!this.compareCoord(i[0],a[0])){const l=this.fixStartIndex(a,i);if(l)a=l;else return!1}const u=this.compareCoord(i[n],a[n]);return this.direction||u?this.comparePath(i,a):this.compareCoord(i[n],a[a.length-(1+n)])?this.comparePath(i.slice().reverse(),a):!1}fixStartIndex(e,r){let n,o=-1;for(let i=0;i<e.length;i++)if(this.compareCoord(e[i],r[0])){o=i;break}return o>=0&&(n=[].concat(e.slice(o,e.length),e.slice(1,o+1))),n}comparePath(e,r){return e.every((n,o)=>this.compareCoord(n,r[o]))}comparePolygon(e,r){if(this.compareLine(e.coordinates[0],r.coordinates[0],1,!0)){const n=e.coordinates.slice(1,e.coordinates.length),o=r.coordinates.slice(1,r.coordinates.length);return n.every(i=>o.some(a=>this.compareLine(i,a,1,!0)))}return!1}compareGeometryCollection(e,r){return Ke(e.geometries,r.geometries)&&this.compareBBox(e,r)&&e.geometries.every((n,o)=>this.compare(n,r.geometries[o]))}compareFeature(e,r){return e.id===r.id&&(this.compareProperties?$y(e.properties,r.properties):!0)&&this.compareBBox(e,r)&&this.compare(e.geometry,r.geometry)}compareFeatureCollection(e,r){return Ke(e.features,r.features)&&this.compareBBox(e,r)&&e.features.every((n,o)=>this.compare(n,r.features[o]))}compareBBox(e,r){return!e.bbox&&!r.bbox||(e.bbox&&r.bbox?this.compareCoord(e.bbox,r.bbox):!1)}};$(ky,"GeojsonEquality");function Ke(t,e){return t.coordinates?t.coordinates.length===e.coordinates.length:t.length===e.length}$(Ke,"sameLength");function Tr(t){return t.coordinates.map(e=>({type:t.type.replace("Multi",""),coordinates:e}))}$(Tr,"explode");var j=63710088e-1,aa={centimeters:j*100,centimetres:j*100,degrees:360/(2*Math.PI),feet:j*3.28084,inches:j*39.37,kilometers:j/1e3,kilometres:j/1e3,meters:j,metres:j,miles:j/1609.344,millimeters:j*1e3,millimetres:j*1e3,nauticalmiles:j/1852,radians:1,yards:j*1.0936},Qo={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function K(t,e,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}$(K,"feature");function Cy(t,e,r={}){switch(t){case"Point":return C(e).geometry;case"LineString":return F(e).geometry;case"Polygon":return nn(e).geometry;case"MultiPoint":return ua(e).geometry;case"MultiLineString":return la(e).geometry;case"MultiPolygon":return fa(e).geometry;default:throw new Error(t+" is invalid")}}$(Cy,"geometry");function C(t,e,r={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!X(t[0])||!X(t[1]))throw new Error("coordinates must contain numbers");return K({type:"Point",coordinates:t},e,r)}$(C,"point");function Fy(t,e,r={}){return Ut(t.map(n=>C(n,e)),r)}$(Fy,"points");function nn(t,e,r={}){for(const o of t){if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(o[o.length-1].length!==o[0].length)throw new Error("First and last Position are not equivalent.");for(let i=0;i<o[o.length-1].length;i++)if(o[o.length-1][i]!==o[0][i])throw new Error("First and last Position are not equivalent.")}return K({type:"Polygon",coordinates:t},e,r)}$(nn,"polygon");function By(t,e,r={}){return Ut(t.map(n=>nn(n,e)),r)}$(By,"polygons");function F(t,e,r={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return K({type:"LineString",coordinates:t},e,r)}$(F,"lineString");function Iy(t,e,r={}){return Ut(t.map(n=>F(n,e)),r)}$(Iy,"lineStrings");function Ut(t,e={}){const r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}$(Ut,"featureCollection");function la(t,e,r={}){return K({type:"MultiLineString",coordinates:t},e,r)}$(la,"multiLineString");function ua(t,e,r={}){return K({type:"MultiPoint",coordinates:t},e,r)}$(ua,"multiPoint");function fa(t,e,r={}){return K({type:"MultiPolygon",coordinates:t},e,r)}$(fa,"multiPolygon");function Ly(t,e,r={}){return K({type:"GeometryCollection",geometries:t},e,r)}$(Ly,"geometryCollection");function Ry(t,e=0){if(e&&!(e>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,e||0);return Math.round(t*r)/r}$(Ry,"round");function on(t,e="kilometers"){const r=aa[e];if(!r)throw new Error(e+" units is invalid");return t*r}$(on,"radiansToLength");function an(t,e="kilometers"){const r=aa[e];if(!r)throw new Error(e+" units is invalid");return t/r}$(an,"lengthToRadians");function Ty(t,e){return sa(an(t,e))}$(Ty,"lengthToDegrees");function Gy(t){let e=t%360;return e<0&&(e+=360),e}$(Gy,"bearingToAzimuth");function sa(t){return t%(2*Math.PI)*180/Math.PI}$(sa,"radiansToDegrees");function Ze(t){return t%360*Math.PI/180}$(Ze,"degreesToRadians");function Dy(t,e="kilometers",r="kilometers"){if(!(t>=0))throw new Error("length must be a positive number");return on(an(t,e),r)}$(Dy,"convertLength");function Ny(t,e="meters",r="kilometers"){if(!(t>=0))throw new Error("area must be a positive number");const n=Qo[e];if(!n)throw new Error("invalid original units");const o=Qo[r];if(!o)throw new Error("invalid final units");return t/n*o}$(Ny,"convertArea");function X(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}$(X,"isNumber");function Ee(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}$(Ee,"isObject");function qy(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(t.length!==4&&t.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(e=>{if(!X(e))throw new Error("bbox must only contain numbers")})}$(qy,"validateBBox");function Uy(t){if(!t)throw new Error("id is required");if(["string","number"].indexOf(typeof t)===-1)throw new Error("id must be a number or a string")}$(Uy,"validateId");var Wy=Object.defineProperty,N=(t,e)=>Wy(t,"name",{value:e,configurable:!0});function it(t,e,r){if(t!==null)for(var n,o,i,a,u,l,f,y=0,c=0,p,s=t.type,g=s==="FeatureCollection",v=s==="Feature",m=g?t.features.length:1,h=0;h<m;h++){f=g?t.features[h].geometry:v?t.geometry:t,p=f?f.type==="GeometryCollection":!1,u=p?f.geometries.length:1;for(var d=0;d<u;d++){var b=0,_=0;if(a=p?f.geometries[d]:f,a!==null){l=a.coordinates;var w=a.type;switch(y=r&&(w==="Polygon"||w==="MultiPolygon")?1:0,w){case null:break;case"Point":if(e(l,c,h,b,_)===!1)return!1;c++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(e(l[n],c,h,b,_)===!1)return!1;c++,w==="MultiPoint"&&b++}w==="LineString"&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-y;o++){if(e(l[n][o],c,h,b,_)===!1)return!1;c++}w==="MultiLineString"&&b++,w==="Polygon"&&_++}w==="Polygon"&&b++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-y;i++){if(e(l[n][o][i],c,h,b,_)===!1)return!1;c++}_++}b++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(it(a.geometries[n],e,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}N(it,"coordEach");function Hy(t,e,r,n){var o=r;return it(t,function(i,a,u,l,f){a===0&&r===void 0?o=i:o=e(o,i,a,u,l,f)},n),o}N(Hy,"coordReduce");function ca(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&e(t.features[r].properties,r)!==!1;r++);break;case"Feature":e(t.properties,0);break}}N(ca,"propEach");function jy(t,e,r){var n=r;return ca(t,function(o,i){i===0&&r===void 0?n=o:n=e(n,o,i)}),n}N(jy,"propReduce");function ya(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var r=0;r<t.features.length&&e(t.features[r],r)!==!1;r++);}N(ya,"featureEach");function zy(t,e,r){var n=r;return ya(t,function(o,i){i===0&&r===void 0?n=o:n=e(n,o,i)}),n}N(zy,"featureReduce");function Jy(t){var e=[];return it(t,function(r){e.push(r)}),e}N(Jy,"coordAll");function ln(t,e){var r,n,o,i,a,u,l,f,y,c,p=0,s=t.type==="FeatureCollection",g=t.type==="Feature",v=s?t.features.length:1;for(r=0;r<v;r++){for(u=s?t.features[r].geometry:g?t.geometry:t,f=s?t.features[r].properties:g?t.properties:{},y=s?t.features[r].bbox:g?t.bbox:void 0,c=s?t.features[r].id:g?t.id:void 0,l=u?u.type==="GeometryCollection":!1,a=l?u.geometries.length:1,o=0;o<a;o++){if(i=l?u.geometries[o]:u,i===null){if(e(null,p,f,y,c)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(i,p,f,y,c)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(e(i.geometries[n],p,f,y,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}p++}}N(ln,"geomEach");function pa(t,e,r){var n=r;return ln(t,function(o,i,a,u,l){i===0&&r===void 0?n=o:n=e(n,o,i,a,u,l)}),n}N(pa,"geomReduce");function Wt(t,e){ln(t,function(r,n,o,i,a){var u=r===null?null:r.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return e(K(r,o,{bbox:i,id:a}),n,0)===!1?!1:void 0}var l;switch(u){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var f=0;f<r.coordinates.length;f++){var y=r.coordinates[f],c={type:l,coordinates:y};if(e(K(c,o),n,f)===!1)return!1}})}N(Wt,"flattenEach");function Vy(t,e,r){var n=r;return Wt(t,function(o,i,a){i===0&&a===0&&r===void 0?n=o:n=e(n,o,i,a)}),n}N(Vy,"flattenReduce");function ga(t,e){Wt(t,function(r,n,o){var i=0;if(r.geometry){var a=r.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var u,l=0,f=0,y=0;if(it(r,function(c,p,s,g,v){if(u===void 0||n>l||g>f||v>y){u=c,l=n,f=g,y=v,i=0;return}var m=F([u,c],r.properties);if(e(m,n,o,v,i)===!1)return!1;i++,u=c})===!1)return!1}}})}N(ga,"segmentEach");function Ky(t,e,r){var n=r,o=!1;return ga(t,function(i,a,u,l,f){o===!1&&r===void 0?n=i:n=e(n,i,a,u,l,f),o=!0}),n}N(Ky,"segmentReduce");function va(t,e){if(!t)throw new Error("geojson is required");Wt(t,function(r,n,o){if(r.geometry!==null){var i=r.geometry.type,a=r.geometry.coordinates;switch(i){case"LineString":if(e(r,n,o,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<a.length;u++)if(e(F(a[u],r.properties),n,o,u)===!1)return!1;break}}})}N(va,"lineEach");function Zy(t,e,r){var n=r;return va(t,function(o,i,a,u){i===0&&r===void 0?n=o:n=e(n,o,i,a,u)}),n}N(Zy,"lineReduce");function Xy(t,e){if(e=e||{},!Ee(e))throw new Error("options is invalid");var r=e.featureIndex||0,n=e.multiFeatureIndex||0,o=e.geometryIndex||0,i=e.segmentIndex||0,a=e.properties,u;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,u=t.features[r].geometry;break;case"Feature":a=a||t.properties,u=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=t;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var l=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return i<0&&(i=l.length+i-1),F([l[i],l[i+1]],a,e);case"Polygon":return o<0&&(o=l.length+o),i<0&&(i=l[o].length+i-1),F([l[o][i],l[o][i+1]],a,e);case"MultiLineString":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i-1),F([l[n][i],l[n][i+1]],a,e);case"MultiPolygon":return n<0&&(n=l.length+n),o<0&&(o=l[n].length+o),i<0&&(i=l[n][o].length-i-1),F([l[n][o][i],l[n][o][i+1]],a,e)}throw new Error("geojson is invalid")}N(Xy,"findSegment");function Yy(t,e){if(e=e||{},!Ee(e))throw new Error("options is invalid");var r=e.featureIndex||0,n=e.multiFeatureIndex||0,o=e.geometryIndex||0,i=e.coordIndex||0,a=e.properties,u;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,u=t.features[r].geometry;break;case"Feature":a=a||t.properties,u=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=t;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var l=u.coordinates;switch(u.type){case"Point":return C(l,a,e);case"MultiPoint":return n<0&&(n=l.length+n),C(l[n],a,e);case"LineString":return i<0&&(i=l.length+i),C(l[i],a,e);case"Polygon":return o<0&&(o=l.length+o),i<0&&(i=l[o].length+i),C(l[o][i],a,e);case"MultiLineString":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i),C(l[n][i],a,e);case"MultiPolygon":return n<0&&(n=l.length+n),o<0&&(o=l[n].length+o),i<0&&(i=l[n][o].length-i),C(l[n][o][i],a,e)}throw new Error("geojson is invalid")}N(Yy,"findPoint");var Qy=Object.defineProperty,Ht=(t,e)=>Qy(t,"name",{value:e,configurable:!0});function ha(t){return pa(t,(e,r)=>e+da(r),0)}Ht(ha,"area");function da(t){let e=0,r;switch(t.type){case"Polygon":return Gr(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)e+=Gr(t.coordinates[r]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}Ht(da,"calculateArea");function Gr(t){let e=0;if(t&&t.length>0){e+=Math.abs(Dr(t[0]));for(let r=1;r<t.length;r++)e-=Math.abs(Dr(t[r]))}return e}Ht(Gr,"polygonArea");var xy=j*j/2,gr=Math.PI/180;function Dr(t){const e=t.length;if(e<=2)return 0;let r=0,n=0;for(;n<e;){const o=t[n],i=t[n+1===e?0:n+1],a=t[n+2>=e?(n+2)%e:n+2],u=o[0]*gr,l=i[1]*gr,f=a[0]*gr;r+=(f-u)*Math.sin(l),n++}return r*xy}Ht(Dr,"ringArea");var xo=ha,ep=Object.defineProperty,q=(t,e)=>ep(t,"name",{value:e,configurable:!0});function je(t,e,r){if(t!==null)for(var n,o,i,a,u,l,f,y=0,c=0,p,s=t.type,g=s==="FeatureCollection",v=s==="Feature",m=g?t.features.length:1,h=0;h<m;h++){f=g?t.features[h].geometry:v?t.geometry:t,p=f?f.type==="GeometryCollection":!1,u=p?f.geometries.length:1;for(var d=0;d<u;d++){var b=0,_=0;if(a=p?f.geometries[d]:f,a!==null){l=a.coordinates;var w=a.type;switch(y=r&&(w==="Polygon"||w==="MultiPolygon")?1:0,w){case null:break;case"Point":if(e(l,c,h,b,_)===!1)return!1;c++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(e(l[n],c,h,b,_)===!1)return!1;c++,w==="MultiPoint"&&b++}w==="LineString"&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-y;o++){if(e(l[n][o],c,h,b,_)===!1)return!1;c++}w==="MultiLineString"&&b++,w==="Polygon"&&_++}w==="Polygon"&&b++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-y;i++){if(e(l[n][o][i],c,h,b,_)===!1)return!1;c++}_++}b++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(je(a.geometries[n],e,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}q(je,"coordEach");function tp(t,e,r,n){var o=r;return je(t,function(i,a,u,l,f){a===0&&r===void 0?o=i:o=e(o,i,a,u,l,f)},n),o}q(tp,"coordReduce");function ma(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&e(t.features[r].properties,r)!==!1;r++);break;case"Feature":e(t.properties,0);break}}q(ma,"propEach");function rp(t,e,r){var n=r;return ma(t,function(o,i){i===0&&r===void 0?n=o:n=e(n,o,i)}),n}q(rp,"propReduce");function ba(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var r=0;r<t.features.length&&e(t.features[r],r)!==!1;r++);}q(ba,"featureEach");function np(t,e,r){var n=r;return ba(t,function(o,i){i===0&&r===void 0?n=o:n=e(n,o,i)}),n}q(np,"featureReduce");function op(t){var e=[];return je(t,function(r){e.push(r)}),e}q(op,"coordAll");function un(t,e){var r,n,o,i,a,u,l,f,y,c,p=0,s=t.type==="FeatureCollection",g=t.type==="Feature",v=s?t.features.length:1;for(r=0;r<v;r++){for(u=s?t.features[r].geometry:g?t.geometry:t,f=s?t.features[r].properties:g?t.properties:{},y=s?t.features[r].bbox:g?t.bbox:void 0,c=s?t.features[r].id:g?t.id:void 0,l=u?u.type==="GeometryCollection":!1,a=l?u.geometries.length:1,o=0;o<a;o++){if(i=l?u.geometries[o]:u,i===null){if(e(null,p,f,y,c)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(i,p,f,y,c)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(e(i.geometries[n],p,f,y,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}p++}}q(un,"geomEach");function ip(t,e,r){var n=r;return un(t,function(o,i,a,u,l){i===0&&r===void 0?n=o:n=e(n,o,i,a,u,l)}),n}q(ip,"geomReduce");function jt(t,e){un(t,function(r,n,o,i,a){var u=r===null?null:r.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return e(K(r,o,{bbox:i,id:a}),n,0)===!1?!1:void 0}var l;switch(u){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var f=0;f<r.coordinates.length;f++){var y=r.coordinates[f],c={type:l,coordinates:y};if(e(K(c,o),n,f)===!1)return!1}})}q(jt,"flattenEach");function ap(t,e,r){var n=r;return jt(t,function(o,i,a){i===0&&a===0&&r===void 0?n=o:n=e(n,o,i,a)}),n}q(ap,"flattenReduce");function wa(t,e){jt(t,function(r,n,o){var i=0;if(r.geometry){var a=r.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var u,l=0,f=0,y=0;if(je(r,function(c,p,s,g,v){if(u===void 0||n>l||g>f||v>y){u=c,l=n,f=g,y=v,i=0;return}var m=F([u,c],r.properties);if(e(m,n,o,v,i)===!1)return!1;i++,u=c})===!1)return!1}}})}q(wa,"segmentEach");function lp(t,e,r){var n=r,o=!1;return wa(t,function(i,a,u,l,f){o===!1&&r===void 0?n=i:n=e(n,i,a,u,l,f),o=!0}),n}q(lp,"segmentReduce");function Sa(t,e){if(!t)throw new Error("geojson is required");jt(t,function(r,n,o){if(r.geometry!==null){var i=r.geometry.type,a=r.geometry.coordinates;switch(i){case"LineString":if(e(r,n,o,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<a.length;u++)if(e(F(a[u],r.properties),n,o,u)===!1)return!1;break}}})}q(Sa,"lineEach");function up(t,e,r){var n=r;return Sa(t,function(o,i,a,u){i===0&&r===void 0?n=o:n=e(n,o,i,a,u)}),n}q(up,"lineReduce");function fp(t,e){if(e=e||{},!Ee(e))throw new Error("options is invalid");var r=e.featureIndex||0,n=e.multiFeatureIndex||0,o=e.geometryIndex||0,i=e.segmentIndex||0,a=e.properties,u;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,u=t.features[r].geometry;break;case"Feature":a=a||t.properties,u=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=t;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var l=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return i<0&&(i=l.length+i-1),F([l[i],l[i+1]],a,e);case"Polygon":return o<0&&(o=l.length+o),i<0&&(i=l[o].length+i-1),F([l[o][i],l[o][i+1]],a,e);case"MultiLineString":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i-1),F([l[n][i],l[n][i+1]],a,e);case"MultiPolygon":return n<0&&(n=l.length+n),o<0&&(o=l[n].length+o),i<0&&(i=l[n][o].length-i-1),F([l[n][o][i],l[n][o][i+1]],a,e)}throw new Error("geojson is invalid")}q(fp,"findSegment");function sp(t,e){if(e=e||{},!Ee(e))throw new Error("options is invalid");var r=e.featureIndex||0,n=e.multiFeatureIndex||0,o=e.geometryIndex||0,i=e.coordIndex||0,a=e.properties,u;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,u=t.features[r].geometry;break;case"Feature":a=a||t.properties,u=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=t;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var l=u.coordinates;switch(u.type){case"Point":return C(l,a,e);case"MultiPoint":return n<0&&(n=l.length+n),C(l[n],a,e);case"LineString":return i<0&&(i=l.length+i),C(l[i],a,e);case"Polygon":return o<0&&(o=l.length+o),i<0&&(i=l[o].length+i),C(l[o][i],a,e);case"MultiLineString":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i),C(l[n][i],a,e);case"MultiPolygon":return n<0&&(n=l.length+n),o<0&&(o=l[n].length+o),i<0&&(i=l[n][o].length-i),C(l[n][o][i],a,e)}throw new Error("geojson is invalid")}q(sp,"findPoint");var cp=Object.defineProperty,yp=(t,e)=>cp(t,"name",{value:e,configurable:!0});function Se(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const r=[1/0,1/0,-1/0,-1/0];return je(t,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}yp(Se,"bbox");var pp=Se;const Rg=Object.freeze(Object.defineProperty({__proto__:null,bbox:Se,default:pp},Symbol.toStringTag,{value:"Module"}));function gp(t,e){var r=0,n=0,o=0,i=0,a=0,u=0,l=0,f=0,y=null,c=null,p=t[0],s=t[1],g=e.length;for(r;r<g;r++){n=0;var v=e[r].length-1,m=e[r];if(y=m[0],y[0]!==m[v][0]&&y[1]!==m[v][1])throw new Error("First and last coordinates in a ring must be the same");for(a=y[0]-p,u=y[1]-s,n;n<v;n++){if(c=m[n+1],f=c[1]-s,u<0&&f<0||u>0&&f>0){y=c,u=f,a=y[0]-p;continue}if(l=c[0]-t[0],f>0&&u<=0){if(i=a*f-l*u,i>0)o=o+1;else if(i===0)return 0}else if(u>0&&f<=0){if(i=a*f-l*u,i<0)o=o+1;else if(i===0)return 0}else if(f===0&&u<0){if(i=a*f-l*u,i===0)return 0}else if(u===0&&f<0){if(i=a*f-l*u,i===0)return 0}else if(u===0&&f===0){if(l<=0&&a>=0)return 0;if(a<=0&&l>=0)return 0}y=c,u=f,a=l}}return o%2!==0}var vp=Object.defineProperty,ge=(t,e)=>vp(t,"name",{value:e,configurable:!0});function _a(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}ge(_a,"getCoord");function hp(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}ge(hp,"getCoords");function Pa(t){if(t.length>1&&X(t[0])&&X(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Pa(t[0]);throw new Error("coordinates must only contain numbers")}ge(Pa,"containsNumber");function dp(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}ge(dp,"geojsonType");function mp(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}ge(mp,"featureOf");function bp(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of t.features){if(!n||n.type!=="Feature"||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+n.geometry.type)}}ge(bp,"collectionOf");function Ea(t){return t.type==="Feature"?t.geometry:t}ge(Ea,"getGeom");function wp(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}ge(wp,"getType");var Sp=Object.defineProperty,Aa=(t,e)=>Sp(t,"name",{value:e,configurable:!0});function at(t,e,r={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const n=_a(t),o=Ea(e),i=o.type,a=e.bbox;let u=o.coordinates;if(a&&Oa(n,a)===!1)return!1;i==="Polygon"&&(u=[u]);let l=!1;for(var f=0;f<u.length;++f){const y=gp(n,u[f]);if(y===0)return!r.ignoreBoundary;y&&(l=!0)}return l}Aa(at,"booleanPointInPolygon");function Oa(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}Aa(Oa,"inBBox");var _p=Object.defineProperty,ve=(t,e)=>_p(t,"name",{value:e,configurable:!0});function $a(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}ve($a,"getCoord");function Ma(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}ve(Ma,"getCoords");function ka(t){if(t.length>1&&X(t[0])&&X(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return ka(t[0]);throw new Error("coordinates must only contain numbers")}ve(ka,"containsNumber");function Pp(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}ve(Pp,"geojsonType");function Ep(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}ve(Ep,"featureOf");function Ap(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of t.features){if(!n||n.type!=="Feature"||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+n.geometry.type)}}ve(Ap,"collectionOf");function Op(t){return t.type==="Feature"?t.geometry:t}ve(Op,"getGeom");function $p(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}ve($p,"getType");var Mp=Object.defineProperty,Ca=(t,e)=>Mp(t,"name",{value:e,configurable:!0});function qe(t,e,r={}){const n=$a(t),o=Ma(e);for(let i=0;i<o.length-1;i++){let a=!1;if(r.ignoreEndVertices&&(i===0&&(a="start"),i===o.length-2&&(a="end"),i===0&&i+1===o.length-1&&(a="both")),Fa(o[i],o[i+1],n,a,typeof r.epsilon>"u"?null:r.epsilon))return!0}return!1}Ca(qe,"booleanPointOnLine");function Fa(t,e,r,n,o){const i=r[0],a=r[1],u=t[0],l=t[1],f=e[0],y=e[1],c=r[0]-u,p=r[1]-l,s=f-u,g=y-l,v=c*g-p*s;if(o!==null){if(Math.abs(v)>o)return!1}else if(v!==0)return!1;if(n){if(n==="start")return Math.abs(s)>=Math.abs(g)?s>0?u<i&&i<=f:f<=i&&i<u:g>0?l<a&&a<=y:y<=a&&a<l;if(n==="end")return Math.abs(s)>=Math.abs(g)?s>0?u<=i&&i<f:f<i&&i<=u:g>0?l<=a&&a<y:y<a&&a<=l;if(n==="both")return Math.abs(s)>=Math.abs(g)?s>0?u<i&&i<f:f<i&&i<u:g>0?l<a&&a<y:y<a&&a<l}else return Math.abs(s)>=Math.abs(g)?s>0?u<=i&&i<=f:f<=i&&i<=u:g>0?l<=a&&a<=y:y<=a&&a<=l;return!1}Ca(Fa,"isPointOnLineSegment");var kp=Object.defineProperty,he=(t,e)=>kp(t,"name",{value:e,configurable:!0});function Cp(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}he(Cp,"getCoord");function Fp(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}he(Fp,"getCoords");function Ba(t){if(t.length>1&&X(t[0])&&X(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Ba(t[0]);throw new Error("coordinates must only contain numbers")}he(Ba,"containsNumber");function Bp(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}he(Bp,"geojsonType");function Ip(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}he(Ip,"featureOf");function Lp(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of t.features){if(!n||n.type!=="Feature"||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+n.geometry.type)}}he(Lp,"collectionOf");function Gt(t){return t.type==="Feature"?t.geometry:t}he(Gt,"getGeom");function Rp(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}he(Rp,"getType");var Tp=Object.defineProperty,Q=(t,e)=>Tp(t,"name",{value:e,configurable:!0});function Ia(t,e){const r=Gt(t),n=Gt(e),o=r.type,i=n.type,a=r.coordinates,u=n.coordinates;switch(o){case"Point":switch(i){case"Point":return zt(a,u);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"Point":return Ra(r,n);case"MultiPoint":return Ta(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return qe(n,r,{ignoreEndVertices:!0});case"LineString":return Na(r,n);case"MultiPoint":return Ga(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return at(n,r,{ignoreBoundary:!0});case"LineString":return qa(r,n);case"Polygon":return fn(r,n);case"MultiPoint":return Da(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPolygon":switch(i){case"Polygon":return La(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}Q(Ia,"booleanContains");function La(t,e){return t.coordinates.some(r=>fn({type:"Polygon",coordinates:r},e))}Q(La,"isPolygonInMultiPolygon");function Ra(t,e){let r,n=!1;for(r=0;r<t.coordinates.length;r++)if(zt(t.coordinates[r],e.coordinates)){n=!0;break}return n}Q(Ra,"isPointInMultiPoint");function Ta(t,e){for(const r of e.coordinates){let n=!1;for(const o of t.coordinates)if(zt(r,o)){n=!0;break}if(!n)return!1}return!0}Q(Ta,"isMultiPointInMultiPoint");function Ga(t,e){let r=!1;for(const n of e.coordinates)if(qe(n,t,{ignoreEndVertices:!0})&&(r=!0),!qe(n,t))return!1;return!!r}Q(Ga,"isMultiPointOnLine");function Da(t,e){for(const r of e.coordinates)if(!at(r,t,{ignoreBoundary:!0}))return!1;return!0}Q(Da,"isMultiPointInPoly");function Na(t,e){let r=!1;for(const n of e.coordinates)if(qe({type:"Point",coordinates:n},t,{ignoreEndVertices:!0})&&(r=!0),!qe({type:"Point",coordinates:n},t,{ignoreEndVertices:!1}))return!1;return r}Q(Na,"isLineOnLine");function qa(t,e){let r=!1,n=0;const o=Se(t),i=Se(e);if(!sn(o,i))return!1;for(n;n<e.coordinates.length-1;n++){const a=Ua(e.coordinates[n],e.coordinates[n+1]);if(at({type:"Point",coordinates:a},t,{ignoreBoundary:!0})){r=!0;break}}return r}Q(qa,"isLineInPoly");function fn(t,e){if(t.type==="Feature"&&t.geometry===null||e.type==="Feature"&&e.geometry===null)return!1;const r=Se(t),n=Se(e);if(!sn(r,n))return!1;const o=Gt(e).coordinates;for(const i of o)for(const a of i)if(!at(a,t))return!1;return!0}Q(fn,"isPolyInPoly");function sn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}Q(sn,"doBBoxOverlap");function zt(t,e){return t[0]===e[0]&&t[1]===e[1]}Q(zt,"compareCoords");function Ua(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}Q(Ua,"getMidpoint");var ei=Ia;function Gp(t){for(let e of t.features)e.properties.full_name=`${e.properties.level}_${e.properties.name}`;return t.features.sort((e,r)=>xo(e)-xo(r)),t}function Dp(t,e){let r=e.features.find(n=>Np(t,n));return r?r.properties.full_name:null}function Np(t,e){let r=e.geometry;r.type=="MultiPolygon"&&(r={type:"Polygon",coordinates:r.coordinates[0]});for(let n of t)if(n.geometry.type=="MultiLineString"){for(let o of n.geometry.coordinates)if(!ei(r,{type:"LineString",coordinates:o}))return!1}else if(!ei(r,n))return!1;return!0}const qp="/atip/landing-page/assets/authorities-7624c8c2.geojson";function Tg(t,e){let r=new Set(t.getStyle().layers.filter(n=>n.type=="line").map(n=>n.id));if(e=="dataviz")return["Road network","Path"].filter(n=>r.has(n));if(e=="hybrid")return["Path","Road","Tunnel"].filter(n=>r.has(n));if(e=="streets"){let n=[];for(let o of["road","bridge","tunnel"])for(let i of["link","minor","minor_construction","motorway","motorway_construction","motorway_link","path_pedestrian","secondary_tertiary","secondary_tertiary_construction","service_track","service_track_construction","street","trunk_primary","trunk_primary_construction","trunk_primary_link"])n.push(`${o}_${i}`);return n.filter(o=>r.has(o))}return e=="uk-openzoomstack-light"?t.getStyle().layers.filter(n=>n["source-layer"]=="roads"&&n.type=="line").map(n=>n.id):[]}let S=t=>t,R=t=>t,Up=t=>t,Wp=t=>t,Hp=t=>t,jp=t=>t,zp=t=>t,Jp=[zp("raster-basemap"),S("parliamentary_constituencies"),S("parliamentary_constituencies-outline"),S("wards"),S("wards-outline"),S("combined_authorities"),S("combined_authorities-outline"),S("local_authority_districts"),S("local_authority_districts-outline"),S("local_planning_authorities"),S("local_planning_authorities-outline"),S("census_output_areas"),S("census_output_areas-outline"),S("imd"),S("imd-outline"),S("pollution"),S("road_noise"),S("mrn"),S("srn"),S("bus_routes"),S("trams"),S("national_cycle_network"),S("cycle_paths"),S("pct_commute"),S("pct_school"),S("road_widths"),S("road_speeds"),S("pavement_widths"),S("gradient"),S("gradient_arrows"),S("education"),S("hospitals"),S("sports_spaces"),S("railway_stations"),S("cycle_parking"),S("crossings"),S("vehicle_counts"),S("stats19"),S("bus_stops"),R("interventions-coverage-polygons-outlines"),R("interventions-polygons"),R("interventions-polygons-outlines"),R("hover-polygons"),S("atf-interventions-polygons"),S("lcwip-interventions-polygons"),S("atf-interventions-polygons-outlines"),S("lcwip-interventions-polygons-outlines"),R("hover-lines"),R("interventions-lines"),R("interventions-lines-endpoints"),S("atf-interventions-lines"),S("lcwip-interventions-lines"),S("atf-interventions-lines-endpoints"),S("lcwip-interventions-lines-endpoints"),R("hover-points"),R("interventions-points"),S("atf-interventions-points"),S("lcwip-interventions-points"),S("problems"),R("edit-polygon-fill"),R("edit-polygon-lines"),R("edit-polygon-vertices"),R("draw-split-route"),R("route-points"),R("route-lines"),R("route-polygons"),Up("road_label"),jp(Wp(Hp("Road labels"))),R("boundary"),S("measurement-line"),R("georeferenced-image"),S("cover-interactive-layers")],Vp=fl(null);function Kp(t,e){return{id:e,beforeId:Zp(t,e)}}function Zp(t,e){let r=sl(Vp);if(!r){console.warn(`getBeforeId(${e}) called before map is ready. Z-ordering may be incorrect.`);return}let n,o=!1;for(let i=t.layerZorder.length-1;i>=0;i--){let a=t.layerZorder[i];if(a==e){o=!0;break}r.getLayer(a)&&(n=a)}if(!o)throw new Error(`Layer ID ${e} not defined in layerZorder`);return n}function Gg(t,e,r){let n=["step",t];for(let o=1;o<e.length;o++)n.push(r[o-1]),n.push(e[o]);return n.push(r[r.length-1]),n}function Dg(t){return t<1e3?Math.round(t)+" m":(t/1e3).toFixed(1)+"km"}function Ng(t){return Kp({layerZorder:Jp},t)}var Xp=Object.defineProperty,de=(t,e)=>Xp(t,"name",{value:e,configurable:!0});function Nr(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}de(Nr,"getCoord");function Yp(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}de(Yp,"getCoords");function Wa(t){if(t.length>1&&X(t[0])&&X(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Wa(t[0]);throw new Error("coordinates must only contain numbers")}de(Wa,"containsNumber");function Qp(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}de(Qp,"geojsonType");function xp(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}de(xp,"featureOf");function eg(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of t.features){if(!n||n.type!=="Feature"||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+n.geometry.type)}}de(eg,"collectionOf");function tg(t){return t.type==="Feature"?t.geometry:t}de(tg,"getGeom");function rg(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}de(rg,"getType");var ng=Object.defineProperty,og=(t,e)=>ng(t,"name",{value:e,configurable:!0});function Ha(t,e,r={}){var n=Nr(t),o=Nr(e),i=Ze(o[1]-n[1]),a=Ze(o[0]-n[0]),u=Ze(n[1]),l=Ze(o[1]),f=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(u)*Math.cos(l);return on(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}og(Ha,"distance");var ig=Object.defineProperty,U=(t,e)=>ig(t,"name",{value:e,configurable:!0});function lt(t,e,r){if(t!==null)for(var n,o,i,a,u,l,f,y=0,c=0,p,s=t.type,g=s==="FeatureCollection",v=s==="Feature",m=g?t.features.length:1,h=0;h<m;h++){f=g?t.features[h].geometry:v?t.geometry:t,p=f?f.type==="GeometryCollection":!1,u=p?f.geometries.length:1;for(var d=0;d<u;d++){var b=0,_=0;if(a=p?f.geometries[d]:f,a!==null){l=a.coordinates;var w=a.type;switch(y=r&&(w==="Polygon"||w==="MultiPolygon")?1:0,w){case null:break;case"Point":if(e(l,c,h,b,_)===!1)return!1;c++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(e(l[n],c,h,b,_)===!1)return!1;c++,w==="MultiPoint"&&b++}w==="LineString"&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-y;o++){if(e(l[n][o],c,h,b,_)===!1)return!1;c++}w==="MultiLineString"&&b++,w==="Polygon"&&_++}w==="Polygon"&&b++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-y;i++){if(e(l[n][o][i],c,h,b,_)===!1)return!1;c++}_++}b++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(lt(a.geometries[n],e,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}U(lt,"coordEach");function ag(t,e,r,n){var o=r;return lt(t,function(i,a,u,l,f){a===0&&r===void 0?o=i:o=e(o,i,a,u,l,f)},n),o}U(ag,"coordReduce");function ja(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&e(t.features[r].properties,r)!==!1;r++);break;case"Feature":e(t.properties,0);break}}U(ja,"propEach");function lg(t,e,r){var n=r;return ja(t,function(o,i){i===0&&r===void 0?n=o:n=e(n,o,i)}),n}U(lg,"propReduce");function za(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var r=0;r<t.features.length&&e(t.features[r],r)!==!1;r++);}U(za,"featureEach");function ug(t,e,r){var n=r;return za(t,function(o,i){i===0&&r===void 0?n=o:n=e(n,o,i)}),n}U(ug,"featureReduce");function fg(t){var e=[];return lt(t,function(r){e.push(r)}),e}U(fg,"coordAll");function cn(t,e){var r,n,o,i,a,u,l,f,y,c,p=0,s=t.type==="FeatureCollection",g=t.type==="Feature",v=s?t.features.length:1;for(r=0;r<v;r++){for(u=s?t.features[r].geometry:g?t.geometry:t,f=s?t.features[r].properties:g?t.properties:{},y=s?t.features[r].bbox:g?t.bbox:void 0,c=s?t.features[r].id:g?t.id:void 0,l=u?u.type==="GeometryCollection":!1,a=l?u.geometries.length:1,o=0;o<a;o++){if(i=l?u.geometries[o]:u,i===null){if(e(null,p,f,y,c)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(i,p,f,y,c)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(e(i.geometries[n],p,f,y,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}p++}}U(cn,"geomEach");function sg(t,e,r){var n=r;return cn(t,function(o,i,a,u,l){i===0&&r===void 0?n=o:n=e(n,o,i,a,u,l)}),n}U(sg,"geomReduce");function Jt(t,e){cn(t,function(r,n,o,i,a){var u=r===null?null:r.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return e(K(r,o,{bbox:i,id:a}),n,0)===!1?!1:void 0}var l;switch(u){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var f=0;f<r.coordinates.length;f++){var y=r.coordinates[f],c={type:l,coordinates:y};if(e(K(c,o),n,f)===!1)return!1}})}U(Jt,"flattenEach");function cg(t,e,r){var n=r;return Jt(t,function(o,i,a){i===0&&a===0&&r===void 0?n=o:n=e(n,o,i,a)}),n}U(cg,"flattenReduce");function Ja(t,e){Jt(t,function(r,n,o){var i=0;if(r.geometry){var a=r.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var u,l=0,f=0,y=0;if(lt(r,function(c,p,s,g,v){if(u===void 0||n>l||g>f||v>y){u=c,l=n,f=g,y=v,i=0;return}var m=F([u,c],r.properties);if(e(m,n,o,v,i)===!1)return!1;i++,u=c})===!1)return!1}}})}U(Ja,"segmentEach");function Va(t,e,r){var n=r,o=!1;return Ja(t,function(i,a,u,l,f){o===!1&&r===void 0?n=i:n=e(n,i,a,u,l,f),o=!0}),n}U(Va,"segmentReduce");function Ka(t,e){if(!t)throw new Error("geojson is required");Jt(t,function(r,n,o){if(r.geometry!==null){var i=r.geometry.type,a=r.geometry.coordinates;switch(i){case"LineString":if(e(r,n,o,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<a.length;u++)if(e(F(a[u],r.properties),n,o,u)===!1)return!1;break}}})}U(Ka,"lineEach");function yg(t,e,r){var n=r;return Ka(t,function(o,i,a,u){i===0&&r===void 0?n=o:n=e(n,o,i,a,u)}),n}U(yg,"lineReduce");function pg(t,e){if(e=e||{},!Ee(e))throw new Error("options is invalid");var r=e.featureIndex||0,n=e.multiFeatureIndex||0,o=e.geometryIndex||0,i=e.segmentIndex||0,a=e.properties,u;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,u=t.features[r].geometry;break;case"Feature":a=a||t.properties,u=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=t;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var l=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return i<0&&(i=l.length+i-1),F([l[i],l[i+1]],a,e);case"Polygon":return o<0&&(o=l.length+o),i<0&&(i=l[o].length+i-1),F([l[o][i],l[o][i+1]],a,e);case"MultiLineString":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i-1),F([l[n][i],l[n][i+1]],a,e);case"MultiPolygon":return n<0&&(n=l.length+n),o<0&&(o=l[n].length+o),i<0&&(i=l[n][o].length-i-1),F([l[n][o][i],l[n][o][i+1]],a,e)}throw new Error("geojson is invalid")}U(pg,"findSegment");function gg(t,e){if(e=e||{},!Ee(e))throw new Error("options is invalid");var r=e.featureIndex||0,n=e.multiFeatureIndex||0,o=e.geometryIndex||0,i=e.coordIndex||0,a=e.properties,u;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,u=t.features[r].geometry;break;case"Feature":a=a||t.properties,u=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=t;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var l=u.coordinates;switch(u.type){case"Point":return C(l,a,e);case"MultiPoint":return n<0&&(n=l.length+n),C(l[n],a,e);case"LineString":return i<0&&(i=l.length+i),C(l[i],a,e);case"Polygon":return o<0&&(o=l.length+o),i<0&&(i=l[o].length+i),C(l[o][i],a,e);case"MultiLineString":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i),C(l[n][i],a,e);case"MultiPolygon":return n<0&&(n=l.length+n),o<0&&(o=l[n].length+o),i<0&&(i=l[n][o].length-i),C(l[n][o][i],a,e)}throw new Error("geojson is invalid")}U(gg,"findPoint");var vg=Object.defineProperty,hg=(t,e)=>vg(t,"name",{value:e,configurable:!0});function Za(t,e={}){return Va(t,(r,n)=>{const o=n.geometry.coordinates;return r+Ha(o[0],o[1],e)},0)}hg(Za,"length");var qg=Za;const Ug={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",hovering:"black",lineEndpointColor:"black",streetview:"blue",measuringLine:"cyan"},Wg=10,Hg=10;function jg(){return dg(["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"])}function dg(t){return t[Math.floor(Math.random()*t.length)]}function ti(t){let e,r;return e=new Ll({props:{$$slots:{default:[mg]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){tt(e.$$.fragment)},m(n,o){rt(e,n,o),r=!0},p(n,o){const i={};o&128&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){r||(J(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){nt(e,n)}}}function mg(t){let e;return{c(){e=te("X")},m(r,n){B(r,e,n)},d(r){r&&I(e)}}}function bg(t){let e,r,n,o,i,a,u,l,f,y,c=t[2]&&ti(t);const p=t[4].default,s=Be(p,t,t[7],null);return{c(){e=O("div"),r=O("div"),n=O("div"),o=O("h1"),i=te(t[1]),a=z(),c&&c.c(),u=z(),s&&s.c(),P(o,"class","govuk-heading-l"),Te(n,"display","flex"),Te(n,"justify-content","space-between"),P(r,"class","content centered-fullscreen svelte-1st8ub0"),P(e,"class","background svelte-1st8ub0"),W(e,"open",t[0]),W(e,"closed",!t[0])},m(g,v){B(g,e,v),E(e,r),E(r,n),E(n,o),E(o,i),E(n,a),c&&c.m(n,null),E(r,u),s&&s.m(r,null),l=!0,f||(y=[Z(r,"click",cl(wg)),Z(e,"click",t[6])],f=!0)},p(g,[v]){(!l||v&2)&&ne(i,g[1]),g[2]?c?(c.p(g,v),v&4&&J(c,1)):(c=ti(g),c.c(),J(c,1),c.m(n,null)):c&&(yl(),V(c,1,1,()=>{c=null}),pl()),s&&s.p&&(!l||v&128)&&Ie(s,p,g,g[7],l?Re(p,g[7],v,null):Le(g[7]),null),(!l||v&1)&&W(e,"open",g[0]),(!l||v&1)&&W(e,"closed",!g[0])},i(g){l||(J(c),J(s,g),l=!0)},o(g){V(c),V(s,g),l=!1},d(g){g&&I(e),c&&c.d(),s&&s.d(g),f=!1,Ue(y)}}}const wg=()=>null;function Sg(t,e,r){let{$$slots:n={},$$scope:o}=e,{title:i}=e,{open:a=!1}=e,{displayEscapeButton:u=!0}=e,{canCloseByClickingBackground:l=!0}=e;const f=()=>r(0,a=!1),y=()=>{l&&r(0,a=!1)};return t.$$set=c=>{"title"in c&&r(1,i=c.title),"open"in c&&r(0,a=c.open),"displayEscapeButton"in c&&r(2,u=c.displayEscapeButton),"canCloseByClickingBackground"in c&&r(3,l=c.canCloseByClickingBackground),"$$scope"in c&&r(7,o=c.$$scope)},[a,i,u,l,n,f,y,o]}class zg extends le{constructor(e){super(),ue(this,e,Sg,bg,fe,{title:1,open:0,displayEscapeButton:2,canCloseByClickingBackground:3})}}async function Jg(){let e=await(await fetch(qp)).json();return Gp(e)}function Vg(){if(window.location.hostname=="localhost")return"Local development";if(window.location.hostname=="acteng.github.io"){let t=window.location.pathname.split("/");if(t.length==3&&t[0]==""&&t[1]=="atip")return"Public (development)";if(t.length==4&&t[0]==""&&t[1]=="atip")return`Public (dev branch: ${t[2]})`}else if(window.location.hostname.endsWith(".appspot.com"))return"Private (development)";return"Unknown"}async function Kg(t,e){let r=await fetch(t),n=r.body.getReader(),o=r.headers.get("Content-Length");if(!o)throw new Error(`No Content-Length header from ${t}`);let i=parseInt(o),a=0,u=[];for(;;){let{done:y,value:c}=await n.read();if(y)break;c&&(u.push(c),a+=c.length,e(100*a/i))}let l=new Uint8Array(a),f=0;for(let y of u)l.set(y,f),f+=y.length;return l}function Zg(t){let e=t.split("_");if(e.length==2){if(e[0]=="LAD")return`${e[1]} (LAD)`;if(e[0]=="TA")return`${e[1]} (Transport Authority)`}return t}function Xg(){return"https://atip.uk/layers"}function Yg(){return"https://atip.uk/private_layers"}function qr(t,e){return`sketch/${t}/${e}`}function Xa(t,e){try{window.localStorage.setItem(t,e)}catch(r){console.log(`Couldn't set local storage for ${t}: ${r}`),window.alert("Your changes couldn't be saved because you've run out of local storage. Please fix this problem on the next page and try again."),window.location.href="local_storage.html"}}function _g(t,e,r){return`scheme.html?authority=${t}&schema=${r}&file=${e}`}function Qg(t){let e=`sketch/${t}/`,r=[];for(let n=0;n<window.localStorage.length;n++){let o=window.localStorage.key(n);if(o.startsWith(e)){let i="v1";try{i=Qa(JSON.parse(window.localStorage.getItem(o)))}catch{}r.push([o.slice(e.length),i])}}return r.sort(),r}function Pg(t,e){let r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)}function xg(t){let e=[];for(let r=0;r<window.localStorage.length;r++){let n=window.localStorage.key(r);n==t?e.push([n,qr(t,"v1 sketch")]):n==`${t}_pipeline`&&e.push([n,qr(t,"pipeline sketch")])}for(let[r,n]of e){console.log(`Renaming ${r} to ${n}`);try{let o=window.localStorage.getItem(r);Xa(n,o),window.localStorage.removeItem(r)}catch(o){console.error(`Couldn't importOldFiles: ${o}`)}}}function Ya(t,e){var n;let r=JSON.parse(JSON.stringify(e));for(let o of r.features)(n=o.properties)==null||delete n.hide_while_editing;return r.authority=t,r.origin="atip-v2",r}function ev(t,e,r){let n=Ya(t,r);Pg(`${t}_${e}.geojson`,JSON.stringify(n,null,"  "))}function Qa(t){try{let e=Object.values(t.schemes)[0];if(e&&Object.hasOwn(e,"pipeline"))return"pipeline"}catch{}return"v1"}function tv(t,e,r){let n=JSON.parse(e),o=Dp(n.features,r);if(!o)throw new Error("Can't figure out the authority boundary that fully contains this scheme");n.authority=o;let i=Qa(n),a=Eg(n.authority,t);return Xa(qr(n.authority,a),JSON.stringify(Ya(n.authority,n))),_g(n.authority,a,i)}function Eg(t,e){let r=ri(ri(e,".json"),".geojson");return Ag(r,`${t}_`)}function Ag(t,e){return t.startsWith(e)?t.slice(e.length):t}function ri(t,e){return t.endsWith(e)?t.slice(0,-e.length):t}export{pp as $,F as A,Ee as B,kg as C,Cg as D,ii as E,Fg as F,Mg as G,$g as H,Ig as I,Dt as J,Dg as K,Tg as L,zg as M,Jp as N,qg as O,jg as P,Ng as Q,Bg as R,Ll as S,Ug as T,Xg as U,Gg as V,Yg as W,Kg as X,Wg as Y,Hg as Z,Vg as _,Pg as a,Ya as b,qr as c,Zg as d,_g as e,tv as f,Jg as g,ev as h,xg as i,_t as j,Rg as k,Qg as l,fa as m,Vp as n,Kp as o,nn as p,ai as q,X as r,Xa as s,Ze as t,sa as u,on as v,an as w,C as x,K as y,Ut as z};
