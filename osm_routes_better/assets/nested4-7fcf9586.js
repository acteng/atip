import{S as oe,i as ne,s as re,B as ae,e as d,c as C,a as g,t as A,b as V,d as G,f as j,m as T,g as r,A as K,h as v,v as le,j as y,k as q,l as z,y as se,o as ie,C as ue,n as ce}from"./index-035bde9f.js";import{e as X,m as Z,d as fe}from"./files-09914f20.js";import{B as me,S as pe}from"./SecondaryButton-b7133363.js";import{F as de}from"./Footer-05d0dcc6.js";import{W as $e}from"./WarningButton-26ca7e41.js";import{H as ge}from"./Header-19e36f56.js";import"./spread-8a54911c.js";function x(n,e,t){const a=n.slice();return a[6]=e[t][0],a[7]=e[t][1],a}function he(n){let e;return{c(){e=A(`Download
                `)},m(t,a){j(t,e,a)},d(t){t&&q(e)}}}function _e(n){let e;return{c(){e=A("Delete")},m(t,a){j(t,e,a)},d(t){t&&q(e)}}}function be(n){let e,t,a;function c(){return n[4](n[6])}e=new pe({props:{$$slots:{default:[he]},$$scope:{ctx:n}}}),e.$on("click",c);function _(){return n[5](n[6])}return t=new $e({props:{$$slots:{default:[_e]},$$scope:{ctx:n}}}),t.$on("click",_),{c(){C(e.$$.fragment),C(t.$$.fragment)},m(l,f){T(e,l,f),T(t,l,f),a=!0},p(l,f){n=l;const $={};f&1024&&($.$$scope={dirty:f,ctx:n}),e.$set($);const i={};f&1024&&(i.$$scope={dirty:f,ctx:n}),t.$set(i)},i(l){a||(v(e.$$.fragment,l),v(t.$$.fragment,l),a=!0)},o(l){y(e.$$.fragment,l),y(t.$$.fragment,l),a=!1},d(l){z(e,l),z(t,l)}}}function ee(n){let e,t,a=n[6]+"",c,_,l,f=P(n[7])+"",$,i,k,b,M,w;return b=new me({props:{$$slots:{default:[be]},$$scope:{ctx:n}}}),{c(){e=d("tr"),t=d("td"),c=A(a),_=g(),l=d("td"),$=A(f),i=g(),k=d("td"),C(b.$$.fragment),M=g()},m(m,h){j(m,e,h),r(e,t),r(t,c),r(e,_),r(e,l),r(l,$),r(e,i),r(e,k),T(b,k,null),r(e,M),w=!0},p(m,h){(!w||h&1)&&a!==(a=m[6]+"")&&K(c,a),(!w||h&1)&&f!==(f=P(m[7])+"")&&K($,f);const S={};h&1025&&(S.$$scope={dirty:h,ctx:m}),b.$set(S)},i(m){w||(v(b.$$.fragment,m),w=!0)},o(m){y(b.$$.fragment,m),w=!1},d(m){m&&q(e),z(b)}}}function ke(n){let e,t,a,c,_,l,f,$,i,k,b,M,w,m,h=P(n[1])+"",S,N,J,H,D,O,R,I,W,Q,E,Y,F,L;t=new ge({}),c=new ae({});let B=X(n[0]),s=[];for(let o=0;o<B.length;o+=1)s[o]=ee(x(n,B,o));const te=o=>y(s[o],1,1,()=>{s[o]=null});return F=new de({props:{aboutHref:"about.html",privacyHref:"privacy.html",accessibilityHref:"accessibility.html"}}),{c(){e=d("div"),C(t.$$.fragment),a=g(),C(c.$$.fragment),_=g(),l=d("h1"),l.textContent="Manage local storage",f=g(),$=d("a"),$.textContent="Return to the Scheme Sketcher",i=g(),k=d("p"),k.innerHTML=`All sketch files are stored in your browser&#39;s local storage. There&#39;s a 5MB
    size limit, and you&#39;ve been redirected to this page because the last action
    you took exceeds this limit. You must delete some other files first to
    continue. <b>Before you delete a file, you should download a copy.</b>`,b=g(),M=d("p"),M.innerHTML=`If you see this page frequently or have any problems, please contact
    <a href="mailto:dcarlino@turing.ac.uk">Dustin</a>
    and
    <a href="mailto:Peter.York@activetravelengland.gov.uk">Pete</a>
    for help.`,w=g(),m=d("p"),S=A(h),N=A(" / 5 MB is used right now"),J=g(),H=d("progress"),O=g(),R=d("table"),I=d("table"),W=d("thead"),W.innerHTML='<tr><th>Filename</th> <th>Size</th> <th class="govuk-!-width-one-quarter">Actions</th></tr>',Q=g(),E=d("tbody");for(let o=0;o<s.length;o+=1)s[o].c();Y=g(),C(F.$$.fragment),V(l,"margin-top","30px"),G($,"href","choose_area.html"),G($,"class","govuk-back-link"),H.value=D=100*n[1]/(1024*1024*5),G(H,"max","100"),V(H,"width","100%"),G(e,"class","govuk-width-container govuk-prose")},m(o,p){j(o,e,p),T(t,e,null),r(e,a),T(c,e,null),r(e,_),r(e,l),r(e,f),r(e,$),r(e,i),r(e,k),r(e,b),r(e,M),r(e,w),r(e,m),r(m,S),r(m,N),r(e,J),r(e,H),r(e,O),r(e,R),r(R,I),r(I,W),r(I,Q),r(I,E);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(E,null);j(o,Y,p),T(F,o,p),L=!0},p(o,[p]){if((!L||p&2)&&h!==(h=P(o[1])+"")&&K(S,h),(!L||p&2&&D!==(D=100*o[1]/(1024*1024*5)))&&(H.value=D),p&13){B=X(o[0]);let u;for(u=0;u<B.length;u+=1){const U=x(o,B,u);s[u]?(s[u].p(U,p),v(s[u],1)):(s[u]=ee(U),s[u].c(),v(s[u],1),s[u].m(E,null))}for(ue(),u=B.length;u<s.length;u+=1)te(u);le()}},i(o){if(!L){v(t.$$.fragment,o),v(c.$$.fragment,o);for(let p=0;p<B.length;p+=1)v(s[p]);v(F.$$.fragment,o),L=!0}},o(o){y(t.$$.fragment,o),y(c.$$.fragment,o),s=s.filter(Boolean);for(let p=0;p<s.length;p+=1)y(s[p]);y(F.$$.fragment,o),L=!1},d(o){o&&(q(e),q(Y)),z(t),z(c),se(s,o),z(F,o)}}}function P(n){if(n==0)return"0 bytes";let e=1024,t=["bytes","KB","MB"],a=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,a)).toFixed(1))+" "+t[a]}function we(n,e,t){let a,c=[];ie(()=>{ce(),t(0,c=Z())});function _(i){fe(`${i}.geojson`,window.localStorage.getItem(i))}function l(i){window.confirm(`Really delete ${i}?`)&&(window.localStorage.removeItem(i),t(0,c=Z()))}const f=i=>_(i),$=i=>l(i);return n.$$.update=()=>{n.$$.dirty&1&&t(1,a=c.reduce((i,k)=>i+k[1],0))},[c,a,_,l,f,$]}class ve extends oe{constructor(e){super(),ne(this,e,we,ke,re,{})}}document.body.className+=" js-enabled"+("noModule"in HTMLScriptElement.prototype?" govuk-frontend-supported":"");new ve({target:document.getElementById("app")});
