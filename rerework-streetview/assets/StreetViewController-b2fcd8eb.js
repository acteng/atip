var Ee=Object.defineProperty;var Ve=(s,e,t)=>e in s?Ee(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var J=(s,e,t)=>(Ve(s,typeof e!="symbol"?e+"":e,t),t);import{S as C,i as L,s as E,G as M,e as h,h as m,j as w,k as v,K as O,L as H,M as R,t as g,l as b,p as y,f as V,X as U,w as G,aL as ye,P as $e,a_ as Be,F as Ie,g as B,m as I,q as P,V as K,ad as Y,aM as Pe,a$ as le,W as Se,b0 as Me,v as Q,u as j,U as x,b as W,c as ee,o as te,x as X,Q as Oe,aH as Ce,b1 as se,y as N,n as q,b2 as He,r as Re,A as Z,B as F,ag as De,aC as ze,a as ne,_ as T,C as je,a2 as Ge,a0 as Ne,a8 as oe,a7 as ie,a1 as qe,ac as Te,ab as Fe,aa as ae,az as re,aA as ce,R as Je,aV as Ke}from"./MapLibreMap.svelte_svelte_type_style_lang-1f233741.js";function We(s){let e,t,n;const l=s[3].default,o=M(l,s,s[2],null);return{c(){e=h("fieldset"),t=h("div"),o&&o.c(),m(t,"class",s[0]),m(t,"data-module","govuk-checkboxes"),m(e,"class","govuk-fieldset")},m(i,r){w(i,e,r),v(e,t),o&&o.m(t,null),n=!0},p(i,[r]){o&&o.p&&(!n||r&4)&&O(o,l,i,i[2],n?R(l,i[2],r,null):H(i[2]),null)},i(i){n||(g(o,i),n=!0)},o(i){b(o,i),n=!1},d(i){i&&y(e),o&&o.d(i)}}}function Ze(s,e,t){let{$$slots:n={},$$scope:l}=e,{small:o=!1}=e,i=o?"govuk-checkboxes--small":"govuk-checkboxes";return s.$$set=r=>{"small"in r&&t(1,o=r.small),"$$scope"in r&&t(2,l=r.$$scope)},[i,o,l,n]}class qt extends C{constructor(e){super(),L(this,e,Ze,We,E,{small:1})}}const Ae=s=>({}),ue=s=>({});function Ue(s){let e,t,n,l,o,i,r,a,c;const u=s[5].default,d=M(u,s,s[4],null),_=s[5].right,f=M(_,s,s[4],ue);return{c(){e=h("div"),t=h("input"),n=V(),l=h("label"),d&&d.c(),o=V(),i=h("span"),f&&f.c(),m(t,"type","checkbox"),m(t,"class","govuk-checkboxes__input"),m(t,"id",s[1]),m(l,"class","govuk-label govuk-checkboxes__label"),m(l,"for",s[1]),m(l,"title",s[2]),U(i,"float","right"),m(e,"class","govuk-checkboxes__item"),m(e,"style",s[3])},m(p,k){w(p,e,k),v(e,t),t.checked=s[0],v(e,n),v(e,l),d&&d.m(l,null),v(e,o),v(e,i),f&&f.m(i,null),r=!0,a||(c=[G(t,"change",s[7]),G(t,"change",s[6])],a=!0)},p(p,[k]){(!r||k&2)&&m(t,"id",p[1]),k&1&&(t.checked=p[0]),d&&d.p&&(!r||k&16)&&O(d,u,p,p[4],r?R(u,p[4],k,null):H(p[4]),null),(!r||k&2)&&m(l,"for",p[1]),(!r||k&4)&&m(l,"title",p[2]),f&&f.p&&(!r||k&16)&&O(f,_,p,p[4],r?R(_,p[4],k,Ae):H(p[4]),ue)},i(p){r||(g(d,p),g(f,p),r=!0)},o(p){b(d,p),b(f,p),r=!1},d(p){p&&y(e),d&&d.d(p),f&&f.d(p),a=!1,ye(c)}}}function Qe(s,e,t){let{$$slots:n={},$$scope:l}=e;const o=Be(n);let{id:i}=e,{checked:r}=e,{hint:a=null}=e,u=o.right!==void 0?"float: none":"";function d(f){$e.call(this,s,f)}function _(){r=this.checked,t(0,r)}return s.$$set=f=>{"id"in f&&t(1,i=f.id),"checked"in f&&t(0,r=f.checked),"hint"in f&&t(2,a=f.hint),"$$scope"in f&&t(4,l=f.$$scope)},[r,i,a,u,l,n,d,_]}class Tt extends C{constructor(e){super(),L(this,e,Qe,Ue,E,{id:1,checked:0,hint:2})}}function fe(s,e,t){const n=s.slice();return n[8]=e[t][0],n[9]=e[t][1],n}function de(s){let e;return{c(){e=h("option"),e.__value="",Q(e,e.__value)},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function _e(s){let e,t=s[9]+"",n,l;return{c(){e=h("option"),n=j(t),e.__value=l=s[8],Q(e,e.__value)},m(o,i){w(o,e,i),v(e,n)},p(o,i){i&8&&t!==(t=o[9]+"")&&x(n,t),i&8&&l!==(l=o[8])&&(e.__value=l,Q(e,e.__value))},d(o){o&&y(e)}}}function Xe(s){let e,t,n,l,o=s[4]&&de(),i=K(s[3]),r=[];for(let a=0;a<i.length;a+=1)r[a]=_e(fe(s,i,a));return{c(){e=h("select"),o&&o.c(),t=Y();for(let a=0;a<r.length;a+=1)r[a].c();m(e,"class","govuk-select"),m(e,"id",s[2]),e.disabled=s[5],s[0]===void 0&&Pe(()=>s[7].call(e))},m(a,c){w(a,e,c),o&&o.m(e,null),v(e,t);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);le(e,s[0],!0),n||(l=[G(e,"change",s[7]),G(e,"change",s[6])],n=!0)},p(a,c){if(a[4]?o||(o=de(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),c&8){i=K(a[3]);let u;for(u=0;u<i.length;u+=1){const d=fe(a,i,u);r[u]?r[u].p(d,c):(r[u]=_e(d),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=i.length}c&4&&m(e,"id",a[2]),c&32&&(e.disabled=a[5]),c&9&&le(e,a[0])},d(a){a&&y(e),o&&o.d(),Se(r,a),n=!1,ye(l)}}}function Ye(s){let e,t;return e=new Ie({props:{label:s[1],id:s[2],$$slots:{default:[Xe]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},m(n,l){I(e,n,l),t=!0},p(n,[l]){const o={};l&2&&(o.label=n[1]),l&4&&(o.id=n[2]),l&4157&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function xe(s,e,t){let{label:n}=e,{id:l}=e,{choices:o}=e,{emptyOption:i=!1}=e,{disabled:r=!1}=e,{value:a}=e;function c(d){$e.call(this,s,d)}function u(){a=Me(this),t(0,a),t(3,o)}return s.$$set=d=>{"label"in d&&t(1,n=d.label),"id"in d&&t(2,l=d.id),"choices"in d&&t(3,o=d.choices),"emptyOption"in d&&t(4,i=d.emptyOption),"disabled"in d&&t(5,r=d.disabled),"value"in d&&t(0,a=d.value)},[a,n,l,o,i,r,c,u]}class et extends C{constructor(e){super(),L(this,e,xe,Ye,E,{label:1,id:2,choices:3,emptyOption:4,disabled:5,value:0})}}function tt(s){let e,t,n;function l(i){s[2](i)}let o={label:"Basemap",id:"basemap",choices:[["streets","Streets"],["hybrid","Satellite"],["dataviz","Dataviz"]]};return s[0]!==void 0&&(o.value=s[0]),e=new et({props:o}),W.push(()=>ee(e,"value",l)),e.$on("change",s[1]),{c(){B(e.$$.fragment)},m(i,r){I(e,i,r),n=!0},p(i,[r]){const a={};!t&&r&1&&(t=!0,a.value=i[0],te(()=>t=!1)),e.$set(a)},i(i){n||(g(e.$$.fragment,i),n=!0)},o(i){b(e.$$.fragment,i),n=!1},d(i){P(e,i)}}}function nt(s,e,t){let{style:n}=e;function l(){let i=new URLSearchParams(window.location.search);i.set("style",n);let r=`${window.location.pathname}?${i.toString()}${window.location.hash}`;window.location.href=r}function o(i){n=i,t(0,n)}return s.$$set=i=>{"style"in i&&t(0,n=i.style)},[n,l,o]}class Ft extends C{constructor(e){super(),L(this,e,nt,tt,E,{style:0})}}function lt(s){let e,t,n,l,o,i,r;const a=s[3].default,c=M(a,s,s[2],null);return{c(){e=h("details"),t=h("summary"),n=h("span"),l=j(s[0]),o=V(),i=h("div"),c&&c.c(),m(n,"class","govuk-details__summary-text"),m(t,"class","govuk-details__summary"),m(i,"class","govuk-details__text"),e.open=s[1],m(e,"class","govuk-details"),m(e,"data-module","govuk-details")},m(u,d){w(u,e,d),v(e,t),v(t,n),v(n,l),v(e,o),v(e,i),c&&c.m(i,null),r=!0},p(u,[d]){(!r||d&1)&&x(l,u[0]),c&&c.p&&(!r||d&4)&&O(c,a,u,u[2],r?R(a,u[2],d,null):H(u[2]),null),(!r||d&2)&&(e.open=u[1])},i(u){r||(g(c,u),r=!0)},o(u){b(c,u),r=!1},d(u){u&&y(e),c&&c.d(u)}}}function st(s,e,t){let{$$slots:n={},$$scope:l}=e,{label:o}=e,{open:i=!1}=e;return s.$$set=r=>{"label"in r&&t(0,o=r.label),"open"in r&&t(1,i=r.open),"$$scope"in r&&t(2,l=r.$$scope)},[o,i,l,n]}class Le extends C{constructor(e){super(),L(this,e,st,lt,E,{label:0,open:1})}}function ot(s){let e;return{c(){e=h("span"),m(e,"class","svelte-kzgqtg"),U(e,"background",s[0])},m(t,n){w(t,e,n)},p(t,[n]){n&1&&U(e,"background",t[0])},i:X,o:X,d(t){t&&y(e)}}}function it(s,e,t){let{color:n}=e;return s.$$set=l=>{"color"in l&&t(0,n=l.color)},[n]}class at extends C{constructor(e){super(),L(this,e,it,ot,E,{color:0})}}const rt="/atip/rerework-streetview/assets/help-d011708a.svg";function ct(s){let e,t;const n=s[1].default,l=M(n,s,s[4],null);return{c(){e=h("div"),l&&l.c(),m(e,"class","govuk-prose")},m(o,i){w(o,e,i),l&&l.m(e,null),t=!0},p(o,i){l&&l.p&&(!t||i&16)&&O(l,n,o,o[4],t?R(n,o[4],i,null):H(o[4]),null)},i(o){t||(g(l,o),t=!0)},o(o){b(l,o),t=!1},d(o){o&&y(e),l&&l.d(o)}}}function ut(s){let e,t,n,l,o,i,r,a,c;function u(_){s[3](_)}let d={title:"Help",$$slots:{default:[ct]},$$scope:{ctx:s}};return s[0]!==void 0&&(d.open=s[0]),o=new Oe({props:d}),W.push(()=>ee(o,"open",u)),{c(){e=h("button"),t=h("img"),l=V(),B(o.$$.fragment),Ce(t.src,n=rt)||m(t,"src",n),m(t,"title","Help"),m(t,"alt","Help"),m(e,"class","svelte-7d9d1l")},m(_,f){w(_,e,f),v(e,t),w(_,l,f),I(o,_,f),r=!0,a||(c=G(e,"click",s[2]),a=!0)},p(_,[f]){const p={};f&16&&(p.$$scope={dirty:f,ctx:_}),!i&&f&1&&(i=!0,p.open=_[0],te(()=>i=!1)),o.$set(p)},i(_){r||(g(o.$$.fragment,_),r=!0)},o(_){b(o.$$.fragment,_),r=!1},d(_){_&&(y(e),y(l)),P(o,_),a=!1,c()}}}function ft(s,e,t){let{$$slots:n={},$$scope:l}=e,o=!1;const i=()=>t(0,o=!0);function r(a){o=a,t(0,o)}return s.$$set=a=>{"$$scope"in a&&t(4,l=a.$$scope)},[o,n,i,r,l]}class Jt extends C{constructor(e){super(),L(this,e,ft,ut,E,{})}}const dt=s=>({}),me=s=>({}),_t=s=>({}),pe=s=>({});function mt(s){let e,t,n,l,o,i,r,a,c,u,d;const _=s[3].sidebar,f=M(_,s,s[2],pe),p=s[3].main,k=M(p,s,s[2],me);return{c(){e=h("div"),t=h("aside"),n=h("div"),f&&f.c(),l=V(),o=h("button"),o.textContent="â†’",r=V(),a=h("main"),k&&k.c(),m(n,"class","sidebar-content content-container svelte-ect12w"),m(o,"type","button"),m(o,"class","sidebar-toggle rounded-rect svelte-ect12w"),m(t,"class",i=se(s[0]?"":"collapsed")+" svelte-ect12w"),m(a,"class","svelte-ect12w"),m(e,"class","overall-layout svelte-ect12w")},m($,D){w($,e,D),v(e,t),v(t,n),f&&f.m(n,null),v(t,l),v(t,o),v(e,r),v(e,a),k&&k.m(a,null),c=!0,u||(d=G(o,"click",s[1]),u=!0)},p($,[D]){f&&f.p&&(!c||D&4)&&O(f,_,$,$[2],c?R(_,$[2],D,_t):H($[2]),pe),(!c||D&1&&i!==(i=se($[0]?"":"collapsed")+" svelte-ect12w"))&&m(t,"class",i),k&&k.p&&(!c||D&4)&&O(k,p,$,$[2],c?R(p,$[2],D,dt):H($[2]),me)},i($){c||(g(f,$),g(k,$),c=!0)},o($){b(f,$),b(k,$),c=!1},d($){$&&y(e),f&&f.d($),k&&k.d($),u=!1,d()}}}function pt(s,e,t){let{$$slots:n={},$$scope:l}=e,o=!0;function i(){t(0,o=!o)}return s.$$set=r=>{"$$scope"in r&&t(2,l=r.$$scope)},[o,i,l,n]}class Kt extends C{constructor(e){super(),L(this,e,pt,mt,E,{})}}function ge(s,e,t){const n=s.slice();return n[1]=e[t][0],n[2]=e[t][1],n}function he(s){let e,t,n,l=s[1]+"",o,i,r;return t=new at({props:{color:s[2]}}),{c(){e=h("li"),B(t.$$.fragment),n=V(),o=j(l),i=V()},m(a,c){w(a,e,c),I(t,e,null),v(e,n),v(e,o),v(e,i),r=!0},p(a,c){const u={};c&1&&(u.color=a[2]),t.$set(u),(!r||c&1)&&l!==(l=a[1]+"")&&x(o,l)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){b(t.$$.fragment,a),r=!1},d(a){a&&y(e),P(t)}}}function gt(s){let e,t,n=K(s[0]),l=[];for(let i=0;i<n.length;i+=1)l[i]=he(ge(s,n,i));const o=i=>b(l[i],1,1,()=>{l[i]=null});return{c(){e=h("ul");for(let i=0;i<l.length;i+=1)l[i].c()},m(i,r){w(i,e,r);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);t=!0},p(i,r){if(r&1){n=K(i[0]);let a;for(a=0;a<n.length;a+=1){const c=ge(i,n,a);l[a]?(l[a].p(c,r),g(l[a],1)):(l[a]=he(c),l[a].c(),g(l[a],1),l[a].m(e,null))}for(N(),a=n.length;a<l.length;a+=1)o(a);q()}},i(i){if(!t){for(let r=0;r<n.length;r+=1)g(l[r]);t=!0}},o(i){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)b(l[r]);t=!1},d(i){i&&y(e),Se(l,i)}}}function ht(s){let e,t;return e=new Le({props:{label:"Legend",$$slots:{default:[gt]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},m(n,l){I(e,n,l),t=!0},p(n,[l]){const o={};l&33&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function bt(s,e,t){let{rows:n}=e;return s.$$set=l=>{"rows"in l&&t(0,n=l.rows)},[n]}class Wt extends C{constructor(e){super(),L(this,e,bt,ht,E,{rows:0})}}function be(s){let e;const t=s[5].default,n=M(t,s,s[4],null);return{c(){n&&n.c()},m(l,o){n&&n.m(l,o),e=!0},p(l,o){n&&n.p&&(!e||o&16)&&O(n,t,l,l[4],e?R(t,l[4],o,null):H(l[4]),null)},i(l){e||(g(n,l),e=!0)},o(l){b(n,l),e=!1},d(l){n&&n.d(l)}}}function vt(s){let e,t,n=s[1]&&be(s);return{c(){e=h("div"),n&&n.c(),m(e,"class","map svelte-12dpf1u")},m(l,o){w(l,e,o),n&&n.m(e,null),s[6](e),t=!0},p(l,[o]){l[1]?n?(n.p(l,o),o&2&&g(n,1)):(n=be(l),n.c(),g(n,1),n.m(e,null)):n&&(N(),b(n,1,1,()=>{n=null}),q())},i(l){t||(g(n),t=!0)},o(l){b(n),t=!1},d(l){l&&y(e),n&&n.d(),s[6](null)}}}function kt(s,e,t){let{$$slots:n={},$$scope:l}=e,{style:o}=e,{startBounds:i=null}=e,r,a,c=!1,u=!window.location.hash;He("setCamera",u),Re(()=>{r=new Z.Map({container:a,style:`https://api.maptiler.com/maps/${o}/style.json?key=MZEJTanw3WpxRvt7qDfo`,hash:!0}),r.addControl(new Z.ScaleControl({})),r.addControl(new Z.NavigationControl({visualizePitch:!0}),"bottom-right"),r.on("load",()=>{t(1,c=!0),u&&i&&r.fitBounds(i,{animate:!1}),F.set(r)}),new ResizeObserver(()=>{r.resize()}).observe(a)}),De(()=>{r.remove()});function d(_){W[_?"unshift":"push"](()=>{a=_,t(0,a)})}return s.$$set=_=>{"style"in _&&t(2,o=_.style),"startBounds"in _&&t(3,i=_.startBounds),"$$scope"in _&&t(4,l=_.$$scope)},[a,c,o,i,l,n,d]}class Zt extends C{constructor(e){super(),L(this,e,kt,vt,E,{style:2,startBounds:3})}}const wt="/atip/rerework-streetview/assets/zoom_out_map-b2e1091a.svg";class yt{constructor(e){J(this,"id");J(this,"defaultLayer");J(this,"changedValues",[]);this.id=e.id,this.defaultLayer=JSON.parse(JSON.stringify(e))}setProperty(e,t,n){e.setPaintProperty(this.id,t,n),this.changedValues.push(t)}returnToDefaultPaintValues(e){this.changedValues.forEach(t=>{e.setPaintProperty(this.id,t,this.defaultLayer[t])}),this.changedValues=[]}}const $t=["road_minor","road_secondary_tertiary","road_motorway","road_trunk_primary","road_link","road_motorway_link","road_trunk_primary_link","road_minor","bridge_street","bridge_minor","bridge_secondary_tertiary","bridge_trunk_primary","bridge_motorway","tunnel_minor","tunnel_secondary_tertiary","tunnel_trunk_primary","tunnel_motorway","road_service_track","Road network"],St=()=>ze(F).getStyle().layers.filter(e=>$t.includes(e.id)).map(e=>new yt(e));function Ct(s){let e,t;return{c(){e=h("img"),Ce(e.src,t=wt)||m(e,"src",t),m(e,"alt","Zoom to show entire boundary")},m(n,l){w(n,e,l)},p:X,d(n){n&&y(e)}}}function Lt(s){let e,t;return e=new ne({props:{title:"Zoom to show entire boundary",$$slots:{default:[Ct]},$$scope:{ctx:s}}}),e.$on("click",s[0]),{c(){B(e.$$.fragment)},m(n,l){I(e,n,l),t=!0},p(n,[l]){const o={};l&8&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Et(s,e,t){let n;T(s,F,i=>t(2,n=i));let{boundaryGeojson:l}=e;function o(){n.fitBounds(je(l),{padding:20,animate:!0,duration:500})}return s.$$set=i=>{"boundaryGeojson"in i&&t(1,l=i.boundaryGeojson)},[o,l]}class At extends C{constructor(e){super(),L(this,e,Et,Lt,E,{boundaryGeojson:1})}}const S={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black",streetviewBlue:"blue"},Vt=10,A=10;let z="interventions";function Bt(s,e,t){let n,l;T(s,F,a=>t(1,n=a)),T(s,Ge,a=>t(2,l=a));let{colorInterventions:o}=e;Ne(n,z,l);const i=["!=","hide_while_editing",!0];return oe(n,{id:"interventions-points",source:z,filter:["all",Te,i,["!=","endpoint",!0]],color:o,radius:Vt}),ie(n,{id:"interventions-lines",source:z,filter:["all",Fe,i],color:o,width:A}),oe(n,{id:"interventions-lines-endpoints",source:z,filter:["==","endpoint",!0],radius:.5*A,opacity:0,strokeColor:S.lineEndpointColor,strokeWidth:2}),qe(n,{id:"interventions-polygons",source:z,filter:["all",ae,i],color:o,opacity:.2}),ie(n,{id:"interventions-polygon-outlines",source:z,filter:["all",ae,i],color:o,opacity:.5,width:.7*A}),s.$$set=a=>{"colorInterventions"in a&&t(0,o=a.colorInterventions)},s.$$.update=()=>{if(s.$$.dirty&6){let a=JSON.parse(JSON.stringify(l)),c=[];for(let u of a.features)if(u.geometry.type=="LineString"&&!u.properties.hide_while_editing)for(let d of[u.geometry.coordinates[0],u.geometry.coordinates[u.geometry.coordinates.length-1]])c.push({type:"Feature",properties:{endpoint:!0},geometry:{type:"Point",coordinates:d}});a.features=a.features.concat(c),n.getSource(z).setData(a)}},[o,n,l]}class Ut extends C{constructor(e){super(),L(this,e,Bt,null,E,{colorInterventions:0})}}function Qt(s){return{v1:"Scheme Design",v2:"Experimental Scheme Design",planning:"Development Planning",criticals:"Critical Issues",atf4:"ATF4 Scheme"}[s]}function Xt(s){return{v1:"an intervention",v2:"an intervention",planning:"a development",criticals:"a critical issue",atf4:"an intervention"}[s]}function Yt(s){return{v1:"interventions",v2:"interventions",planning:"developments",criticals:"critical issues",atf4:"interventions"}[s]}function xt(s){return s=="planning"?re(["get","reference_type",["get","planning"]],{preapp:S.preapp,outline:S.outline,"reserved matters":S["reserved matters"],"local plan":S["local plan"]},"black"):re(["get","intervention_type"],{area:S.area,route:S.route,crossing:S.crossing,other:S.other},"white")}function en(s){return s=="planning"?[["Preapp",S.preapp],["Outline",S.outline],["Reserved matters",S["reserved matters"]],["Local plan",S["local plan"]]]:[["Areas",S.area],["Routes",S.route],["Crossings",S.crossing],["Other",S.other]]}const It="/atip/rerework-streetview/assets/camera_cursor-824d29b6.svg";function ve(s){let e,t,n,l;const o=[Mt,Pt],i=[];function r(a,c){return a[0]?0:1}return e=r(s),t=i[e]=o[e](s),{c(){t.c(),n=Y()},m(a,c){i[e].m(a,c),w(a,n,c),l=!0},p(a,c){let u=e;e=r(a),e===u?i[e].p(a,c):(N(),b(i[u],1,1,()=>{i[u]=null}),q(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),g(t,1),t.m(n.parentNode,n))},i(a){l||(g(t),l=!0)},o(a){b(t),l=!1},d(a){a&&y(n),i[e].d(a)}}}function Pt(s){let e,t;return e=new ne({props:{$$slots:{default:[Ot]},$$scope:{ctx:s}}}),e.$on("click",s[4]),{c(){B(e.$$.fragment)},m(n,l){I(e,n,l),t=!0},p(n,l){const o={};l&1024&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Mt(s){let e,t;return e=new ne({props:{$$slots:{default:[Ht]},$$scope:{ctx:s}}}),e.$on("click",s[3]),{c(){B(e.$$.fragment)},m(n,l){I(e,n,l),t=!0},p(n,l){const o={};l&1024&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ot(s){let e;return{c(){e=j("Disable Street View")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Ht(s){let e;return{c(){e=j("Enable Street View")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ke(s){let e,t,n,l,o;function i(a){s[7](a)}let r={legend:"Source",id:"streetViewImagery",choices:[["google","Google Street View"],["bing","Bing Streetside"]]};return s[5].streetViewImagery!==void 0&&(r.value=s[5].streetViewImagery),e=new Je({props:r}),W.push(()=>ee(e,"value",i)),l=new Le({props:{label:"Help",$$slots:{default:[Dt]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),n=V(),B(l.$$.fragment)},m(a,c){I(e,a,c),w(a,n,c),I(l,a,c),o=!0},p(a,c){const u={};!t&&c&32&&(t=!0,u.value=a[5].streetViewImagery,te(()=>t=!1)),e.$set(u);const d={};c&1028&&(d.$$scope={dirty:c,ctx:a}),l.$set(d)},i(a){o||(g(e.$$.fragment,a),g(l.$$.fragment,a),o=!0)},o(a){b(e.$$.fragment,a),b(l.$$.fragment,a),o=!1},d(a){a&&y(n),P(e,a),P(l,a)}}}function we(s){let e;return{c(){e=h("li"),e.innerHTML=`Press <b>Escape</b>
          to exit this mode`},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Rt(s){let e;return{c(){e=j("Luc Chaissac")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Dt(s){let e,t,n,l,o,i,r,a,c=s[2]&&we();return r=new Ke({props:{href:"https://icon-icons.com/icon/screenshot-cursor-camera/100181",$$slots:{default:[Rt]},$$scope:{ctx:s}}}),{c(){e=h("ul"),t=h("li"),t.innerHTML=`<b>Click</b>
        on the map to open a new tab with a 3rd-party imagery provider`,n=V(),c&&c.c(),l=V(),o=h("li"),i=j("Cursor by "),B(r.$$.fragment)},m(u,d){w(u,e,d),v(e,t),v(e,n),c&&c.m(e,null),v(e,l),v(e,o),v(o,i),I(r,o,null),a=!0},p(u,d){u[2]?c||(c=we(),c.c(),c.m(e,l)):c&&(c.d(1),c=null);const _={};d&1024&&(_.$$scope={dirty:d,ctx:u}),r.$set(_)},i(u){a||(g(r.$$.fragment,u),a=!0)},o(u){b(r.$$.fragment,u),a=!1},d(u){u&&y(e),c&&c.d(),P(r)}}}function zt(s){let e,t,n,l=s[1]&&ve(s),o=!s[0]&&ke(s);return{c(){l&&l.c(),e=V(),o&&o.c(),t=Y()},m(i,r){l&&l.m(i,r),w(i,e,r),o&&o.m(i,r),w(i,t,r),n=!0},p(i,[r]){i[1]?l?(l.p(i,r),r&2&&g(l,1)):(l=ve(i),l.c(),g(l,1),l.m(e.parentNode,e)):l&&(N(),b(l,1,1,()=>{l=null}),q()),i[0]?o&&(N(),b(o,1,1,()=>{o=null}),q()):o?(o.p(i,r),r&1&&g(o,1)):(o=ke(i),o.c(),g(o,1),o.m(t.parentNode,t))},i(i){n||(g(l),g(o),n=!0)},o(i){b(l),b(o),n=!1},d(i){i&&(y(e),y(t)),l&&l.d(i),o&&o.d(i)}}}function jt(s,e,t){let n,l;T(s,F,f=>t(8,n=f)),T(s,ce,f=>t(5,l=f));let{displayEnableButton:o=!1}=e,{escapeKeyExits:i=!1}=e;const r=St();let{isInactive:a}=e;const c=f=>{if(a)return;let p=f.lngLat.lng,k=f.lngLat.lat;l.streetViewImagery=="google"?window.open(`http://maps.google.com/maps?q=&layer=c&cbll=${k},${p}&cbp=11,0,0,0,0`,"_blank"):l.streetViewImagery=="bing"&&window.open(`https://www.bing.com/maps?cp=${k}~${p}&style=x`,"_blank")};function u(){t(0,a=!1),n.on("click",c),n.getCanvas().style.cursor=`url(${It}), auto`,r.forEach(f=>{f.setProperty(n,"line-color",S.streetviewBlue)})}function d(){t(0,a=!0),n.off("click",c),n.getCanvas().style.cursor="inherit",r.forEach(f=>{f.returnToDefaultPaintValues(n)})}function _(f){s.$$.not_equal(l.streetViewImagery,f)&&(l.streetViewImagery=f,ce.set(l))}return s.$$set=f=>{"displayEnableButton"in f&&t(1,o=f.displayEnableButton),"escapeKeyExits"in f&&t(2,i=f.escapeKeyExits),"isInactive"in f&&t(0,a=f.isInactive)},[a,o,i,u,d,l,c,_]}class tn extends C{constructor(e){super(),L(this,e,jt,zt,E,{displayEnableButton:1,escapeKeyExits:2,isInactive:0,handleMapClickEvent:6,enableStreetView:3,disableStreetView:4})}get handleMapClickEvent(){return this.$$.ctx[6]}get enableStreetView(){return this.$$.ctx[3]}get disableStreetView(){return this.$$.ctx[4]}}export{Ft as B,Le as C,Jt as H,Ut as I,Kt as L,Zt as M,tn as S,At as Z,Vt as a,qt as b,S as c,Tt as d,et as e,Yt as f,Qt as g,xt as h,Wt as i,en as j,at as k,A as l,Xt as s};
