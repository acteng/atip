import{S as X,i as Y,s as Z,F as Te,g as x,m as $,t as g,n as k,p as ee,e as ne,h as D,j as K,x as Ie,o as U,b as te,a$ as ve,c as Pe,l as ze,J as oe,O as le,P as fe,Q as ue,a1 as Ee,b0 as j,Y as Se,Z as be,_ as ke,bc as Fe,$ as He,q as R,u as je,X as B,W as Be,bd as we}from"./index-c4f8baf2.js";function Ae(o){let e,n,t;return{c(){e=ne("input"),e.disabled=o[2],D(e,"class","govuk-file-upload"),D(e,"id",o[1]),D(e,"type","file")},m(l,f){K(l,e,f),o[6](e),n||(t=Ie(e,"change",o[4]),n=!0)},p(l,f){f&4&&(e.disabled=l[2]),f&2&&D(e,"id",l[1])},d(l){l&&U(e),o[6](null),n=!1,t()}}}function We(o){let e,n;return e=new Te({props:{label:o[0],id:o[1],$$slots:{default:[Ae]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},m(t,l){$(e,t,l),n=!0},p(t,[l]){const f={};l&1&&(f.label=t[0]),l&2&&(f.id=t[1]),l&142&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function qe(o,e,n){let{label:t}=e,{id:l}=e,{loadFile:f}=e,{disabled:i=!1}=e,s;function c(m){let I=new FileReader;I.onload=O=>{f(O.target.result)};let y=s.files;I.readAsText(y[0])}function T(m){te[m?"unshift":"push"](()=>{s=m,n(3,s)})}return o.$$set=m=>{"label"in m&&n(0,t=m.label),"id"in m&&n(1,l=m.id),"loadFile"in m&&n(5,f=m.loadFile),"disabled"in m&&n(2,i=m.disabled)},[t,l,i,s,c,f,T]}class xe extends X{constructor(e){super(),Y(this,e,qe,We,Z,{label:0,id:1,loadFile:5,disabled:2})}}function De(o){let e;const n=o[15].default,t=oe(n,o,o[23],null);return{c(){t&&t.c()},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&8388608)&&le(t,n,l,l[23],e?ue(n,l[23],f,null):fe(l[23]),null)},i(l){e||(g(t,l),e=!0)},o(l){k(t,l),e=!1},d(l){t&&t.d(l)}}}function Ne(o){let e,n,t;function l(i){o[16](i)}let f={id:o[1],type:"fill",source:o[2],sourceLayer:o[3],beforeId:o[4],beforeLayerType:o[5],paint:o[6],layout:o[7],filter:o[8],minzoom:o[9],maxzoom:o[10],hoverCursor:o[11],manageHoverState:o[12],eventsIfTopMost:o[13],interactive:o[14],$$slots:{default:[De]},$$scope:{ctx:o}};return o[0]!==void 0&&(f.hovered=o[0]),e=new ve({props:f}),te.push(()=>Pe(e,"hovered",l)),e.$on("click",o[17]),e.$on("dblclick",o[18]),e.$on("contextmenu",o[19]),e.$on("mouseenter",o[20]),e.$on("mousemove",o[21]),e.$on("mouseleave",o[22]),{c(){x(e.$$.fragment)},m(i,s){$(e,i,s),t=!0},p(i,[s]){const c={};s&2&&(c.id=i[1]),s&4&&(c.source=i[2]),s&8&&(c.sourceLayer=i[3]),s&16&&(c.beforeId=i[4]),s&32&&(c.beforeLayerType=i[5]),s&64&&(c.paint=i[6]),s&128&&(c.layout=i[7]),s&256&&(c.filter=i[8]),s&512&&(c.minzoom=i[9]),s&1024&&(c.maxzoom=i[10]),s&2048&&(c.hoverCursor=i[11]),s&4096&&(c.manageHoverState=i[12]),s&8192&&(c.eventsIfTopMost=i[13]),s&16384&&(c.interactive=i[14]),s&8388608&&(c.$$scope={dirty:s,ctx:i}),!n&&s&1&&(n=!0,c.hovered=i[0],ze(()=>n=!1)),e.$set(c)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){ee(e,i)}}}function Ge(o,e,n){let{$$slots:t={},$$scope:l}=e,{id:f=Ee("fill")}=e,{source:i=void 0}=e,{sourceLayer:s=void 0}=e,{beforeId:c=void 0}=e,{beforeLayerType:T=void 0}=e,{paint:m}=e,{layout:I=void 0}=e,{filter:y=void 0}=e,{minzoom:O=void 0}=e,{maxzoom:v=void 0}=e,{hoverCursor:z=void 0}=e,{manageHoverState:_=!1}=e,{hovered:C=null}=e,{eventsIfTopMost:E=!1}=e,{interactive:S=!0}=e;function w(r){C=r,n(0,C)}function A(r){j.call(this,o,r)}function W(r){j.call(this,o,r)}function h(r){j.call(this,o,r)}function F(r){j.call(this,o,r)}function d(r){j.call(this,o,r)}function N(r){j.call(this,o,r)}return o.$$set=r=>{"id"in r&&n(1,f=r.id),"source"in r&&n(2,i=r.source),"sourceLayer"in r&&n(3,s=r.sourceLayer),"beforeId"in r&&n(4,c=r.beforeId),"beforeLayerType"in r&&n(5,T=r.beforeLayerType),"paint"in r&&n(6,m=r.paint),"layout"in r&&n(7,I=r.layout),"filter"in r&&n(8,y=r.filter),"minzoom"in r&&n(9,O=r.minzoom),"maxzoom"in r&&n(10,v=r.maxzoom),"hoverCursor"in r&&n(11,z=r.hoverCursor),"manageHoverState"in r&&n(12,_=r.manageHoverState),"hovered"in r&&n(0,C=r.hovered),"eventsIfTopMost"in r&&n(13,E=r.eventsIfTopMost),"interactive"in r&&n(14,S=r.interactive),"$$scope"in r&&n(23,l=r.$$scope)},[C,f,i,s,c,T,m,I,y,O,v,z,_,E,S,t,w,A,W,h,F,d,N,l]}class $e extends X{constructor(e){super(),Y(this,e,Ge,Ne,Z,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}const Je=o=>({features:o[0]&16,data:o[0]&16,map:o[0]&4,close:o[0]&1}),de=o=>{var e;return{features:o[4],data:(e=o[4])==null?void 0:e[0],map:o[2],close:o[31]}};function _e(o){let e,n,t=(o[4]||o[3]instanceof B.Marker)&&he(o);return{c(){e=ne("div"),t&&t.c()},m(l,f){K(l,e,f),t&&t.m(e,null),o[32](e),n=!0},p(l,f){l[4]||l[3]instanceof B.Marker?t?(t.p(l,f),f[0]&24&&g(t,1)):(t=he(l),t.c(),g(t,1),t.m(e,null)):t&&(be(),k(t,1,1,()=>{t=null}),ke())},i(l){n||(g(t),n=!0)},o(l){k(t),n=!1},d(l){l&&U(e),t&&t.d(),o[32](null)}}}function he(o){let e;const n=o[30].default,t=oe(n,o,o[29],de);return{c(){t&&t.c()},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f[0]&536870933)&&le(t,n,l,l[29],e?ue(n,l[29],f,Je):fe(l[29]),de)},i(l){e||(g(t,l),e=!0)},o(l){k(t,l),e=!1},d(l){t&&t.d(l)}}}function Qe(o){let e,n,t=o[9].default&&_e(o);return{c(){t&&t.c(),e=Se()},m(l,f){t&&t.m(l,f),K(l,e,f),n=!0},p(l,f){l[9].default?t?(t.p(l,f),f[0]&512&&g(t,1)):(t=_e(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(be(),k(t,1,1,()=>{t=null}),ke())},i(l){n||(g(t),n=!0)},o(l){k(t),n=!1},d(l){l&&U(e),t&&t.d(l)}}}function Re(o,e,n){let t,l,f,i,s,c,{$$slots:T={},$$scope:m}=e;const I=Fe(T);let{closeButton:y=void 0}=e,{closeOnClickOutside:O=!0}=e,{closeOnClickInside:v=!1}=e,{closeOnMove:z=!1}=e,{openOn:_="click"}=e,{openIfTopMost:C=!0}=e,{focusAfterOpen:E=!0}=e,{anchor:S=void 0}=e,{offset:w=void 0}=e,{popupClass:A=void 0}=e,{maxWidth:W=void 0}=e,{lngLat:h=void 0}=e,{html:F=void 0}=e,{open:d=!1}=e;const{map:N,popupTarget:r,layerEvent:G,layer:ie,eventTopMost:Oe}=He();R(o,N,u=>n(2,f=u)),R(o,r,u=>n(3,s=u)),R(o,G,u=>n(28,i=u)),R(o,ie,u=>n(35,c=u));const Le=["click","dblclick","contextmenu"];let a,J=!1,M;function ye(){if(!a)return;let u=a.getElement();!u||u===M||(M=u,_==="hover"&&(M.style.pointerEvents="none"),M.addEventListener("mouseenter",()=>{n(24,J=!0)},{passive:!0}),M.addEventListener("mouseleave",()=>{n(24,J=!1)},{passive:!0}),M.addEventListener("click",()=>{v&&n(0,d=!1)},{passive:!0}))}je(()=>{if(f)return f.on("click",Q),f.on("contextmenu",Q),typeof s=="string"&&(f.on("click",s,P),f.on("dblclick",s,P),f.on("contextmenu",s,P),f.on("mousemove",s,me),f.on("mouseleave",s,ae),f.on("touchstart",s,re),f.on("touchend",s,ce)),()=>{f!=null&&f.loaded()&&(a==null||a.remove(),f.off("click",Q),f.off("contextmenu",Q),s instanceof B.Marker?s.getPopup()===a&&s.setPopup(void 0):typeof s=="string"&&(f.off("click",s,P),f.off("dblclick",s,P),f.off("contextmenu",s,P),f.off("mousemove",s,me),f.off("mouseleave",s,ae),f.off("touchstart",s,re),f.off("touchend",s,ce)))}});function se(u){return C?!("marker"in u)&&!we(u)&&Oe(u)!==c:!1}let b=null,L="normal";function P(u){u.type===_&&(se(u)||("layerType"in u?u.layerType==="deckgl"?(n(10,h=u.coordinate),n(4,b=u.object?[u.object]:null)):(n(10,h=u.lngLat),n(4,b=u.features??[])):(n(10,h=u.lngLat),n(4,b=u.features??[])),setTimeout(()=>n(0,d=!0))))}let H=null;function re(u){H=u.point}function ce(u){if(!H||_!=="hover")return;let V=H.dist(u.point);H=null,V<3&&(n(10,h=u.lngLat),n(4,b=u.features??[]),a.isOpen()?n(25,L="justOpened"):(n(25,L="opening"),n(0,d=!0)))}function ae(u){_!=="hover"||H||L!=="normal"||(n(0,d=!1),n(4,b=null))}function me(u){if(!(_!=="hover"||H||L!=="normal")){if(se(u)){n(0,d=!1),n(4,b=null);return}n(0,d=!0),n(4,b=u.features??[]),n(10,h=u.lngLat)}}function Q(u){if(L==="justOpened"){n(25,L="normal");return}if(!O)return;let V=[M,s instanceof B.Marker?s==null?void 0:s.getElement():null];d&&a.isOpen()&&!V.some(p=>p==null?void 0:p.contains(u.originalEvent.target))&&(u.type==="contextmenu"&&_==="contextmenu"||u.type!=="contextmenu")&&n(0,d=!1)}let q;const Ce=()=>n(0,d=!1);function Me(u){te[u?"unshift":"push"](()=>{q=u,n(1,q)})}return o.$$set=u=>{"closeButton"in u&&n(11,y=u.closeButton),"closeOnClickOutside"in u&&n(12,O=u.closeOnClickOutside),"closeOnClickInside"in u&&n(13,v=u.closeOnClickInside),"closeOnMove"in u&&n(14,z=u.closeOnMove),"openOn"in u&&n(15,_=u.openOn),"openIfTopMost"in u&&n(16,C=u.openIfTopMost),"focusAfterOpen"in u&&n(17,E=u.focusAfterOpen),"anchor"in u&&n(18,S=u.anchor),"offset"in u&&n(19,w=u.offset),"popupClass"in u&&n(20,A=u.popupClass),"maxWidth"in u&&n(21,W=u.maxWidth),"lngLat"in u&&n(10,h=u.lngLat),"html"in u&&n(22,F=u.html),"open"in u&&n(0,d=u.open),"$$scope"in u&&n(29,m=u.$$scope)},o.$$.update=()=>{if(o.$$.dirty[0]&14336&&n(27,t=y??(!O&&!v)),o.$$.dirty[0]&146685952&&(a||(n(23,a=new B.Popup({closeButton:t,closeOnClick:!1,closeOnMove:z,focusAfterOpen:E,maxWidth:W,className:A,anchor:S,offset:w})),M=a.getElement(),a.on("open",()=>{n(0,d=!0),ye()}),a.on("close",u=>{n(0,d=!1)}))),o.$$.dirty[0]&8421384&&a&&s instanceof B.Marker&&(_==="click"?s.setPopup(a):s.getPopup()===a&&s.setPopup(void 0)),o.$$.dirty[0]&268468224&&Le.includes(_)&&(i==null?void 0:i.type)===_&&(P(i),Be(G,i=null,i)),o.$$.dirty[0]&268468224&&n(26,l=_==="hover"&&((i==null?void 0:i.type)==="mousemove"||(i==null?void 0:i.type)==="mouseenter")),o.$$.dirty[0]&352354304&&_==="hover"&&G&&(l&&i&&(i.layerType==="deckgl"?(n(10,h=i.coordinate),n(4,b=i.object?[i.object]:null)):(n(10,h=i.lngLat),n(4,b=i.features??[]))),n(0,d=(l||J)??!1)),o.$$.dirty[0]&12582914&&(q?a.setDOMContent(q):F&&a.setHTML(F)),o.$$.dirty[0]&8389632&&h&&a.setLngLat(h),o.$$.dirty[0]&41943045&&f){let u=a.isOpen();d&&!u?(a.addTo(f),L==="opening"&&n(25,L="justOpened")):!d&&u&&a.remove()}},[d,q,f,s,b,N,r,G,ie,I,h,y,O,v,z,_,C,E,S,w,A,W,F,a,J,L,l,t,i,m,T,Ce,Me]}class Xe extends X{constructor(e){super(),Y(this,e,Re,Qe,Z,{closeButton:11,closeOnClickOutside:12,closeOnClickInside:13,closeOnMove:14,openOn:15,openIfTopMost:16,focusAfterOpen:17,anchor:18,offset:19,popupClass:20,maxWidth:21,lngLat:10,html:22,open:0},null,[-1,-1])}}const Ye=o=>({props:o&8}),ge=o=>({props:Ue(o[3])});function Ze(o){let e,n;const t=o[1].default,l=oe(t,o,o[2],ge);return{c(){e=ne("div"),l&&l.c(),D(e,"class","govuk-prose")},m(f,i){K(f,e,i),l&&l.m(e,null),n=!0},p(f,i){l&&l.p&&(!n||i&12)&&le(l,t,f,f[2],n?ue(t,f[2],i,Ye):fe(f[2]),ge)},i(f){n||(g(l,f),n=!0)},o(f){k(l,f),n=!1},d(f){f&&U(e),l&&l.d(f)}}}function Ke(o){let e,n;return e=new Xe({props:{openOn:o[0],openIfTopMost:!0,$$slots:{default:[Ze,({features:t})=>({3:t}),({features:t})=>t?8:0]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},m(t,l){$(e,t,l),n=!0},p(t,[l]){const f={};l&1&&(f.openOn=t[0]),l&12&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){ee(e,t)}}}function Ue(o){return o?o[0].properties??{}:{}}function Ve(o,e,n){let{$$slots:t={},$$scope:l}=e,{openOn:f="hover"}=e;return o.$$set=i=>{"openOn"in i&&n(0,f=i.openOn),"$$scope"in i&&n(2,l=i.$$scope)},[f,t,l]}class en extends X{constructor(e){super(),Y(this,e,Ve,Ke,Z,{openOn:0})}}export{xe as F,en as P,$e as a,Xe as b};
