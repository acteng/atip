import{E as L,s as I,O as se,S as R,i as W,e as k,f as d,g as C,n as w,W as V,o as F,X as Y,p as M,ap as ne,Q as le,aq as D,R as $,w as O,B as T,C as B,D as E,b as oe,c as S,ar as G,h as b,l as H,H as ie,t as x,as as ae,A as ee,r as re,$ as N,T as ue,U as fe,_ as A}from"./maplibre_helpers-79179479.js";const q=[];function z(n,e=L){let t;const s=new Set;function l(a){if(I(n,a)&&(n=a,t)){const u=!q.length;for(const r of s)r[1](),q.push(r,n);if(u){for(let r=0;r<q.length;r+=2)q[r][0](q[r+1]);q.length=0}}}function i(a){l(a(n))}function o(a,u=L){const r=[a,u];return s.add(r),s.size===1&&(t=e(l)||L),a(n),()=>{s.delete(r),s.size===0&&(t(),t=null)}}return{set:l,update:i,subscribe:o}}const te=z(null),ce=z(se()),de=z(null),_e=z(null),pe=z(null),me=z(null);function Le(n){let e=new Set;for(let s of n.features)e.add(s.id);let t=e.size+1;for(;e.has(t);)t++;return t}function Oe(n){console.log(`Deleting intervention ${n}`),ce.update(e=>(e.features=e.features.filter(t=>t.id!=n),e)),de.set(null),_e.set(null),pe.set(null),me.set(null)}function J(n){let e;const t=n[4].default,s=O(t,n,n[3],null);return{c(){s&&s.c()},m(l,i){s&&s.m(l,i),e=!0},p(l,i){s&&s.p&&(!e||i&8)&&T(s,t,l,l[3],e?E(t,l[3],i,null):B(l[3]),null)},i(l){e||(w(s,l),e=!0)},o(l){F(s,l),e=!1},d(l){s&&s.d(l)}}}function be(n){let e,t,s=n[1]&&J(n);return{c(){e=k("div"),s&&s.c(),d(e,"class","map svelte-12dpf1u")},m(l,i){C(l,e,i),s&&s.m(e,null),n[5](e),t=!0},p(l,[i]){l[1]?s?(s.p(l,i),i&2&&w(s,1)):(s=J(l),s.c(),w(s,1),s.m(e,null)):s&&(V(),F(s,1,1,()=>{s=null}),Y())},i(l){t||(w(s),t=!0)},o(l){F(s),t=!1},d(l){l&&M(e),s&&s.d(),n[5](null)}}}function ge(n,e,t){let{$$slots:s={},$$scope:l}=e,{style:i}=e,o,a,u=!1;ne("setCamera",!window.location.hash),le(()=>{o=new D.Map({container:a,style:`https://api.maptiler.com/maps/${i}/style.json?key=MZEJTanw3WpxRvt7qDfo`,hash:!0}),o.addControl(new D.ScaleControl({})),o.addControl(new D.NavigationControl({visualizePitch:!0}),"bottom-right"),o.on("load",()=>{t(1,u=!0),te.set(o)}),new ResizeObserver(()=>{o.resize()}).observe(a)}),$(()=>{o.remove()});function r(c){oe[c?"unshift":"push"](()=>{a=c,t(0,a)})}return n.$$set=c=>{"style"in c&&t(2,i=c.style),"$$scope"in c&&t(3,l=c.$$scope)},[a,u,i,l,s,r]}class Te extends R{constructor(e){super(),W(this,e,ge,be,I,{style:2})}}const ve=n=>({}),Q=n=>({}),he=n=>({}),U=n=>({}),ye=n=>({}),X=n=>({});function ke(n){let e,t,s,l,i,o,a,u,r,c,_,p;const m=n[3].nav,g=O(m,n,n[2],X),P=n[3].sidebar,v=O(P,n,n[2],U),j=n[3].main,h=O(j,n,n[2],Q);return{c(){e=k("aside"),t=k("div"),s=k("nav"),g&&g.c(),l=S(),v&&v.c(),i=S(),o=k("button"),o.textContent="â†’",u=S(),r=k("main"),h&&h.c(),d(s,"class","svelte-1u7vg8a"),d(t,"class","sidebar-content content-container svelte-1u7vg8a"),d(o,"type","button"),d(o,"class","sidebar-toggle rounded-rect svelte-1u7vg8a"),d(e,"class",a=G(n[0]?"":"collapsed")+" svelte-1u7vg8a"),d(r,"class","svelte-1u7vg8a")},m(f,y){C(f,e,y),b(e,t),b(t,s),g&&g.m(s,null),b(t,l),v&&v.m(t,null),b(e,i),b(e,o),C(f,u,y),C(f,r,y),h&&h.m(r,null),c=!0,_||(p=H(o,"click",n[1]),_=!0)},p(f,[y]){g&&g.p&&(!c||y&4)&&T(g,m,f,f[2],c?E(m,f[2],y,ye):B(f[2]),X),v&&v.p&&(!c||y&4)&&T(v,P,f,f[2],c?E(P,f[2],y,he):B(f[2]),U),(!c||y&1&&a!==(a=G(f[0]?"":"collapsed")+" svelte-1u7vg8a"))&&d(e,"class",a),h&&h.p&&(!c||y&4)&&T(h,j,f,f[2],c?E(j,f[2],y,ve):B(f[2]),Q)},i(f){c||(w(g,f),w(v,f),w(h,f),c=!0)},o(f){F(g,f),F(v,f),F(h,f),c=!1},d(f){f&&M(e),g&&g.d(f),v&&v.d(f),f&&M(u),f&&M(r),h&&h.d(f),_=!1,p()}}}function we(n,e,t){let{$$slots:s={},$$scope:l}=e,i=!0;function o(){t(0,i=!i)}return n.$$set=a=>{"$$scope"in a&&t(2,l=a.$$scope)},[i,o,l,s]}class Be extends R{constructor(e){super(),W(this,e,we,ke,I,{})}}const Ee={area:"#e41a1c",route:"#377eb8",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black"},Re=10,We=10;function Ce(n,e,t){let s;ie(n,te,r=>t(2,s=r));let{layers:l}=e,{contents:i}=e,o=new D.Popup({closeButton:!1,closeOnClick:!1});s.on("mousemove",a),s.on("mouseout",u),$(()=>{s.off("mousemove",a),s.off("mouseout",u),o.remove()});function a(r){if(!l.every(_=>s.getLayer(_))){o.remove();return}let c=s.queryRenderedFeatures(r.point,{layers:l});c.length>0?o.setLngLat(r.lngLat).setHTML(i(c[0].properties)).addTo(s):o.remove()}function u(){o.remove()}return n.$$set=r=>{"layers"in r&&t(0,l=r.layers),"contents"in r&&t(1,i=r.contents)},[l,i]}class De extends R{constructor(e){super(),W(this,e,Ce,null,I,{layers:0,contents:1})}}function Fe(n){const e=n-1;return e*e*e+1}function Z(n,{delay:e=0,duration:t=400,easing:s=Fe}={}){const l=getComputedStyle(n),i=+l.opacity,o=parseFloat(l.height),a=parseFloat(l.paddingTop),u=parseFloat(l.paddingBottom),r=parseFloat(l.marginTop),c=parseFloat(l.marginBottom),_=parseFloat(l.borderTopWidth),p=parseFloat(l.borderBottomWidth);return{delay:e,duration:t,easing:s,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*i};height: ${m*o}px;padding-top: ${m*a}px;padding-bottom: ${m*u}px;margin-top: ${m*r}px;margin-bottom: ${m*c}px;border-top-width: ${m*_}px;border-bottom-width: ${m*p}px;`}}function Me(n){let e,t,s,l,i,o,a;return{c(){e=k("label"),t=k("input"),s=S(),l=k("button"),i=x(n[0]),d(t,"type","file"),d(t,"id",n[1]),d(t,"class","svelte-a846bd"),d(l,"type","button")},m(u,r){C(u,e,r),b(e,t),b(e,s),b(e,l),b(l,i),o||(a=[H(t,"change",function(){ae(n[2])&&n[2].apply(this,arguments)}),H(l,"click",n[3])],o=!0)},p(u,[r]){n=u,r&2&&d(t,"id",n[1]),r&1&&ee(i,n[0])},i:L,o:L,d(u){u&&M(e),o=!1,re(a)}}}function qe(n,e,t){let{label:s}=e,{uniqueId:l}=e,{loadFile:i}=e;function o(){document.getElementById(l).click()}return n.$$set=a=>{"label"in a&&t(0,s=a.label),"uniqueId"in a&&t(1,l=a.uniqueId),"loadFile"in a&&t(2,i=a.loadFile)},[s,l,i,o]}class He extends R{constructor(e){super(),W(this,e,qe,Me,I,{label:0,uniqueId:1,loadFile:2})}}function K(n){let e,t,s;const l=n[3].default,i=O(l,n,n[2],null);return{c(){e=k("div"),i&&i.c()},m(o,a){C(o,e,a),i&&i.m(e,null),s=!0},p(o,a){i&&i.p&&(!s||a&4)&&T(i,l,o,o[2],s?E(l,o[2],a,null):B(o[2]),null)},i(o){s||(w(i,o),fe(()=>{t||(t=A(e,Z,{duration:100},!0)),t.run(1)}),s=!0)},o(o){F(i,o),t||(t=A(e,Z,{duration:100},!1)),t.run(0),s=!1},d(o){o&&M(e),i&&i.d(o),o&&t&&t.end()}}}function Se(n){let e,t,s,l,i,o,a,u,r,c,_=n[0]&&K(n);return{c(){e=k("button"),t=N("svg"),s=N("path"),l=S(),i=x(n[1]),o=S(),_&&_.c(),a=ue(),d(s,"d","M9 5l7 7-7 7"),d(t,"style","tran"),d(t,"width","20"),d(t,"height","20"),d(t,"fill","none"),d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),d(t,"stroke-width","2"),d(t,"viewBox","0 0 24 24"),d(t,"stroke","currentColor"),d(t,"class","svelte-una9lq"),d(e,"aria-expanded",n[0]),d(e,"class","svelte-una9lq")},m(p,m){C(p,e,m),b(e,t),b(t,s),b(e,l),b(e,i),C(p,o,m),_&&_.m(p,m),C(p,a,m),u=!0,r||(c=H(e,"click",n[4]),r=!0)},p(p,[m]){(!u||m&2)&&ee(i,p[1]),(!u||m&1)&&d(e,"aria-expanded",p[0]),p[0]?_?(_.p(p,m),m&1&&w(_,1)):(_=K(p),_.c(),w(_,1),_.m(a.parentNode,a)):_&&(V(),F(_,1,1,()=>{_=null}),Y())},i(p){u||(w(_),u=!0)},o(p){F(_),u=!1},d(p){p&&M(e),p&&M(o),_&&_.d(p),p&&M(a),r=!1,c()}}}function Ie(n,e,t){let{$$slots:s={},$$scope:l}=e,{label:i}=e,{open:o=!1}=e;const a=()=>t(0,o=!o);return n.$$set=u=>{"label"in u&&t(1,i=u.label),"open"in u&&t(0,o=u.open),"$$scope"in u&&t(2,l=u.$$scope)},[o,i,l,s,a]}class Pe extends R{constructor(e){super(),W(this,e,Ie,Se,I,{label:1,open:0})}}export{Pe as C,He as F,Be as L,De as M,_e as a,pe as b,Ee as c,Oe as d,Re as e,de as f,ce as g,Te as h,We as l,te as m,Le as n,me as o,Z as s};
