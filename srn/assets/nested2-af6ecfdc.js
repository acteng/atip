import{S as Q,i as Z,s as X,e as C,h as q,a0 as Se,j as $,X as ne,o as p,aQ as ml,b as U,c as W,d as O,g as h,m as b,w as it,l as V,t as m,n as g,p as v,Y as Xt,Z as Yt,_ as Jt,$ as Kt,a8 as De,K as pe,N as me,aR as gt,u as k,k as w,D as z,J as je,O as On,P as _l,q as ye,Q as gl,T as dl,U as st,V as hl,W as bl,aY as Gl,aZ as pt,a5 as jn,a_ as Ul,aP as Wl,as as at,af as Ln,ak as Qt,r as An,a as dt,F as gn,v as We,aX as x,a$ as ge,b0 as we,B as K,ai as ee,C as ke,al as te,b1 as ie,G as bt,ac as rn,I as vl,aT as Ut,b2 as sn,R as wl,b3 as qt,E as kl,aK as Vl,b4 as Xl,b5 as Yl,f as dn,ah as Jl,aV as Rn,am as Kl,an as Bn,ao as zn,ap as en,aW as Hn,L as Ql,M as Zl,y as xl}from"./index-44563921.js";import{d as rt,j as _t,C as Fe,f as Xe,h as re,l as H,k as eo,S as to,B as no,c as qn,b as vt,G as ro}from"./StreetViewTool-0975b644.js";import{a as Re,F as lo}from"./Popup-cf51bea5.js";import{P as fe}from"./Popup-792b73a2.js";import{R as oo,C as ft,Z as so}from"./ZoomOutMap-10093d94.js";import{L as io,a as ao}from"./LineMeasureController-5a871688.js";function fo(l){let e;return{c(){e=C("span"),q(e,"class","svelte-kzgqtg"),Se(e,"background",l[0])},m(n,t){$(n,e,t)},p(n,[t]){t&1&&Se(e,"background",n[0])},i:ne,o:ne,d(n){n&&p(e)}}}function uo(l,e,n){let{color:t}=e;return l.$$set=r=>{"color"in r&&n(0,t=r.color)},[t]}class Te extends Q{constructor(e){super(),Z(this,e,uo,fo,X,{color:0})}}const co="/atip/srn/assets/help-d011708a.svg";function $o(l){let e,n;const t=l[1].default,r=Xt(t,l,l[4],null);return{c(){e=C("div"),r&&r.c(),q(e,"class","govuk-prose")},m(o,s){$(o,e,s),r&&r.m(e,null),n=!0},p(o,s){r&&r.p&&(!n||s&16)&&Yt(r,t,o,o[4],n?Kt(t,o[4],s,null):Jt(o[4]),null)},i(o){n||(m(r,o),n=!0)},o(o){g(r,o),n=!1},d(o){o&&p(e),r&&r.d(o)}}}function po(l){let e,n,t,r,o,s,u;function i(f){l[3](f)}let a={title:"Help",$$slots:{default:[$o]},$$scope:{ctx:l}};return l[0]!==void 0&&(a.open=l[0]),t=new ml({props:a}),U.push(()=>W(t,"open",i)),{c(){e=C("button"),e.innerHTML=`<img src="${co}" title="Help" alt="Help"/>`,n=O(),h(t.$$.fragment),q(e,"class","svelte-7d9d1l")},m(f,c){$(f,e,c),$(f,n,c),b(t,f,c),o=!0,s||(u=it(e,"click",l[2]),s=!0)},p(f,[c]){const d={};c&16&&(d.$$scope={dirty:c,ctx:f}),!r&&c&1&&(r=!0,d.open=f[0],V(()=>r=!1)),t.$set(d)},i(f){o||(m(t.$$.fragment,f),o=!0)},o(f){g(t.$$.fragment,f),o=!1},d(f){f&&(p(e),p(n)),v(t,f),s=!1,u()}}}function mo(l,e,n){let{$$slots:t={},$$scope:r}=e,o=!1;const s=()=>n(0,o=!0);function u(i){o=i,n(0,o)}return l.$$set=i=>{"$$scope"in i&&n(4,r=i.$$scope)},[o,t,s,u,r]}class ce extends Q{constructor(e){super(),Z(this,e,mo,po,X,{})}}function Gn(l,e,n){const t=l.slice();return t[1]=e[n][0],t[2]=e[n][1],t}function Un(l){let e,n,t,r=l[1]+"",o,s,u;return n=new Te({props:{color:l[2]}}),{c(){e=C("li"),h(n.$$.fragment),t=O(),o=k(r),s=O()},m(i,a){$(i,e,a),b(n,e,null),w(e,t),w(e,o),w(e,s),u=!0},p(i,a){const f={};a&1&&(f.color=i[2]),n.$set(f),(!u||a&1)&&r!==(r=i[1]+"")&&z(o,r)},i(i){u||(m(n.$$.fragment,i),u=!0)},o(i){g(n.$$.fragment,i),u=!1},d(i){i&&p(e),v(n)}}}function _o(l){let e,n,t=De(l[0]),r=[];for(let s=0;s<t.length;s+=1)r[s]=Un(Gn(l,t,s));const o=s=>g(r[s],1,1,()=>{r[s]=null});return{c(){e=C("ul");for(let s=0;s<r.length;s+=1)r[s].c()},m(s,u){$(s,e,u);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);n=!0},p(s,[u]){if(u&1){t=De(s[0]);let i;for(i=0;i<t.length;i+=1){const a=Gn(s,t,i);r[i]?(r[i].p(a,u),m(r[i],1)):(r[i]=Un(a),r[i].c(),m(r[i],1),r[i].m(e,null))}for(pe(),i=t.length;i<r.length;i+=1)o(i);me()}},i(s){if(!n){for(let u=0;u<t.length;u+=1)m(r[u]);n=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)g(r[u]);n=!1},d(s){s&&p(e),gt(r,s)}}}function go(l,e,n){let{rows:t}=e;return l.$$set=r=>{"rows"in r&&n(0,t=r.rows)},[t]}class In extends Q{constructor(e){super(),Z(this,e,go,_o,X,{rows:0})}}function Wn(l){let e=l[0],n,t,r=Vn(l);return{c(){r.c(),n=je()},m(o,s){r.m(o,s),$(o,n,s),t=!0},p(o,s){s&1&&X(e,e=o[0])?(pe(),g(r,1,1,ne),me(),r=Vn(o),r.c(),m(r,1),r.m(n.parentNode,n)):r.p(o,s)},i(o){t||(m(r),t=!0)},o(o){g(r),t=!1},d(o){o&&p(n),r.d(o)}}}function Vn(l){let e;const n=l[10].default,t=Xt(n,l,l[9],null);return{c(){t&&t.c()},m(r,o){t&&t.m(r,o),e=!0},p(r,o){t&&t.p&&(!e||o&512)&&Yt(t,n,r,r[9],e?Kt(n,r[9],o,null):Jt(r[9]),null)},i(r){e||(m(t,r),e=!0)},o(r){g(t,r),e=!1},d(r){t&&t.d(r)}}}function ho(l){let e,n,t=l[0]&&Wn(l);return{c(){t&&t.c(),e=je()},m(r,o){t&&t.m(r,o),$(r,e,o),n=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&m(t,1)):(t=Wn(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(pe(),g(t,1,1,()=>{t=null}),me())},i(r){n||(m(t),n=!0)},o(r){g(t),n=!1},d(r){r&&p(e),t&&t.d(r)}}}function bo(l,e,n){let t,r,{$$slots:o={},$$scope:s}=e,{id:u=On("raster-source")}=e,{tiles:i}=e,{tileSize:a=void 0}=e;const{map:f,self:c}=_l();ye(l,f,y=>n(8,r=y)),ye(l,c,y=>n(0,t=y));let d,_=!0;return gl(()=>{t&&d&&r&&(dl(f,t,d),st(c,t=null,t),n(6,d=void 0))}),l.$$set=y=>{"id"in y&&n(3,u=y.id),"tiles"in y&&n(4,i=y.tiles),"tileSize"in y&&n(5,a=y.tileSize),"$$scope"in y&&n(9,s=y.$$scope)},l.$$.update=()=>{l.$$.dirty&377&&r&&t!==u&&(st(c,t=u,t),hl(r,t,bl({type:"raster",tiles:i,tileSize:a}),y=>r&&y===t,()=>{t&&(n(6,d=r==null?void 0:r.getSource(t)),n(7,_=!0))})),l.$$.dirty&264&&(r==null||r.on("style.load",()=>{n(6,d=r==null?void 0:r.getSource(u))})),l.$$.dirty&208&&d&&(_?n(7,_=!1):d.setTiles(i))},[t,f,c,u,i,a,d,_,r,s,o]}class vo extends Q{constructor(e){super(),Z(this,e,bo,ho,X,{id:3,tiles:4,tileSize:5})}}function wo(l){let e;const n=l[16].default,t=Xt(n,l,l[24],null);return{c(){t&&t.c()},m(r,o){t&&t.m(r,o),e=!0},p(r,o){t&&t.p&&(!e||o&16777216)&&Yt(t,n,r,r[24],e?Kt(n,r[24],o,null):Jt(r[24]),null)},i(r){e||(m(t,r),e=!0)},o(r){g(t,r),e=!1},d(r){t&&t.d(r)}}}function ko(l){let e,n,t;function r(s){l[17](s)}let o={id:l[1],type:"symbol",source:l[2],sourceLayer:l[3],beforeId:l[4],beforeLayerType:l[5],paint:l[6],layout:l[7],filter:l[8],applyToClusters:l[9],minzoom:l[10],maxzoom:l[11],hoverCursor:l[12],manageHoverState:l[13],eventsIfTopMost:l[14],interactive:l[15],$$slots:{default:[wo]},$$scope:{ctx:l}};return l[0]!==void 0&&(o.hovered=l[0]),e=new Gl({props:o}),U.push(()=>W(e,"hovered",r)),e.$on("click",l[18]),e.$on("dblclick",l[19]),e.$on("contextmenu",l[20]),e.$on("mouseenter",l[21]),e.$on("mousemove",l[22]),e.$on("mouseleave",l[23]),{c(){h(e.$$.fragment)},m(s,u){b(e,s,u),t=!0},p(s,[u]){const i={};u&2&&(i.id=s[1]),u&4&&(i.source=s[2]),u&8&&(i.sourceLayer=s[3]),u&16&&(i.beforeId=s[4]),u&32&&(i.beforeLayerType=s[5]),u&64&&(i.paint=s[6]),u&128&&(i.layout=s[7]),u&256&&(i.filter=s[8]),u&512&&(i.applyToClusters=s[9]),u&1024&&(i.minzoom=s[10]),u&2048&&(i.maxzoom=s[11]),u&4096&&(i.hoverCursor=s[12]),u&8192&&(i.manageHoverState=s[13]),u&16384&&(i.eventsIfTopMost=s[14]),u&32768&&(i.interactive=s[15]),u&16777216&&(i.$$scope={dirty:u,ctx:s}),!n&&u&1&&(n=!0,i.hovered=s[0],V(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function yo(l,e,n){let{$$slots:t={},$$scope:r}=e,{id:o=On("symbol")}=e,{source:s=void 0}=e,{sourceLayer:u=void 0}=e,{beforeId:i=void 0}=e,{beforeLayerType:a=void 0}=e,{paint:f=void 0}=e,{layout:c=void 0}=e,{filter:d=void 0}=e,{applyToClusters:_=void 0}=e,{minzoom:y=void 0}=e,{maxzoom:L=void 0}=e,{hoverCursor:S=void 0}=e,{manageHoverState:M=!1}=e,{hovered:j=null}=e,{eventsIfTopMost:I=!1}=e,{interactive:N=!0}=e;function A(D){j=D,n(0,j)}function P(D){pt.call(this,l,D)}function E(D){pt.call(this,l,D)}function T(D){pt.call(this,l,D)}function F(D){pt.call(this,l,D)}function G(D){pt.call(this,l,D)}function R(D){pt.call(this,l,D)}return l.$$set=D=>{"id"in D&&n(1,o=D.id),"source"in D&&n(2,s=D.source),"sourceLayer"in D&&n(3,u=D.sourceLayer),"beforeId"in D&&n(4,i=D.beforeId),"beforeLayerType"in D&&n(5,a=D.beforeLayerType),"paint"in D&&n(6,f=D.paint),"layout"in D&&n(7,c=D.layout),"filter"in D&&n(8,d=D.filter),"applyToClusters"in D&&n(9,_=D.applyToClusters),"minzoom"in D&&n(10,y=D.minzoom),"maxzoom"in D&&n(11,L=D.maxzoom),"hoverCursor"in D&&n(12,S=D.hoverCursor),"manageHoverState"in D&&n(13,M=D.manageHoverState),"hovered"in D&&n(0,j=D.hovered),"eventsIfTopMost"in D&&n(14,I=D.eventsIfTopMost),"interactive"in D&&n(15,N=D.interactive),"$$scope"in D&&n(24,r=D.$$scope)},[j,o,s,u,i,a,f,c,d,_,y,L,S,M,I,N,t,A,P,E,T,F,G,R,r]}class an extends Q{constructor(e){super(),Z(this,e,yo,ko,X,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14,interactive:15})}}function Xn(l){let e=l[0],n,t,r=Yn(l);return{c(){r.c(),n=je()},m(o,s){r.m(o,s),$(o,n,s),t=!0},p(o,s){s&1&&X(e,e=o[0])?(pe(),g(r,1,1,ne),me(),r=Yn(o),r.c(),m(r,1),r.m(n.parentNode,n)):r.p(o,s)},i(o){t||(m(r),t=!0)},o(o){g(r),t=!1},d(o){o&&p(n),r.d(o)}}}function Yn(l){let e;const n=l[9].default,t=Xt(n,l,l[8],null);return{c(){t&&t.c()},m(r,o){t&&t.m(r,o),e=!0},p(r,o){t&&t.p&&(!e||o&256)&&Yt(t,n,r,r[8],e?Kt(n,r[8],o,null):Jt(r[8]),null)},i(r){e||(m(t,r),e=!0)},o(r){g(t,r),e=!1},d(r){t&&t.d(r)}}}function So(l){let e,n,t=l[0]&&Xn(l);return{c(){t&&t.c(),e=je()},m(r,o){t&&t.m(r,o),$(r,e,o),n=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&m(t,1)):(t=Xn(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(pe(),g(t,1,1,()=>{t=null}),me())},i(r){n||(m(t),n=!0)},o(r){g(t),n=!1},d(r){r&&p(e),t&&t.d(r)}}}function Co(l,e,n){let t,r,{$$slots:o={},$$scope:s}=e,{id:u=On("vector")}=e,{url:i=null}=e,{tiles:a=null}=e,{promoteId:f=null}=e;if(i&&i.includes("pmtiles://")&&!jn.config.REGISTERED_PROTOCOLS.hasOwnProperty("pmtiles")){let y=new Ul;jn.addProtocol("pmtiles",y.tile)}const{map:c,self:d}=_l();ye(l,c,y=>n(7,r=y)),ye(l,d,y=>n(0,t=y));let _;return gl(()=>{t&&r&&(dl(c,t,_),st(d,t=null,t),_=void 0)}),l.$$set=y=>{"id"in y&&n(3,u=y.id),"url"in y&&n(4,i=y.url),"tiles"in y&&n(5,a=y.tiles),"promoteId"in y&&n(6,f=y.promoteId),"$$scope"in y&&n(8,s=y.$$scope)},l.$$.update=()=>{l.$$.dirty&249&&r&&t!==u&&(st(d,t=u,t),hl(r,t,bl({type:"vector",url:i,tiles:a,promoteId:f}),y=>r&&y===t,()=>{t&&(_=r==null?void 0:r.getSource(t))})),l.$$.dirty&136&&(r==null||r.on("style.load",()=>{_=r==null?void 0:r.getSource(u)}))},[t,c,d,u,i,a,f,r,s,o]}class be extends Q{constructor(e){super(),Z(this,e,Co,So,X,{id:3,url:4,tiles:5,promoteId:6})}}const To={createDocument:function(e){return new DOMParser().parseFromString(e.trim(),"text/xml")}};var Me=Uint8Array,ct=Uint16Array,yl=Uint32Array,Sl=new Me([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cl=new Me([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Oo=new Me([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tl=function(l,e){for(var n=new ct(31),t=0;t<31;++t)n[t]=e+=1<<l[t-1];for(var r=new yl(n[30]),t=1;t<30;++t)for(var o=n[t];o<n[t+1];++o)r[o]=o-n[t]<<5|t;return[n,r]},Ol=Tl(Sl,2),Ll=Ol[0],Lo=Ol[1];Ll[28]=258,Lo[258]=28;var Ao=Tl(Cl,0),Io=Ao[0],hn=new ct(32768);for(var he=0;he<32768;++he){var lt=(he&43690)>>>1|(he&21845)<<1;lt=(lt&52428)>>>2|(lt&13107)<<2,lt=(lt&61680)>>>4|(lt&3855)<<4,hn[he]=((lt&65280)>>>8|(lt&255)<<8)>>>1}var Gt=function(l,e,n){for(var t=l.length,r=0,o=new ct(e);r<t;++r)l[r]&&++o[l[r]-1];var s=new ct(e);for(r=0;r<e;++r)s[r]=s[r-1]+o[r-1]<<1;var u;if(n){u=new ct(1<<e);var i=15-e;for(r=0;r<t;++r)if(l[r])for(var a=r<<4|l[r],f=e-l[r],c=s[l[r]-1]++<<f,d=c|(1<<f)-1;c<=d;++c)u[hn[c]>>>i]=a}else for(u=new ct(t),r=0;r<t;++r)l[r]&&(u[r]=hn[s[l[r]-1]++]>>>15-l[r]);return u},Zt=new Me(288);for(var he=0;he<144;++he)Zt[he]=8;for(var he=144;he<256;++he)Zt[he]=9;for(var he=256;he<280;++he)Zt[he]=7;for(var he=280;he<288;++he)Zt[he]=8;var Al=new Me(32);for(var he=0;he<32;++he)Al[he]=5;var Mo=Gt(Zt,9,1),Po=Gt(Al,5,1),fn=function(l){for(var e=l[0],n=1;n<l.length;++n)l[n]>e&&(e=l[n]);return e},He=function(l,e,n){var t=e/8|0;return(l[t]|l[t+1]<<8)>>(e&7)&n},un=function(l,e){var n=e/8|0;return(l[n]|l[n+1]<<8|l[n+2]<<16)>>(e&7)},No=function(l){return(l+7)/8|0},Mn=function(l,e,n){(e==null||e<0)&&(e=0),(n==null||n>l.length)&&(n=l.length);var t=new(l.BYTES_PER_ELEMENT==2?ct:l.BYTES_PER_ELEMENT==4?yl:Me)(n-e);return t.set(l.subarray(e,n)),t},Eo=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qe=function(l,e,n){var t=new Error(e||Eo[l]);if(t.code=l,Error.captureStackTrace&&Error.captureStackTrace(t,qe),!n)throw t;return t},Fo=function(l,e,n){var t=l.length;if(!t||n&&n.f&&!n.l)return e||new Me(0);var r=!e||n,o=!n||n.i;n||(n={}),e||(e=new Me(t*3));var s=function(Ee){var Ce=e.length;if(Ee>Ce){var Je=new Me(Math.max(Ce*2,Ee));Je.set(e),e=Je}},u=n.f||0,i=n.p||0,a=n.b||0,f=n.l,c=n.d,d=n.m,_=n.n,y=t*8;do{if(!f){u=He(l,i,1);var L=He(l,i+1,3);if(i+=3,L)if(L==1)f=Mo,c=Po,d=9,_=5;else if(L==2){var I=He(l,i,31)+257,N=He(l,i+10,15)+4,A=I+He(l,i+5,31)+1;i+=14;for(var P=new Me(A),E=new Me(19),T=0;T<N;++T)E[Oo[T]]=He(l,i+T*3,7);i+=N*3;for(var F=fn(E),G=(1<<F)-1,R=Gt(E,F,1),T=0;T<A;){var D=R[He(l,i,G)];i+=D&15;var S=D>>>4;if(S<16)P[T++]=S;else{var B=0,Y=0;for(S==16?(Y=3+He(l,i,3),i+=2,B=P[T-1]):S==17?(Y=3+He(l,i,7),i+=3):S==18&&(Y=11+He(l,i,127),i+=7);Y--;)P[T++]=B}}var le=P.subarray(0,I),oe=P.subarray(I);d=fn(le),_=fn(oe),f=Gt(le,d,1),c=Gt(oe,_,1)}else qe(1);else{var S=No(i)+4,M=l[S-4]|l[S-3]<<8,j=S+M;if(j>t){o&&qe(0);break}r&&s(a+M),e.set(l.subarray(S,j),a),n.b=a+=M,n.p=i=j*8,n.f=u;continue}if(i>y){o&&qe(0);break}}r&&s(a+131072);for(var $e=(1<<d)-1,Ie=(1<<_)-1,Oe=i;;Oe=i){var B=f[un(l,i)&$e],ae=B>>>4;if(i+=B&15,i>y){o&&qe(0);break}if(B||qe(2),ae<256)e[a++]=ae;else if(ae==256){Oe=i,f=null;break}else{var Ae=ae-254;if(ae>264){var T=ae-257,ue=Sl[T];Ae=He(l,i,(1<<ue)-1)+Ll[T],i+=ue}var _e=c[un(l,i)&Ie],de=_e>>>4;_e||qe(3),i+=_e&15;var oe=Io[de];if(de>3){var ue=Cl[de];oe+=un(l,i)&(1<<ue)-1,i+=ue}if(i>y){o&&qe(0);break}r&&s(a+131072);for(var ze=a+Ae;a<ze;a+=4)e[a]=e[a-oe],e[a+1]=e[a+1-oe],e[a+2]=e[a+2-oe],e[a+3]=e[a+3-oe];a=ze}}n.l=f,n.p=Oe,n.b=a,n.f=u,f&&(u=1,n.m=d,n.d=c,n.n=_)}while(!u);return a==e.length?e:Mn(e,0,a)},Do=new Me(0),Ue=function(l,e){return l[e]|l[e+1]<<8},Ge=function(l,e){return(l[e]|l[e+1]<<8|l[e+2]<<16|l[e+3]<<24)>>>0},cn=function(l,e){return Ge(l,e)+Ge(l,e+4)*4294967296};function jo(l,e){return Fo(l,e)}var bn=typeof TextDecoder<"u"&&new TextDecoder,Ro=0;try{bn.decode(Do,{stream:!0}),Ro=1}catch{}var Bo=function(l){for(var e="",n=0;;){var t=l[n++],r=(t>127)+(t>223)+(t>239);if(n+r>l.length)return[e,Mn(l,n-1)];r?r==3?(t=((t&15)<<18|(l[n++]&63)<<12|(l[n++]&63)<<6|l[n++]&63)-65536,e+=String.fromCharCode(55296|t>>10,56320|t&1023)):r&1?e+=String.fromCharCode((t&31)<<6|l[n++]&63):e+=String.fromCharCode((t&15)<<12|(l[n++]&63)<<6|l[n++]&63):e+=String.fromCharCode(t)}};function Il(l,e){if(e){for(var n="",t=0;t<l.length;t+=16384)n+=String.fromCharCode.apply(null,l.subarray(t,t+16384));return n}else{if(bn)return bn.decode(l);var r=Bo(l),o=r[0],s=r[1];return s.length&&qe(8),o}}var zo=function(l,e){return e+30+Ue(l,e+26)+Ue(l,e+28)},Ho=function(l,e,n){var t=Ue(l,e+28),r=Il(l.subarray(e+46,e+46+t),!(Ue(l,e+8)&2048)),o=e+46+t,s=Ge(l,e+20),u=n&&s==4294967295?qo(l,o):[s,Ge(l,e+24),Ge(l,e+42)],i=u[0],a=u[1],f=u[2];return[Ue(l,e+10),i,a,r,o+Ue(l,e+30)+Ue(l,e+32),f]},qo=function(l,e){for(;Ue(l,e)!=1;e+=4+Ue(l,e+2));return[cn(l,e+12),cn(l,e+4),cn(l,e+20)]};function Go(l,e){for(var n={},t=l.length-22;Ge(l,t)!=101010256;--t)(!t||l.length-t>65558)&&qe(13);var r=Ue(l,t+8);if(!r)return{};var o=Ge(l,t+16),s=o==4294967295||r==65535;if(s){var u=Ge(l,t-12);s=Ge(l,u)==101075792,s&&(r=Ge(l,u+32),o=Ge(l,u+48))}for(var i=e&&e.filter,a=0;a<r;++a){var f=Ho(l,o,s),c=f[0],d=f[1],_=f[2],y=f[3],L=f[4],S=f[5],M=zo(l,S);o=L,(!i||i({name:y,size:d,originalSize:_,compression:c}))&&(c?c==8?n[y]=jo(l.subarray(M,M+d),new Me(_)):qe(14,"unknown compression type "+c):n[y]=Mn(l,M,M+d))}return n}function Uo(l){return l instanceof File||l instanceof Blob?l.arrayBuffer().then($n):$n(l)}function $n(l){var e=new Uint8Array(l),n=Go(e);return Promise.resolve(Wo(n))}function Wo(l){for(var e=[],n=0,t=Object.keys(l);n<t.length;n++){var r=t[n];e[r]=Il(l[r])}return e}function Ve(l,e){for(var n=0;n<l.childNodes.length;){var t=l.childNodes[n];if(t.nodeType===1&&$t(t)===e)return t;n++}}function xt(l,e){for(var n=[],t=0;t<l.childNodes.length;){var r=l.childNodes[t];r.nodeType===1&&$t(r)===e&&n.push(r),t++}return n}function ln(l,e,n){for(var t=0;t<l.childNodes.length;){var r=l.childNodes[t];e?r.nodeType===1&&$t(r)===e&&n(r,t):n(r,t),t++}}function Vo(l,e,n){var t=[];return ln(l,e,function(r,o){t.push(n(r,o))}),t}var Xo=/.+\:/;function $t(l){return l.tagName.replace(Xo,"")}function Ml(l){if(l.nodeType!==1)return l.textContent;for(var e="<"+$t(l),n=0;n<l.attributes.length;)e+=" "+l.attributes[n].name+'="'+l.attributes[n].value+'"',n++;e+=">";for(var t=0;t<l.childNodes.length;)e+=Ml(l.childNodes[t]),t++;return e+="</"+$t(l)+">",e}function Yo(l){var e=l.documentElement,n=Ve(e,"sheetData"),t=[];return ln(n,"row",function(r){ln(r,"c",function(o){t.push(o)})}),t}function Jo(l,e){return Ve(e,"v")}function Ko(l,e){if(e.firstChild&&$t(e.firstChild)==="is"&&e.firstChild.firstChild&&$t(e.firstChild.firstChild)==="t")return e.firstChild.firstChild.textContent}function Qo(l){var e=l.documentElement,n=Ve(e,"dimension");if(n)return n.getAttribute("ref")}function Zo(l){var e=l.documentElement,n=Ve(e,"cellStyleXfs");return n?xt(n,"xf"):[]}function xo(l){var e=l.documentElement,n=Ve(e,"cellXfs");return n?xt(n,"xf"):[]}function es(l){var e=l.documentElement,n=Ve(e,"numFmts");return n?xt(n,"numFmt"):[]}function ts(l){var e=l.documentElement;return Vo(e,"si",function(n){var t=Ve(n,"t");if(t)return t.textContent;var r="";return ln(n,"r",function(o){r+=Ve(o,"t").textContent}),r})}function ns(l){var e=l.documentElement;return Ve(e,"workbookPr")}function rs(l){var e=l.documentElement;return xt(e,"Relationship")}function ls(l){var e=l.documentElement,n=Ve(e,"sheets");return xt(n,"sheet")}function os(l,e){var n=e.createDocument(l),t={},r=ns(n);r&&r.getAttribute("date1904")==="1"&&(t.epoch1904=!0),t.sheets=[];var o=function(u){u.getAttribute("name")&&t.sheets.push({id:u.getAttribute("sheetId"),name:u.getAttribute("name"),relationId:u.getAttribute("r:id")})};return ls(n).forEach(o),t}function ss(l,e){var n=e.createDocument(l),t={sheets:{},sharedStrings:void 0,styles:void 0},r=function(s){var u=s.getAttribute("Target"),i=s.getAttribute("Type");switch(i){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles":t.styles=pn(u);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings":t.sharedStrings=pn(u);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet":t.sheets[s.getAttribute("Id")]=pn(u);break}};return rs(n).forEach(r),t}function pn(l){return l[0]==="/"?l.slice(1):"xl/"+l}function Jn(l,e){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(l);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),n.push.apply(n,t)}return n}function Kn(l){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jn(Object(n),!0).forEach(function(t){is(l,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach(function(t){Object.defineProperty(l,t,Object.getOwnPropertyDescriptor(n,t))})}return l}function is(l,e,n){return e in l?Object.defineProperty(l,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[e]=n,l}function as(l,e){if(!l)return{};var n=e.createDocument(l),t=Zo(n).map(mn),r=es(n).map(fs).reduce(function(s,u){return s[u.id]=u,s},[]),o=function(u){return u.hasAttribute("xfId")?Kn(Kn({},t[u.xfId]),mn(u,r)):mn(u,r)};return xo(n).map(o)}function fs(l){return{id:l.getAttribute("numFmtId"),template:l.getAttribute("formatCode")}}function mn(l,e){var n={};if(l.hasAttribute("numFmtId")){var t=l.getAttribute("numFmtId");e[t]?n.numberFormat=e[t]:n.numberFormat={id:t}}return n}function us(l,e){return l?ts(e.createDocument(l)):[]}function Pl(l,e){e&&e.epoch1904&&(l+=1462);var n=70*365+19,t=60*60*1e3;return new Date(Math.round((l-n)*24*t))}function cs(l,e){var n=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n)return(n=n.call(l)).next.bind(n);if(Array.isArray(l)||(n=$s(l))||e&&l&&typeof l.length=="number"){n&&(l=n);var t=0;return function(){return t>=l.length?{done:!0}:{done:!1,value:l[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $s(l,e){if(l){if(typeof l=="string")return Qn(l,e);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(l,e)}}function Qn(l,e){(e==null||e>l.length)&&(e=l.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=l[n];return t}function ps(l,e,n){if(l){var t=e[l];if(!t)throw new Error("Cell style not found: ".concat(l));if(!t.numberFormat)return!1;if(ms.indexOf(Number(t.numberFormat.id))>=0||n.dateFormat&&t.numberFormat.template===n.dateFormat||n.smartDateParser!==!1&&t.numberFormat.template&&ds(t.numberFormat.template))return!0}}var ms=[14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57],_s=/^\[\$-414\]/,gs=/;@$/;function ds(l){l=l.toLowerCase(),l=l.replace(_s,""),l=l.replace(gs,"");for(var e=l.split(/\W+/),n=cs(e),t;!(t=n()).done;){var r=t.value;if(hs.indexOf(r)<0)return!1}return!0}var hs=["ss","mm","h","hh","am","pm","d","dd","m","mm","mmm","mmmm","yy","yyyy","e"];function bs(l,e,n){var t=n.getInlineStringValue,r=n.getInlineStringXml,o=n.getStyleId,s=n.styles,u=n.values,i=n.properties,a=n.options;switch(e||(e="n"),e){case"str":l=_n(l,a);break;case"inlineStr":if(l=t(),l===void 0)throw new Error('Unsupported "inline string" cell value structure: '.concat(r()));l=_n(l,a);break;case"s":var f=Number(l);if(isNaN(f))throw new Error('Invalid "shared" string index: '.concat(l));if(f>=u.length)throw new Error('An out-of-bounds "shared" string index: '.concat(l));l=u[f],l=_n(l,a);break;case"b":if(l==="1")l=!0;else if(l==="0")l=!1;else throw new Error('Unsupported "boolean" cell value: '.concat(l));break;case"z":l=void 0;break;case"e":l=vs(l);break;case"d":if(l===void 0)break;var c=new Date(l);if(isNaN(c.valueOf()))throw new Error('Unsupported "date" cell value: '.concat(l));l=c;break;case"n":if(l===void 0)break;var d=ps(o(),s,a);d?(l=Zn(l),l=Pl(l,i)):l=(a.parseNumber||Zn)(l);break;default:throw new TypeError("Cell type not supported: ".concat(e))}return l===void 0&&(l=null),l}function vs(l){switch(l){case 0:return"#NULL!";case 7:return"#DIV/0!";case 15:return"#VALUE!";case 23:return"#REF!";case 29:return"#NAME?";case 36:return"#NUM!";case 42:return"#N/A";case 43:return"#GETTING_DATA";default:return"#ERROR_".concat(l)}}function _n(l,e){return e.trim!==!1&&(l=l.trim()),l===""&&(l=void 0),l}function Zn(l){var e=Number(l);if(isNaN(e))throw new Error('Invalid "numeric" cell value: '.concat(l));return e}var ws=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function ks(l){var e=function(a,f){return a-f},n=l.map(function(i){return i.row}).sort(e),t=l.map(function(i){return i.column}).sort(e),r=n[0],o=n[n.length-1],s=t[0],u=t[t.length-1];return[{row:r,column:s},{row:o,column:u}]}function ys(l){for(var e=0,n=0;n<l.length;)e*=26,e+=ws.indexOf(l[n]),n++;return e}function Nl(l){return l=l.split(/(\d+)/),[parseInt(l[1]),ys(l[0].trim())]}function Ss(l,e,n,t,r,o,s){var u=Nl(l.getAttribute("r")),i=Jo(e,l),a=i&&i.textContent,f;return l.hasAttribute("t")&&(f=l.getAttribute("t")),{row:u[0],column:u[1],value:bs(a,f,{getInlineStringValue:function(){return Ko(e,l)},getInlineStringXml:function(){return Ml(l)},getStyleId:function(){return l.getAttribute("s")},styles:r,values:t,properties:o,options:s})}}function Cs(l,e,n,t,r,o){var s=Yo(l);return s.length===0?[]:s.map(function(u){return Ss(u,l,e,n,t,r,o)})}function Ts(l,e){return Is(l)||As(l,e)||Ls(l,e)||Os()}function Os(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ls(l,e){if(l){if(typeof l=="string")return xn(l,e);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xn(l,e)}}function xn(l,e){(e==null||e>l.length)&&(e=l.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=l[n];return t}function As(l,e){var n=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n!=null){var t=[],r=!0,o=!1,s,u;try{for(n=n.call(l);!(r=(s=n.next()).done)&&(t.push(s.value),!(e&&t.length===e));r=!0);}catch(i){o=!0,u=i}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function Is(l){if(Array.isArray(l))return l}function Ms(l){var e=Qo(l);if(e)return e=e.split(":").map(Nl).map(function(n){var t=Ts(n,2),r=t[0],o=t[1];return{row:r,column:o}}),e.length===1&&(e=[e[0],e[0]]),e}function Ps(l,e,n,t,r,o){var s=e.createDocument(l),u=Cs(s,e,n,t,r,o),i=Ms(s)||ks(u);return{cells:u,dimensions:i}}function Ns(l,e){var n=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n)return(n=n.call(l)).next.bind(n);if(Array.isArray(l)||(n=Es(l))||e&&l&&typeof l.length=="number"){n&&(l=n);var t=0;return function(){return t>=l.length?{done:!0}:{done:!1,value:l[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Es(l,e){if(l){if(typeof l=="string")return er(l,e);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(l,e)}}function er(l,e){(e==null||e>l.length)&&(e=l.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=l[n];return t}function Fs(l){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.rowMap,t=e.accessor,r=t===void 0?function(c){return c}:t,o=e.onlyTrimAtTheEnd,s=l.length-1;s>=0;){for(var u=!0,i=Ns(l[s]),a;!(a=i()).done;){var f=a.value;if(r(f)!==null){u=!1;break}}if(u)l.splice(s,1),n&&n.splice(s,1);else if(o)break;s--}return l}function Ds(l,e){var n=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n)return(n=n.call(l)).next.bind(n);if(Array.isArray(l)||(n=js(l))||e&&l&&typeof l.length=="number"){n&&(l=n);var t=0;return function(){return t>=l.length?{done:!0}:{done:!1,value:l[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function js(l,e){if(l){if(typeof l=="string")return tr(l,e);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tr(l,e)}}function tr(l,e){(e==null||e>l.length)&&(e=l.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=l[n];return t}function Rs(l){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.accessor,t=n===void 0?function(c){return c}:n,r=e.onlyTrimAtTheEnd,o=l[0].length-1;o>=0;){for(var s=!0,u=Ds(l),i;!(i=u()).done;){var a=i.value;if(t(a[o])!==null){s=!1;break}}if(s)for(var f=0;f<l.length;)l[f].splice(o,1),f++;else if(r)break;o--}return l}function Bs(l,e){var n=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n)return(n=n.call(l)).next.bind(n);if(Array.isArray(l)||(n=El(l))||e&&l&&typeof l.length=="number"){n&&(l=n);var t=0;return function(){return t>=l.length?{done:!0}:{done:!1,value:l[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zs(l,e){return Gs(l)||qs(l,e)||El(l,e)||Hs()}function Hs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function El(l,e){if(l){if(typeof l=="string")return nr(l,e);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nr(l,e)}}function nr(l,e){(e==null||e>l.length)&&(e=l.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=l[n];return t}function qs(l,e){var n=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n!=null){var t=[],r=!0,o=!1,s,u;try{for(n=n.call(l);!(r=(s=n.next()).done)&&(t.push(s.value),!(e&&t.length===e));r=!0);}catch(i){o=!0,u=i}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function Gs(l){if(Array.isArray(l))return l}function Us(l,e){var n=l.dimensions,t=l.cells;if(t.length===0)return[];var r=zs(n,2);r[0];for(var o=r[1],s=o.column,u=o.row,i=new Array(u),a=0;a<u;){i[a]=new Array(s);for(var f=0;f<s;)i[a][f]=null,f++;a++}for(var c=Bs(t),d;!(d=c()).done;){var _=d.value,y=_.row-1,L=_.column-1;L<s&&y<u&&(i[y][L]=_.value)}var S=e.rowMap;if(S)for(var M=0;M<i.length;)S[M]=M,M++;return i=Fs(Rs(i,{onlyTrimAtTheEnd:!0}),{onlyTrimAtTheEnd:!0,rowMap:S}),e.transformData&&(i=e.transformData(i)),i}function Ws(l,e){var n=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n)return(n=n.call(l)).next.bind(n);if(Array.isArray(l)||(n=Vs(l))||e&&l&&typeof l.length=="number"){n&&(l=n);var t=0;return function(){return t>=l.length?{done:!0}:{done:!1,value:l[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vs(l,e){if(l){if(typeof l=="string")return rr(l,e);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(l,e)}}function rr(l,e){(e==null||e>l.length)&&(e=l.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=l[n];return t}function lr(l,e){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(l);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),n.push.apply(n,t)}return n}function Xs(l){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lr(Object(n),!0).forEach(function(t){Ys(l,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach(function(t){Object.defineProperty(l,t,Object.getOwnPropertyDescriptor(n,t))})}return l}function Ys(l,e,n){return e in l?Object.defineProperty(l,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[e]=n,l}function Js(l,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n.sheet||(n=Xs({sheet:1},n));var t=function(d){if(!l[d])throw new Error('"'.concat(d,'" file not found inside the *.xlsx file zip archive'));return l[d]},r=ss(t("xl/_rels/workbook.xml.rels"),e),o=r.sharedStrings?us(t(r.sharedStrings),e):[],s=r.styles?as(t(r.styles),e):{},u=os(t("xl/workbook.xml"),e);if(n.getSheets)return u.sheets.map(function(c){var d=c.name;return{name:d}});var i=Ks(n.sheet,u.sheets);if(!i||!r.sheets[i])throw Qs(n.sheet,u.sheets);var a=Ps(t(r.sheets[i]),e,o,s,u,n),f=Us(a,n);return n.properties?{data:f,properties:u}:f}function Ks(l,e){if(typeof l=="number"){var n=e[l-1];return n&&n.relationId}for(var t=Ws(e),r;!(r=t()).done;){var o=r.value;if(o.name===l)return o.relationId}}function Qs(l,e){var n=e&&e.map(function(t,r){return'"'.concat(t.name,'" (#').concat(r+1,")")}).join(", ");return new Error("Sheet ".concat(typeof l=="number"?"#"+l:'"'+l+'"'," not found in the *.xlsx file.").concat(e?" Available sheets: "+n+".":""))}function vn(l){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(l)}function or(l,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function Zs(l,e,n){return e&&or(l.prototype,e),n&&or(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}function xs(l,e){if(!(l instanceof e))throw new TypeError("Cannot call a class as a function")}function ei(l,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&Wt(l,e)}function ti(l){var e=Fl();return function(){var t=Vt(l),r;if(e){var o=Vt(this).constructor;r=Reflect.construct(t,arguments,o)}else r=t.apply(this,arguments);return ni(this,r)}}function ni(l,e){if(e&&(vn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ri(l)}function ri(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function wn(l){var e=typeof Map=="function"?new Map:void 0;return wn=function(t){if(t===null||!li(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return nn(t,arguments,Vt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Wt(r,t)},wn(l)}function nn(l,e,n){return Fl()?nn=Reflect.construct:nn=function(r,o,s){var u=[null];u.push.apply(u,o);var i=Function.bind.apply(r,u),a=new i;return s&&Wt(a,s.prototype),a},nn.apply(null,arguments)}function Fl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function li(l){return Function.toString.call(l).indexOf("[native code]")!==-1}function Wt(l,e){return Wt=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},Wt(l,e)}function Vt(l){return Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vt(l)}var Pe=function(l){ei(n,l);var e=ti(n);function n(t){var r;return xs(this,n),r=e.call(this,"invalid"),r.reason=t,r}return Zs(n)}(wn(Error));function oi(l){if(typeof l=="string"){var e=l;if(l=Number(l),String(l)!==e)throw new Pe("not_a_number")}if(typeof l!="number")throw new Pe("not_a_number");if(isNaN(l))throw new Pe("invalid_number");if(!isFinite(l))throw new Pe("out_of_bounds");return l}function si(l){if(typeof l=="string")return l;if(typeof l=="number"){if(isNaN(l))throw new Pe("invalid_number");if(!isFinite(l))throw new Pe("out_of_bounds");return String(l)}throw new Pe("not_a_string")}function ii(l){if(typeof l=="boolean")return l;throw new Pe("not_a_boolean")}function ai(l,e){var n=e.properties;if(l instanceof Date){if(isNaN(l.valueOf()))throw new Pe("out_of_bounds");return l}if(typeof l=="number"){if(isNaN(l))throw new Pe("invalid_number");if(!isFinite(l))throw new Pe("out_of_bounds");var t=Pl(l,n);if(isNaN(t.valueOf()))throw new Pe("out_of_bounds");return t}throw new Pe("not_a_date")}function fi(l,e){return $i(l)||ci(l,e)||Dl(l,e)||ui()}function ui(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ci(l,e){var n=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n!=null){var t=[],r=!0,o=!1,s,u;try{for(n=n.call(l);!(r=(s=n.next()).done)&&(t.push(s.value),!(e&&t.length===e));r=!0);}catch(i){o=!0,u=i}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw u}}return t}}function $i(l){if(Array.isArray(l))return l}function kn(l){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(l)}function pi(l,e){var n=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n)return(n=n.call(l)).next.bind(n);if(Array.isArray(l)||(n=Dl(l))||e&&l&&typeof l.length=="number"){n&&(l=n);var t=0;return function(){return t>=l.length?{done:!0}:{done:!1,value:l[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dl(l,e){if(l){if(typeof l=="string")return sr(l,e);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sr(l,e)}}function sr(l,e){(e==null||e>l.length)&&(e=l.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=l[n];return t}function ir(l,e){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(l);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),n.push.apply(n,t)}return n}function ar(l){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ir(Object(n),!0).forEach(function(t){mi(l,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach(function(t){Object.defineProperty(l,t,Object.getOwnPropertyDescriptor(n,t))})}return l}function mi(l,e,n){return e in l?Object.defineProperty(l,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[e]=n,l}var fr={isColumnOriented:!1};function _i(l,e,n){n?n=ar(ar({},fr),n):n=fr;var t=n,r=t.isColumnOriented,o=t.rowMap,s=t.ignoreEmptyRows;bi(e),r&&(l=hi(l));for(var u=l[0],i=[],a=[],f=1;f<l.length;f++){var c=jl(e,l[f],f,u,a,n);(c!==null||s===!1)&&i.push(c)}if(o)for(var d=pi(a),_;!(_=d()).done;){var y=_.value;y.row=o[y.row-1]+1}return{rows:i,errors:a}}function jl(l,e,n,t,r,o){for(var s={},u=!0,i=function(j){var I=j.column,N=j.value,A=j.error,P=j.reason,E={error:A,row:n+1,column:I,value:N};return P&&(E.reason=P),l[I].type&&(E.type=l[I].type),E},a=[],f=function(){var j=d[c],I=l[j],N=kn(I.type)==="object"&&!Array.isArray(I.type),A=e[t.indexOf(j)];A===void 0&&(A=null);var P=void 0,E=void 0,T=void 0;if(N)P=jl(I.type,e,n,t,r,o);else if(A===null)P=null;else if(Array.isArray(I.type)){var F=!1,G=di(A).map(function(D){var B=ur(D,I,o);return B.error&&(P=D,E=B.error,T=B.reason),B.value!==null&&(F=!0),B.value});E||(P=F?G:null)}else{var R=ur(A,I,o);E=R.error,T=R.reason,P=E?A:R.value}!E&&P===null&&(typeof I.required=="function"?a.push({column:j}):I.required===!0&&(E="required")),E?r.push(i({column:j,value:P,error:E,reason:T})):(u&&P!==null&&(u=!1),(P!==null||o.includeNullValues)&&(s[I.prop]=P))},c=0,d=Object.keys(l);c<d.length;c++)f();if(u)return null;for(var _=0,y=a;_<y.length;_++){var L=y[_].column,S=l[L].required(s);S&&r.push(i({column:L,value:null,error:"required"}))}return s}function ur(l,e,n){if(l===null)return{value:null};var t;if(e.parse?t=mt(l,e.parse):e.type?t=gi(l,Array.isArray(e.type)?e.type[0]:e.type,n):t={value:l},t.error)return t;if(t.value!==null){if(e.oneOf&&e.oneOf.indexOf(t.value)<0)return{error:"invalid",reason:"unknown"};if(e.validate)try{e.validate(t.value)}catch(r){return{error:r.message}}}return t}function mt(l,e){try{return l=e(l),l===void 0?{value:null}:{value:l}}catch(t){var n={error:t.message};return t.reason&&(n.reason=t.reason),n}}function gi(l,e,n){switch(e){case String:return mt(l,si);case Number:return mt(l,oi);case Date:return mt(l,function(t){return ai(t,{properties:n.properties})});case Boolean:return mt(l,ii);default:if(typeof e=="function")return mt(l,e);throw new Error("Unsupported schema type: ".concat(e&&e.name||e))}}function Rl(l,e,n){for(var t=0,r="";n+t<l.length;){var o=l[n+t];if(o===e)return[r,t];if(o==='"'){var s=Rl(l,'"',n+t+1);r+=s[0],t+=1+s[1]+1}else r+=o,t++}return[r,t]}function di(l){for(var e=[],n=0;n<l.length;){var t=Rl(l,",",n),r=fi(t,2),o=r[0],s=r[1];n+=s+1,e.push(o.trim())}return e}var hi=function(e){return e[0].map(function(n,t){return e.map(function(r){return r[t]})})};function bi(l){for(var e=0,n=Object.keys(l);e<n.length;e++){var t=n[e],r=l[t];if(!r.prop)throw new Error('"prop" not defined for schema entry "'.concat(t,'".'))}}function yn(l){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(l)}function Bl(l){for(var e={},n=0,t=Object.keys(l);n<t.length;n++){var r=t[n],o=l[r],s=void 0;yn(o)==="object"&&(o=Object.keys(l[r])[0],s=Bl(l[r][o])),e[r]={prop:o},s&&(e[r].type=s)}return e}var vi=["schema","map"];function cr(l,e){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(l);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),n.push.apply(n,t)}return n}function tn(l){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cr(Object(n),!0).forEach(function(t){wi(l,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach(function(t){Object.defineProperty(l,t,Object.getOwnPropertyDescriptor(n,t))})}return l}function wi(l,e,n){return e in l?Object.defineProperty(l,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[e]=n,l}function ki(l,e){if(l==null)return{};var n=yi(l,e),t,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);for(r=0;r<o.length;r++)t=o[r],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(l,t)&&(n[t]=l[t])}return n}function yi(l,e){if(l==null)return{};var n={},t=Object.keys(l),r,o;for(o=0;o<t.length;o++)r=t[o],!(e.indexOf(r)>=0)&&(n[r]=l[r]);return n}function Si(l,e,n){var t=n.schema,r=n.map,o=ki(n,vi);!t&&r&&(t=Bl(r));var s=Js(l,e,tn(tn({},o),{},{properties:t||o.properties}));return t?_i(s.data,t,tn(tn({},o),{},{properties:s.properties})):s}function Ci(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Uo(l).then(function(n){return Si(n,To,e)})}function Ti(l){let e=new Map;for(let[t,r]of Object.entries(l.schemes))e.set(t,r);l.features=l.features.filter(t=>Oi(t));let n=1;for(let t of l.features){let r=e.get(t.properties.scheme_reference);r.browse&&(t.properties.funding_programme=r.browse.funding_programme,t.properties.current_milestone=r.browse.current_milestone,t.id=n++)}return e}function Oi(l){return!["eb0ad8ed183c137da4bae66afa944da9","0a568f07241be96f0a70aa73a0de80c8","6c4a5d57176eaeb3296eba790f869909","475e9a43749ce09c7edaaffa0ae57a2f","117b783cb2916a1bb4262960e523acc5","7a600e6342b226aa0983c8dfed19254f","84cc5eb1b52a4e49188058373e587ff0"].includes(l.properties.id)}async function Li(l){let e={ID:"id",Inspector:"inspector","Submission Time":"submission_time","Please enter the Scheme Reference number, (e.g. ATF2_WYO_01)":"scheme_reference","Please enter current Design Stage":"current_design_stage","Select Critical Issue type below:":"critical_type","Please Enter Latitude and Longitude \n(Right click on location in Google, left click on information to copy to clipboard, paste below)":"lat_lon",Column1:"location_description","Enter any additional information (e.g. any comments or notes about this critical issue)":"notes"},{rows:n}=await Ci(l,{map:e,sheet:"Form Input"}),t={type:"FeatureCollection",features:[]};for(let r of n){let o=Wl(r.lat_lon.split(",").map(parseFloat).reverse()),s=r;s.submission_time=r.submission_time.toLocaleString(),t.features.push({type:"Feature",properties:s,geometry:{type:"Point",coordinates:o},id:t.features.length+1})}return t}const Sn=["ATF2","ATF2 or ATF3","ATF3","ATF4","ATF4E","Planned pipeline","Other"];function Ai(l){return at(["get","intervention_type"],{area:rt.area,route:rt.route,crossing:rt.crossing,other:rt.other},"white")}function Ii(l){return[["Areas",rt.area],["Routes",rt.route],["Crossings",rt.crossing],["Other",rt.other]]}const J={education:{schools:"#007DBB",colleges:"maroon",universities:"navy"},hospitals:"#B73D25",mrn:"#781400",srn:"#006478",national_cycle_network:"#640078",sports_spaces:"#013220",parliamentary_constituencies:"#006E59",wards:"purple",combined_authorities:"cyan",local_authority_districts:"orange",local_planning_authorities:"red",bus_route_with_lane:"#9362BA",bus_route_without_lane:"#C2A6D8",trams:"black",signalized_crossing:"green",other_crossing:"black",cycle_paths:{track:"#0000FF",lane:"#009FEF",shared_use_segregated:"#FF9900",shared_use_unsegregated:"#E7E700"},sequential_low_to_high:["#CDE594","#80C6A3","#1F9EB7","#186290","#080C54"],funding_programmes:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","grey"],current_milestone:["grey","grey","red","red","#fbb862","#eddc76","#dafd9d","#76c384","#488f31"],gradient_flat_to_steep:["#267300","#70A800","#FFAA00","#E60000","#A80000","#730000"]},Ne=["interpolate",["exponential",1.6],["zoom"],3,1,7,2,18,20];function Cn(){let[l,e]=zl(Sn,J.funding_programmes);return[at(["get","funding_programme"],l,"grey"),e]}function Mi(){let l=["removed","no data","not progressed","superseded","preliminary design completed","feasability design completed","detailed design completed","consruction started","construction completed"],[e,n]=zl(l,J.current_milestone);return[at(["get","current_milestone"],e,"grey"),n]}function zl(l,e){let n=[],t={},r=0;for(let o of l){let s=e[r++%e.length];t[o]=s,n.push([o,s])}return[t,n]}function Pi(l){let e,n;return e=new In({props:{rows:l[1]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&2&&(o.rows=t[1]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ni(l){let e,n,t,r,o;function s(i){l[3](i)}let u={label:"Color interventions",choices:[["fundingProgramme","By funding programme"],["interventionType","By intervention type"],["currentMilestone","By current milestone"]]};return l[0]!==void 0&&(u.value=l[0]),e=new _t({props:u}),U.push(()=>W(e,"value",s)),e.$on("change",l[2]),r=new Fe({props:{label:"Legend",$$slots:{default:[Pi]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};!n&&a&1&&(n=!0,f.value=i[0],V(()=>n=!1)),e.$set(f);const c={};a&66&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}function Ei(l,e,n){let t;ye(l,Ln,a=>n(4,t=a));let r="fundingProgramme",[o,s]=Cn();function u(){let a;r=="interventionType"?(a=Ai(),n(1,s=Ii())):r=="fundingProgramme"?n(1,[a,s]=Cn(),s):r=="currentMilestone"&&n(1,[a,s]=Mi(),s),t.setPaintProperty("interventions-points","circle-color",a),t.setPaintProperty("interventions-lines","line-color",a),t.setPaintProperty("interventions-polygons","fill-color",a),t.setPaintProperty("interventions-polygons-outlines","line-color",a)}function i(a){r=a,n(0,r)}return[r,s,u,i]}class Fi extends Q{constructor(e){super(),Z(this,e,Ei,Ni,X,{})}}const ht=Qt({type:"FeatureCollection",features:[],schemes:{}}),on=Qt(new Map),$r=Qt(!0),wt=Qt(""),kt=Qt("");function Di(l){let e;return{c(){e=k("Reset all filters")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ji(l){let e;return{c(){e=k("Clear")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ri(l){let e,n,t,r,o,s;return t=new dt({props:{$$slots:{default:[ji]},$$scope:{ctx:l}}}),t.$on("click",l[16]),{c(){e=C("input"),n=O(),h(t.$$.fragment),q(e,"type","text"),q(e,"class","govuk-input govuk-input--width-10"),q(e,"id","filterInterventionText")},m(u,i){$(u,e,i),We(e,l[6]),$(u,n,i),b(t,u,i),r=!0,o||(s=it(e,"input",l[15]),o=!0)},p(u,i){i&64&&e.value!==u[6]&&We(e,u[6]);const a={};i&16777216&&(a.$$scope={dirty:i,ctx:u}),t.$set(a)},i(u){r||(m(t.$$.fragment,u),r=!0)},o(u){g(t.$$.fragment,u),r=!1},d(u){u&&(p(e),p(n)),v(t,u),o=!1,s()}}}function Bi(l){let e;return{c(){e=k("Clear")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function zi(l){let e,n,t,r,o,s;return t=new dt({props:{$$slots:{default:[Bi]},$$scope:{ctx:l}}}),t.$on("click",l[18]),{c(){e=C("input"),n=O(),h(t.$$.fragment),q(e,"type","text"),q(e,"class","govuk-input govuk-input--width-10"),q(e,"id","filterSchemeText")},m(u,i){$(u,e,i),We(e,l[5]),$(u,n,i),b(t,u,i),r=!0,o||(s=it(e,"input",l[17]),o=!0)},p(u,i){i&32&&e.value!==u[5]&&We(e,u[5]);const a={};i&16777216&&(a.$$scope={dirty:i,ctx:u}),t.$set(a)},i(u){r||(m(t.$$.fragment,u),r=!0)},o(u){g(t.$$.fragment,u),r=!1},d(u){u&&(p(e),p(n)),v(t,u),o=!1,s()}}}function Hi(l){let e,n,t,r,o,s,u,i,a,f,c,d,_,y,L,S,M;e=new dt({props:{$$slots:{default:[Di]},$$scope:{ctx:l}}}),e.$on("click",l[11]);function j(T){l[12](T)}let I={label:"Authority or region",choices:l[7],emptyOption:!0};l[2]!==void 0&&(I.value=l[2]),t=new _t({props:I}),U.push(()=>W(t,"value",j));function N(T){l[13](T)}let A={label:"Funding programme",choices:l[8],emptyOption:!0};l[3]!==void 0&&(A.value=l[3]),s=new _t({props:A}),U.push(()=>W(s,"value",N));function P(T){l[14](T)}let E={label:"Current milestone",choices:l[9],emptyOption:!0};return l[4]!==void 0&&(E.value=l[4]),a=new _t({props:E}),U.push(()=>W(a,"value",P)),d=new gn({props:{label:"Intervention name or description",id:"filterInterventionText",$$slots:{default:[Ri]},$$scope:{ctx:l}}}),y=new gn({props:{label:"Scheme name or reference",id:"filterSchemeText",$$slots:{default:[zi]},$$scope:{ctx:l}}}),S=new Fi({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),o=O(),h(s.$$.fragment),i=O(),h(a.$$.fragment),c=O(),h(d.$$.fragment),_=O(),h(y.$$.fragment),L=O(),h(S.$$.fragment)},m(T,F){b(e,T,F),$(T,n,F),b(t,T,F),$(T,o,F),b(s,T,F),$(T,i,F),b(a,T,F),$(T,c,F),b(d,T,F),$(T,_,F),b(y,T,F),$(T,L,F),b(S,T,F),M=!0},p(T,F){const G={};F&16777216&&(G.$$scope={dirty:F,ctx:T}),e.$set(G);const R={};F&128&&(R.choices=T[7]),!r&&F&4&&(r=!0,R.value=T[2],V(()=>r=!1)),t.$set(R);const D={};F&256&&(D.choices=T[8]),!u&&F&8&&(u=!0,D.value=T[3],V(()=>u=!1)),s.$set(D);const B={};F&512&&(B.choices=T[9]),!f&&F&16&&(f=!0,B.value=T[4],V(()=>f=!1)),a.$set(B);const Y={};F&16777280&&(Y.$$scope={dirty:F,ctx:T}),d.$set(Y);const le={};F&16777248&&(le.$$scope={dirty:F,ctx:T}),y.$set(le)},i(T){M||(m(e.$$.fragment,T),m(t.$$.fragment,T),m(s.$$.fragment,T),m(a.$$.fragment,T),m(d.$$.fragment,T),m(y.$$.fragment,T),m(S.$$.fragment,T),M=!0)},o(T){g(e.$$.fragment,T),g(t.$$.fragment,T),g(s.$$.fragment,T),g(a.$$.fragment,T),g(d.$$.fragment,T),g(y.$$.fragment,T),g(S.$$.fragment,T),M=!1},d(T){T&&(p(n),p(o),p(i),p(c),p(_),p(L)),v(e,T),v(t,T),v(s,T),v(a,T),v(d,T),v(y,T),v(S,T)}}}function qi(l){let e,n=l[0].size.toLocaleString()+"",t,r,o=l[10].route.toLocaleString()+"",s,u,i=l[10].area.toLocaleString()+"",a,f,c=l[10].crossing.toLocaleString()+"",d,_,y=l[10].other.toLocaleString()+"",L,S,M=pr(l[10].totalLength).toFixed(1)+"",j,I;return{c(){e=k("Showing "),t=k(n),r=k(" schemes ("),s=k(o),u=k(`
    routes, `),a=k(i),f=k(` areas,
    `),d=k(c),_=k(" crossings, "),L=k(y),S=k(`
    other, with total LineString length of `),j=k(M),I=k(" miles)")},m(N,A){$(N,e,A),$(N,t,A),$(N,r,A),$(N,s,A),$(N,u,A),$(N,a,A),$(N,f,A),$(N,d,A),$(N,_,A),$(N,L,A),$(N,S,A),$(N,j,A),$(N,I,A)},p(N,A){A&1&&n!==(n=N[0].size.toLocaleString()+"")&&z(t,n),A&1024&&o!==(o=N[10].route.toLocaleString()+"")&&z(s,o),A&1024&&i!==(i=N[10].area.toLocaleString()+"")&&z(a,i),A&1024&&c!==(c=N[10].crossing.toLocaleString()+"")&&z(d,c),A&1024&&y!==(y=N[10].other.toLocaleString()+"")&&z(L,y),A&1024&&M!==(M=pr(N[10].totalLength).toFixed(1)+"")&&z(j,M)},d(N){N&&(p(e),p(t),p(r),p(s),p(u),p(a),p(f),p(d),p(_),p(L),p(S),p(j),p(I))}}}function Gi(l){let e,n,t;function r(s){l[19](s)}let o={$$slots:{default:[qi]},$$scope:{ctx:l}};return l[1]!==void 0&&(o.checked=l[1]),e=new re({props:o}),U.push(()=>W(e,"checked",r)),{c(){h(e.$$.fragment)},m(s,u){b(e,s,u),t=!0},p(s,u){const i={};u&16778241&&(i.$$scope={dirty:u,ctx:s}),!n&&u&2&&(n=!0,i.checked=s[1],V(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function Ui(l){let e,n,t,r;return e=new Fe({props:{label:"Filters",$$slots:{default:[Hi]},$$scope:{ctx:l}}}),t=new Xe({props:{small:!0,$$slots:{default:[Gi]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,s){b(e,o,s),$(o,n,s),b(t,o,s),r=!0},p(o,[s]){const u={};s&16778236&&(u.$$scope={dirty:s,ctx:o}),e.$set(u);const i={};s&16778243&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){r||(m(e.$$.fragment,o),m(t.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),r=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function pr(l){return l*621371e-9}function Wi(l,e,n){let t,r,o,s;ye(l,kt,R=>n(5,t=R)),ye(l,wt,R=>n(6,r=R)),ye(l,ht,R=>n(20,o=R)),ye(l,on,R=>n(21,s=R));let{schemesToBeShown:u=new Set}=e,{show:i=!0}=e,a=[],f="",c=[],d=new Set(Sn.slice(0,-1)),_="",y=[],L="",S={area:0,route:0,crossing:0,other:0,totalLength:0};An(()=>{var Y,le,oe;let R=new Set,D=new Set,B=new Set;for(let $e of s.values())(Y=$e.browse)!=null&&Y.authority_or_region&&R.add($e.browse.authority_or_region),(le=$e.browse)!=null&&le.funding_programme&&D.add($e.browse.funding_programme),(oe=$e.browse)!=null&&oe.current_milestone&&B.add($e.browse.current_milestone);n(7,a=Array.from(R.entries())),a.sort(),n(8,c=Sn.map($e=>[$e,$e])),n(9,y=Array.from(B.entries())),y.sort()});function M(R,D,B,Y,le){let oe=R.toLowerCase(),$e=D.toLowerCase(),Ie=ae=>{var Ae,ue,_e,de,ze,Ee;if(oe&&!((Ae=ae.properties.name)!=null&&Ae.toLowerCase().includes(oe))&&!((ue=ae.properties.description)!=null&&ue.toLowerCase().includes(oe)))return!1;if($e||B||Y||le){let Ce=s.get(ae.properties.scheme_reference);if(B&&((_e=Ce.browse)==null?void 0:_e.authority_or_region)!=B||Y&&Y!=="Other"&&((de=Ce.browse)==null?void 0:de.funding_programme)!=Y||Y==="Other"&&d.has(((ze=Ce.browse)==null?void 0:ze.funding_programme)??"")||le&&((Ee=Ce.browse)==null?void 0:Ee.current_milestone)!=le||$e&&!Ce.scheme_reference.toLowerCase().includes($e)&&!(Ce.scheme_name??"").toLowerCase().includes($e))return!1}return!0};n(0,u=new Set(o.features.filter(Ie).map(ae=>ae.properties.scheme_reference))),n(10,S={area:0,route:0,crossing:0,other:0,totalLength:0});let Oe=ae=>{var Ae,ue;return!(!u.has(ae.properties.scheme_reference)||oe&&!((Ae=ae.properties.name)!=null&&Ae.toLowerCase().includes(oe))&&!((ue=ae.properties.description)!=null&&ue.toLowerCase().includes(oe)))};for(let ae of o.features)Oe(ae)?(delete ae.properties.hide_while_editing,n(10,S[ae.properties.intervention_type]++,S),ae.geometry.type=="LineString"&&ae.properties.length_meters&&n(10,S.totalLength+=ae.properties.length_meters,S)):ae.properties.hide_while_editing=!0;ht.set(o),n(10,S)}function j(){n(2,f=""),n(3,_=""),n(4,L=""),st(wt,r="",r),st(kt,t="",t)}function I(R){f=R,n(2,f)}function N(R){_=R,n(3,_)}function A(R){L=R,n(4,L)}function P(){r=this.value,wt.set(r)}const E=()=>st(wt,r="",r);function T(){t=this.value,kt.set(t)}const F=()=>st(kt,t="",t);function G(R){i=R,n(1,i)}return l.$$set=R=>{"schemesToBeShown"in R&&n(0,u=R.schemesToBeShown),"show"in R&&n(1,i=R.show)},l.$$.update=()=>{l.$$.dirty&124&&M(r,t,f,_,L)},[u,i,f,_,L,t,r,a,c,y,S,j,I,N,A,P,E,T,F,G]}class Vi extends Q{constructor(e){super(),Z(this,e,Wi,Ui,X,{schemesToBeShown:0,show:1})}}function Xi(l){let e;return{c(){e=k(`Open Government License
  `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Yi(l){let e,n,t,r,o;return t=new x({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[Xi]},$$scope:{ctx:l}}}),{c(){e=C("p"),n=k("License: "),h(t.$$.fragment),r=k(`. Contains OS data  Crown copyright and database right
  2023.`)},m(s,u){$(s,e,u),w(e,n),b(t,e,null),w(e,r),o=!0},p(s,[u]){const i={};u&1&&(i.$$scope={dirty:u,ctx:s}),t.$set(i)},i(s){o||(m(t.$$.fragment,s),o=!0)},o(s){g(t.$$.fragment,s),o=!1},d(s){s&&p(e),v(t)}}}class Le extends Q{constructor(e){super(),Z(this,e,null,Yi,X,{})}}function mr(l,e,n){const t=l.slice();return t[2]=e[n],t}function _r(l,e,n){const t=l.slice();return t[5]=e[n],t}function gr(l){let e,n;return{c(){e=C("span"),n=k(`
    `),Se(e,"background",l[5]),Se(e,"width","100%"),Se(e,"border","1px solid black")},m(t,r){$(t,e,r),w(e,n)},p(t,r){r&1&&Se(e,"background",t[5])},d(t){t&&p(e)}}}function dr(l){let e,n=l[2]+"",t;return{c(){e=C("span"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&2&&n!==(n=r[2]+"")&&z(t,n)},d(r){r&&p(e)}}}function Ji(l){let e,n,t,r=De(l[0]),o=[];for(let i=0;i<r.length;i+=1)o[i]=gr(_r(l,r,i));let s=De(l[1]),u=[];for(let i=0;i<s.length;i+=1)u[i]=dr(mr(l,s,i));return{c(){e=C("div");for(let i=0;i<o.length;i+=1)o[i].c();n=O(),t=C("div");for(let i=0;i<u.length;i+=1)u[i].c();Se(e,"display","flex"),Se(t,"display","flex"),Se(t,"justify-content","space-between")},m(i,a){$(i,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);$(i,n,a),$(i,t,a);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(t,null)},p(i,[a]){if(a&1){r=De(i[0]);let f;for(f=0;f<r.length;f+=1){const c=_r(i,r,f);o[f]?o[f].p(c,a):(o[f]=gr(c),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=r.length}if(a&2){s=De(i[1]);let f;for(f=0;f<s.length;f+=1){const c=mr(i,s,f);u[f]?u[f].p(c,a):(u[f]=dr(c),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=s.length}},i:ne,o:ne,d(i){i&&(p(e),p(n),p(t)),gt(o,i),gt(u,i)}}}function Ki(l,e,n){let{colorScale:t}=e,{limits:r}=e;return l.$$set=o=>{"colorScale"in o&&n(0,t=o.colorScale),"limits"in o&&n(1,r=o.limits)},[t,r]}class Be extends Q{constructor(e){super(),Z(this,e,Ki,Ji,X,{colorScale:0,limits:1})}}function hr(l){const e=l[13].OA21CD;l[14]=e;const n=l[13][l[3]];l[15]=n}function Qi(l){let e;return{c(){e=k("Percent of households with a car")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Zi(l){let e;return{c(){e=k(`NOMIS TS045
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function xi(l){let e;return{c(){e=k(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ea(l){let e;return{c(){e=k(`Open Government License
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ta(l){let e,n,t,r,o,s,u,i,a,f,c,d;return t=new x({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[Zi]},$$scope:{ctx:l}}}),o=new x({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[xi]},$$scope:{ctx:l}}}),f=new x({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[ea]},$$scope:{ctx:l}}}),{c(){e=C("p"),n=k("Car/van availability data is from the 2021 census, via "),h(t.$$.fragment),r=k(". Output area boundaries from "),h(o.$$.fragment),s=k("."),u=O(),i=C("p"),a=k("License: "),h(f.$$.fragment),c=k(`. Contains OS data  Crown copyright and database
        right 2023.`)},m(_,y){$(_,e,y),w(e,n),b(t,e,null),w(e,r),b(o,e,null),w(e,s),$(_,u,y),$(_,i,y),w(i,a),b(f,i,null),w(i,c),d=!0},p(_,y){const L={};y&65536&&(L.$$scope={dirty:y,ctx:_}),t.$set(L);const S={};y&65536&&(S.$$scope={dirty:y,ctx:_}),o.$set(S);const M={};y&65536&&(M.$$scope={dirty:y,ctx:_}),f.$set(M)},i(_){d||(m(t.$$.fragment,_),m(o.$$.fragment,_),m(f.$$.fragment,_),d=!0)},o(_){g(t.$$.fragment,_),g(o.$$.fragment,_),g(f.$$.fragment,_),d=!1},d(_){_&&(p(e),p(u),p(i)),v(t),v(o),v(f)}}}function na(l){let e,n,t;return n=new ce({props:{$$slots:{default:[ta]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&65536&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function br(l){let e,n;return e=new Be({props:{colorScale:l[4],limits:l[6]()}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ra(l){let e;return{c(){e=k("Average cars per household")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function la(l){let e;return{c(){e=k(`NOMIS TS045
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function oa(l){let e;return{c(){e=k(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function sa(l){let e;return{c(){e=k(`Open Government License
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ia(l){let e,n,t,r,o,s,u,i,a,f,c,d,_,y;return o=new x({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[la]},$$scope:{ctx:l}}}),u=new x({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[oa]},$$scope:{ctx:l}}}),d=new x({props:{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",$$slots:{default:[sa]},$$scope:{ctx:l}}}),{c(){e=C("p"),e.textContent=`Where the census counts "3 or more cars or vans", the average shown here
        assumes 3.`,n=O(),t=C("p"),r=k("Car/van availability data is from the 2021 census, via "),h(o.$$.fragment),s=k(". Output area boundaries from "),h(u.$$.fragment),i=k("."),a=O(),f=C("p"),c=k("License: "),h(d.$$.fragment),_=k(`. Contains OS data  Crown copyright and database
        right 2023.`)},m(L,S){$(L,e,S),$(L,n,S),$(L,t,S),w(t,r),b(o,t,null),w(t,s),b(u,t,null),w(t,i),$(L,a,S),$(L,f,S),w(f,c),b(d,f,null),w(f,_),y=!0},p(L,S){const M={};S&65536&&(M.$$scope={dirty:S,ctx:L}),o.$set(M);const j={};S&65536&&(j.$$scope={dirty:S,ctx:L}),u.$set(j);const I={};S&65536&&(I.$$scope={dirty:S,ctx:L}),d.$set(I)},i(L){y||(m(o.$$.fragment,L),m(u.$$.fragment,L),m(d.$$.fragment,L),y=!0)},o(L){g(o.$$.fragment,L),g(u.$$.fragment,L),g(d.$$.fragment,L),y=!1},d(L){L&&(p(e),p(n),p(t),p(a),p(f)),v(o),v(u),v(d)}}}function aa(l){let e,n,t;return n=new ce({props:{$$slots:{default:[ia]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&65536&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function vr(l){let e,n;return e=new Be({props:{colorScale:l[4],limits:l[6]()}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function fa(l){let e;return{c(){e=k("Population density")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ua(l){let e;return{c(){e=k(`NOMIS TS006
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ca(l){let e;return{c(){e=k(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function $a(l){let e,n,t,r,o,s,u,i,a;return t=new x({props:{href:"https://www.nomisweb.co.uk/sources/census_2021_bulk",$$slots:{default:[ua]},$$scope:{ctx:l}}}),o=new x({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::output-areas-2021-boundaries-ew-bgc/explore",$$slots:{default:[ca]},$$scope:{ctx:l}}}),i=new Le({}),{c(){e=C("p"),n=k("Population density data is from the 2021 census, via "),h(t.$$.fragment),r=k(". Output area boundaries from "),h(o.$$.fragment),s=k("."),u=O(),h(i.$$.fragment)},m(f,c){$(f,e,c),w(e,n),b(t,e,null),w(e,r),b(o,e,null),w(e,s),$(f,u,c),b(i,f,c),a=!0},p(f,c){const d={};c&65536&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const _={};c&65536&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){a||(m(t.$$.fragment,f),m(o.$$.fragment,f),m(i.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),g(i.$$.fragment,f),a=!1},d(f){f&&(p(e),p(u)),v(t),v(o),v(i,f)}}}function pa(l){let e,n,t;return n=new ce({props:{$$slots:{default:[$a]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&65536&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function wr(l){let e,n,t,r;return t=new Be({props:{colorScale:l[4],limits:l[6]().map(wa)}}),{c(){e=C("p"),e.textContent="(people per square kilometres)",n=O(),h(t.$$.fragment)},m(o,s){$(o,e,s),$(o,n,s),b(t,o,s),r=!0},p:ne,i(o){r||(m(t.$$.fragment,o),r=!0)},o(o){g(t.$$.fragment,o),r=!1},d(o){o&&(p(e),p(n)),v(t,o)}}}function ma(l){let e,n,t,r=l[15].toLocaleString()+"",o,s,u=l[14]+"",i;return{c(){e=C("p"),n=k("There are "),t=C("b"),o=k(r),s=k(`
          people per square kilometre in `),i=k(u)},m(a,f){$(a,e,f),w(e,n),w(e,t),w(t,o),w(e,s),w(e,i)},p(a,f){f&8200&&r!==(r=a[15].toLocaleString()+"")&&z(o,r),f&8192&&u!==(u=a[14]+"")&&z(i,u)},d(a){a&&p(e)}}}function _a(l){let e,n,t=l[14]+"",r,o,s,u=l[15]+"",i,a;return{c(){e=C("p"),n=k("Households in "),r=k(t),o=k(` have an average of
          `),s=C("b"),i=k(u),a=k(`
          cars`)},m(f,c){$(f,e,c),w(e,n),w(e,r),w(e,o),w(e,s),w(s,i),w(e,a)},p(f,c){c&8192&&t!==(t=f[14]+"")&&z(r,t),c&8200&&u!==(u=f[15]+"")&&z(i,u)},d(f){f&&p(e)}}}function ga(l){let e,n,t=l[15]+"",r,o,s,u=l[14]+"",i,a;return{c(){e=C("p"),n=C("b"),r=k(t),o=k("%"),s=k(`
          of households in `),i=k(u),a=k(" have 1 or more cars")},m(f,c){$(f,e,c),w(e,n),w(n,r),w(n,o),w(e,s),w(e,i),w(e,a)},p(f,c){c&8200&&t!==(t=f[15]+"")&&z(r,t),c&8192&&u!==(u=f[14]+"")&&z(i,u)},d(f){f&&p(e)}}}function da(l){hr(l);let e;function n(o,s){return o[3]=="percent_households_with_car"?ga:o[3]=="average_cars_per_household"?_a:ma}let t=n(l),r=t(l);return{c(){r.c(),e=je()},m(o,s){r.m(o,s),$(o,e,s)},p(o,s){hr(o),t===(t=n(o))&&r?r.p(o,s):(r.d(1),r=t(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&p(e),r.d(o)}}}function ha(l){let e,n;return e=new fe({props:{$$slots:{default:[da,({props:t})=>({13:t}),({props:t})=>t?8192:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&73736&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ba(l){let e,n,t,r;const o=[H(Ke),{sourceLayer:Ke},{paint:{"fill-color":we(["get",l[3]],l[6](),l[4]),"fill-opacity":K(.5,.7)}},{layout:{visibility:l[3]!=""?"visible":"none"}},{eventsIfTopMost:!0},{manageHoverState:!0},{hoverCursor:"pointer"}];let s={$$slots:{default:[ha]},$$scope:{ctx:l}};for(let a=0;a<o.length;a+=1)s=ee(s,o[a]);e=new Re({props:s}),e.$on("click",l[5]);const u=[H(`${Ke}-outline`),{sourceLayer:Ke},{paint:{"line-color":"black","line-width":.5}},{layout:{visibility:l[3]!=""?"visible":"none"}}];let i={};for(let a=0;a<u.length;a+=1)i=ee(i,u[a]);return t=new ke({props:i}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),r=!0},p(a,f){const c=f&88?te(o,[f&0&&ie(H(Ke)),f&0&&{sourceLayer:Ke},f&88&&{paint:{"fill-color":we(["get",a[3]],a[6](),a[4]),"fill-opacity":K(.5,.7)}},f&8&&{layout:{visibility:a[3]!=""?"visible":"none"}},o[4],o[5],o[6]]):{};f&65544&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&8?te(u,[f&0&&ie(H(`${Ke}-outline`)),f&0&&{sourceLayer:Ke},u[2],f&8&&{layout:{visibility:a[3]!=""?"visible":"none"}}]):{};t.$set(d)},i(a){r||(m(e.$$.fragment,a),m(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function va(l){let e,n,t,r,o,s,u,i,a,f,c,d,_,y;function L(T){l[7](T)}let S={$$slots:{right:[na],default:[Qi]},$$scope:{ctx:l}};l[0]!==void 0&&(S.checked=l[0]),e=new re({props:S}),U.push(()=>W(e,"checked",L)),e.$on("change",l[8]);let M=l[3]=="percent_households_with_car"&&br(l);function j(T){l[9](T)}let I={$$slots:{right:[aa],default:[ra]},$$scope:{ctx:l}};l[1]!==void 0&&(I.checked=l[1]),o=new re({props:I}),U.push(()=>W(o,"checked",j)),o.$on("change",l[10]);let N=l[3]=="average_cars_per_household"&&vr(l);function A(T){l[11](T)}let P={$$slots:{right:[pa],default:[fa]},$$scope:{ctx:l}};l[2]!==void 0&&(P.checked=l[2]),a=new re({props:P}),U.push(()=>W(a,"checked",A)),a.$on("change",l[12]);let E=l[3]=="population_density"&&wr(l);return _=new be({props:{url:`pmtiles://${ge()}/v1/${Ke}.pmtiles`,$$slots:{default:[ba]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),M&&M.c(),r=O(),h(o.$$.fragment),u=O(),N&&N.c(),i=O(),h(a.$$.fragment),c=O(),E&&E.c(),d=O(),h(_.$$.fragment)},m(T,F){b(e,T,F),$(T,t,F),M&&M.m(T,F),$(T,r,F),b(o,T,F),$(T,u,F),N&&N.m(T,F),$(T,i,F),b(a,T,F),$(T,c,F),E&&E.m(T,F),$(T,d,F),b(_,T,F),y=!0},p(T,[F]){const G={};F&65536&&(G.$$scope={dirty:F,ctx:T}),!n&&F&1&&(n=!0,G.checked=T[0],V(()=>n=!1)),e.$set(G),T[3]=="percent_households_with_car"?M?(M.p(T,F),F&8&&m(M,1)):(M=br(T),M.c(),m(M,1),M.m(r.parentNode,r)):M&&(pe(),g(M,1,1,()=>{M=null}),me());const R={};F&65536&&(R.$$scope={dirty:F,ctx:T}),!s&&F&2&&(s=!0,R.checked=T[1],V(()=>s=!1)),o.$set(R),T[3]=="average_cars_per_household"?N?(N.p(T,F),F&8&&m(N,1)):(N=vr(T),N.c(),m(N,1),N.m(i.parentNode,i)):N&&(pe(),g(N,1,1,()=>{N=null}),me());const D={};F&65536&&(D.$$scope={dirty:F,ctx:T}),!f&&F&4&&(f=!0,D.checked=T[2],V(()=>f=!1)),a.$set(D),T[3]=="population_density"?E?(E.p(T,F),F&8&&m(E,1)):(E=wr(T),E.c(),m(E,1),E.m(d.parentNode,d)):E&&(pe(),g(E,1,1,()=>{E=null}),me());const B={};F&65544&&(B.$$scope={dirty:F,ctx:T}),_.$set(B)},i(T){y||(m(e.$$.fragment,T),m(M),m(o.$$.fragment,T),m(N),m(a.$$.fragment,T),m(E),m(_.$$.fragment,T),y=!0)},o(T){g(e.$$.fragment,T),g(M),g(o.$$.fragment,T),g(N),g(a.$$.fragment,T),g(E),g(_.$$.fragment,T),y=!1},d(T){T&&(p(t),p(r),p(u),p(i),p(c),p(d)),v(e,T),M&&M.d(T),v(o,T),N&&N.d(T),v(a,T),E&&E.d(T),v(_,T)}}}let Ke="census_output_areas";const wa=l=>l.toLocaleString();function ka(l,e,n){let t=J.sequential_low_to_high,r=!1,o=!1,s=!1,u="";function i(S){let M=S.detail.features[0].properties.OA21CD;u=="percent_households_with_car"||u=="average_cars_per_household"?window.open(`https://www.ons.gov.uk/census/maps/choropleth/housing/number-of-cars-or-vans/number-of-cars-5a/no-cars-or-vans-in-household?oa=${M}`,"_blank"):window.open(`https://www.ons.gov.uk/census/maps/choropleth/population/population-density/population-density/persons-per-square-kilometre?oa=${M}`,"_blank")}function a(){return u=="percent_households_with_car"?[0,20,40,60,80,100]:u=="average_cars_per_household"?[0,.5,1,1.5,2,2.5]:[0,4700,13e3,33e3,94e3,198e4]}function f(S){r=S,n(0,r)}const c=()=>{n(1,o=!1),n(2,s=!1)};function d(S){o=S,n(1,o)}const _=()=>{n(0,r=!1),n(2,s=!1)};function y(S){s=S,n(2,s)}const L=()=>{n(0,r=!1),n(1,o=!1)};return l.$$.update=()=>{l.$$.dirty&7&&(r?n(3,u="percent_households_with_car"):o?n(3,u="average_cars_per_household"):s?n(3,u="population_density"):n(3,u=""))},[r,o,s,u,t,i,a,f,c,d,_,y,L]}class ya extends Q{constructor(e){super(),Z(this,e,ka,va,X,{})}}function Sa(l){let e,n,t;return e=new Te({props:{color:l[1]}}),{c(){h(e.$$.fragment),n=k(`
  Combined authorities`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function Ca(l){let e;return{c(){e=k(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ta(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::combined-authorities-december-2022-boundaries-en-buc/explore",$$slots:{default:[Ca]},$$scope:{ctx:l}}}),s=new Le({}),{c(){e=C("p"),n=k("Data from "),h(t.$$.fragment),r=k(", as of December 2022."),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function Oa(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Ta]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function La(l){let e,n=l[3].name+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&8&&n!==(n=r[3].name+"")&&z(t,n)},d(r){r&&p(e)}}}function Aa(l){let e,n;return e=new fe({props:{$$slots:{default:[La,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ia(l){let e,n,t,r;const o=[H(yt),{paint:{"fill-color":l[1],"fill-opacity":K(0,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let s={$$slots:{default:[Aa]},$$scope:{ctx:l}};for(let a=0;a<o.length;a+=1)s=ee(s,o[a]);e=new Re({props:s}),e.$on("click",Pa);const u=[H(`${yt}-outline`),{paint:{"line-color":l[1],"line-width":2.5}},{layout:{visibility:l[0]?"visible":"none"}}];let i={};for(let a=0;a<u.length;a+=1)i=ee(i,u[a]);return t=new ke({props:i}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),r=!0},p(a,f){const c=f&3?te(o,[f&0&&ie(H(yt)),f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[3],o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?te(u,[f&0&&ie(H(`${yt}-outline`)),f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){r||(m(e.$$.fragment,a),m(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function Ma(l){let e,n,t,r,o;function s(i){l[2](i)}let u={$$slots:{right:[Oa],default:[Sa]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new bt({props:{data:`${ge()}/v1/${yt}.geojson`,$$slots:{default:[Ia]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let yt="combined_authorities";function Pa(l){window.open(`https://www.ons.gov.uk/visualisations/areas/${l.detail.features[0].properties.CAUTH22CD}`,"_blank")}function Na(l,e,n){let t=J.combined_authorities,r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class Ea extends Q{constructor(e){super(),Z(this,e,Na,Ma,X,{})}}function Fa(l){let e;return{c(){e=k("Indices of Multiple Deprivation")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Da(l){let e;return{c(){e=k(`DLUCH GIS
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ja(l){let e;return{c(){e=k(`here
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ra(l){let e,n,t,r,o,s,u,i,a;return t=new x({props:{href:"https://data-communities.opendata.arcgis.com/datasets/communities::indices-of-multiple-deprivation-imd-2019-1/explore",$$slots:{default:[Da]},$$scope:{ctx:l}}}),o=new x({props:{href:"http://dclgapps.communities.gov.uk/imd/iod_index.html",$$slots:{default:[ja]},$$scope:{ctx:l}}}),i=new Le({}),{c(){e=C("p"),n=k("The 2019 English IMD scores come from "),h(t.$$.fragment),r=k(`. Note the LSOAs identified are from the 2011 census. A
        detailed breakdown of the score across different categories can be found `),h(o.$$.fragment),s=k("."),u=O(),h(i.$$.fragment)},m(f,c){$(f,e,c),w(e,n),b(t,e,null),w(e,r),b(o,e,null),w(e,s),$(f,u,c),b(i,f,c),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const _={};c&32&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){a||(m(t.$$.fragment,f),m(o.$$.fragment,f),m(i.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),g(i.$$.fragment,f),a=!1},d(f){f&&(p(e),p(u)),v(t),v(o),v(i,f)}}}function Ba(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Ra]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&32&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function kr(l){let e,n;return e=new Be({props:{colorScale:l[1],limits:["Least deprived","Most deprived"]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function za(l){let e,n=l[4].LSOA11CD+"",t,r,o,s=l[4].score+"",u,i,a,f,c,d=l[4].rank.toLocaleString()+"",_,y;return{c(){e=C("p"),t=k(n),r=k(` has an IMD score of
        `),o=C("b"),u=k(s),i=O(),a=C("p"),f=k("Rank: "),c=C("b"),_=k(d),y=k(`
        / 32,844 LSOAs`)},m(L,S){$(L,e,S),w(e,t),w(e,r),w(e,o),w(o,u),$(L,i,S),$(L,a,S),w(a,f),w(a,c),w(c,_),w(a,y)},p(L,S){S&16&&n!==(n=L[4].LSOA11CD+"")&&z(t,n),S&16&&s!==(s=L[4].score+"")&&z(u,s),S&16&&d!==(d=L[4].rank.toLocaleString()+"")&&z(_,d)},d(L){L&&(p(e),p(i),p(a))}}}function Ha(l){let e,n;return e=new fe({props:{$$slots:{default:[za,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&48&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function qa(l){let e,n,t,r;const o=[H(Qe),{sourceLayer:Qe},{paint:{"fill-color":we(["-",10,["get","decile"]],l[2],l[1]),"fill-opacity":K(.5,.7)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let s={$$slots:{default:[Ha]},$$scope:{ctx:l}};for(let a=0;a<o.length;a+=1)s=ee(s,o[a]);e=new Re({props:s});const u=[H(`${Qe}-outline`),{sourceLayer:Qe},{paint:{"line-color":"black","line-width":.5}},{layout:{visibility:l[0]?"visible":"none"}}];let i={};for(let a=0;a<u.length;a+=1)i=ee(i,u[a]);return t=new ke({props:i}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),r=!0},p(a,f){const c=f&7?te(o,[f&0&&ie(H(Qe)),f&0&&{sourceLayer:Qe},f&6&&{paint:{"fill-color":we(["-",10,["get","decile"]],a[2],a[1]),"fill-opacity":K(.5,.7)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5]]):{};f&32&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&1?te(u,[f&0&&ie(H(`${Qe}-outline`)),f&0&&{sourceLayer:Qe},u[2],f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){r||(m(e.$$.fragment,a),m(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function Ga(l){let e,n,t,r,o,s;function u(f){l[3](f)}let i={$$slots:{right:[Ba],default:[Fa]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&kr(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${Qe}.pmtiles`,$$slots:{default:[qa]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=kr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&33&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Qe="imd";function Ua(l,e,n){let t=J.sequential_low_to_high,r=[0,2,4,6,8,10],o=!1;function s(u){o=u,n(0,o)}return[o,t,r,s]}class Wa extends Q{constructor(e){super(),Z(this,e,Ua,Ga,X,{})}}function Va(l){let e,n,t;return e=new Te({props:{color:l[1]}}),{c(){h(e.$$.fragment),n=k(`
  Local Authority Districts`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function Xa(l){let e;return{c(){e=k(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ya(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::local-authority-districts-may-2023-boundaries-uk-buc/explore",$$slots:{default:[Xa]},$$scope:{ctx:l}}}),s=new Le({}),{c(){e=C("p"),n=k("Data from "),h(t.$$.fragment),r=k(", as of May 2023."),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function Ja(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Ya]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Ka(l){let e,n=l[3].name+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&8&&n!==(n=r[3].name+"")&&z(t,n)},d(r){r&&p(e)}}}function Qa(l){let e,n;return e=new fe({props:{$$slots:{default:[Ka,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Za(l){let e,n,t,r;const o=[H(St),{paint:{"fill-color":l[1],"fill-opacity":K(0,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let s={$$slots:{default:[Qa]},$$scope:{ctx:l}};for(let a=0;a<o.length;a+=1)s=ee(s,o[a]);e=new Re({props:s}),e.$on("click",ef);const u=[H(`${St}-outline`),{paint:{"line-color":l[1],"line-width":2.5}},{layout:{visibility:l[0]?"visible":"none"}}];let i={};for(let a=0;a<u.length;a+=1)i=ee(i,u[a]);return t=new ke({props:i}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),r=!0},p(a,f){const c=f&3?te(o,[f&0&&ie(H(St)),f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[3],o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?te(u,[f&0&&ie(H(`${St}-outline`)),f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){r||(m(e.$$.fragment,a),m(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function xa(l){let e,n,t,r,o;function s(i){l[2](i)}let u={$$slots:{right:[Ja],default:[Va]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new bt({props:{data:`${ge()}/v1/${St}.geojson`,$$slots:{default:[Za]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let St="local_authority_districts";function ef(l){window.open(`https://www.ons.gov.uk/visualisations/areas/${l.detail.features[0].properties.LAD23CD}`,"_blank")}function tf(l,e,n){let t=J.local_authority_districts,r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class nf extends Q{constructor(e){super(),Z(this,e,tf,xa,X,{})}}function rf(l){let e,n,t;return e=new Te({props:{color:l[1]}}),{c(){h(e.$$.fragment),n=k(`
  Local Planning Authorities`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function lf(l){let e;return{c(){e=k(`local authority
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function of(l){let e;return{c(){e=k(`national park authorit
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function sf(l){let e;return{c(){e=k(`development corporation
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function af(l){let e;return{c(){e=k("this map")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ff(l){let e;return{c(){e=k(`planning.data.gov.uk
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function uf(l){let e,n,t,r,o,s,u,i,a,f,c,d,_,y,L,S,M,j,I,N,A,P;return t=new x({props:{href:"https://www.planning.data.gov.uk/dataset/local-authority",$$slots:{default:[lf]},$$scope:{ctx:l}}}),o=new x({props:{href:"https://www.planning.data.gov.uk/dataset/national-park-authority",$$slots:{default:[of]},$$scope:{ctx:l}}}),u=new x({props:{href:"https://www.planning.data.gov.uk/dataset/development-corporation",$$slots:{default:[sf]},$$scope:{ctx:l}}}),_=new x({props:{href:"https://www.planning.data.gov.uk/map/?dataset=local-planning-authority",$$slots:{default:[af]},$$scope:{ctx:l}}}),j=new x({props:{href:"https://www.planning.data.gov.uk/dataset/local-planning-authority",$$slots:{default:[ff]},$$scope:{ctx:l}}}),A=new Le({}),{c(){e=C("p"),n=k("LPAs may be a "),h(t.$$.fragment),r=k(", "),h(o.$$.fragment),s=k("y, or "),h(u.$$.fragment),i=k("."),a=O(),f=C("p"),c=C("strong"),d=k(`Note there are overlapping LPAs near Northhamptonshire. Only one
          authority name is shown when hovering. Use `),h(_.$$.fragment),y=k(" to get more details."),L=O(),S=C("p"),M=k("Data from ONS Geography via "),h(j.$$.fragment),I=k(", as of November 2022."),N=O(),h(A.$$.fragment)},m(E,T){$(E,e,T),w(e,n),b(t,e,null),w(e,r),b(o,e,null),w(e,s),b(u,e,null),w(e,i),$(E,a,T),$(E,f,T),w(f,c),w(c,d),b(_,c,null),w(c,y),$(E,L,T),$(E,S,T),w(S,M),b(j,S,null),w(S,I),$(E,N,T),b(A,E,T),P=!0},p(E,T){const F={};T&16&&(F.$$scope={dirty:T,ctx:E}),t.$set(F);const G={};T&16&&(G.$$scope={dirty:T,ctx:E}),o.$set(G);const R={};T&16&&(R.$$scope={dirty:T,ctx:E}),u.$set(R);const D={};T&16&&(D.$$scope={dirty:T,ctx:E}),_.$set(D);const B={};T&16&&(B.$$scope={dirty:T,ctx:E}),j.$set(B)},i(E){P||(m(t.$$.fragment,E),m(o.$$.fragment,E),m(u.$$.fragment,E),m(_.$$.fragment,E),m(j.$$.fragment,E),m(A.$$.fragment,E),P=!0)},o(E){g(t.$$.fragment,E),g(o.$$.fragment,E),g(u.$$.fragment,E),g(_.$$.fragment,E),g(j.$$.fragment,E),g(A.$$.fragment,E),P=!1},d(E){E&&(p(e),p(a),p(f),p(L),p(S),p(N)),v(t),v(o),v(u),v(_),v(j),v(A,E)}}}function cf(l){let e,n,t;return n=new ce({props:{$$slots:{default:[uf]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function $f(l){let e,n=l[3].name+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&8&&n!==(n=r[3].name+"")&&z(t,n)},d(r){r&&p(e)}}}function pf(l){let e,n;return e=new fe({props:{$$slots:{default:[$f,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function mf(l){let e,n,t,r;const o=[H(Ze),{sourceLayer:Ze},{paint:{"fill-color":l[1],"fill-opacity":K(0,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let s={$$slots:{default:[pf]},$$scope:{ctx:l}};for(let a=0;a<o.length;a+=1)s=ee(s,o[a]);e=new Re({props:s});const u=[H(`${Ze}-outline`),{sourceLayer:Ze},{paint:{"line-color":l[1],"line-width":2.5}},{layout:{visibility:l[0]?"visible":"none"}}];let i={};for(let a=0;a<u.length;a+=1)i=ee(i,u[a]);return t=new ke({props:i}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),r=!0},p(a,f){const c=f&3?te(o,[f&0&&ie(H(Ze)),f&0&&{sourceLayer:Ze},f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?te(u,[f&0&&ie(H(`${Ze}-outline`)),f&0&&{sourceLayer:Ze},f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){r||(m(e.$$.fragment,a),m(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function _f(l){let e,n,t,r,o;function s(i){l[2](i)}let u={$$slots:{right:[cf],default:[rf]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${Ze}.pmtiles`,$$slots:{default:[mf]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let Ze="local_planning_authorities";function gf(l,e,n){let t=J.local_planning_authorities,r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class df extends Q{constructor(e){super(),Z(this,e,gf,_f,X,{})}}function hf(l){let e,n,t;return e=new Te({props:{color:l[1]}}),{c(){h(e.$$.fragment),n=k(`
  Parliamentary constituencies`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function bf(l){let e;return{c(){e=k(`Ordnance Survey Boundary-Line
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function vf(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://www.ordnancesurvey.co.uk/products/boundary-line",$$slots:{default:[bf]},$$scope:{ctx:l}}}),s=new Le({}),{c(){e=C("p"),n=k("Data from "),h(t.$$.fragment),r=k(", as of May 2023."),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function wf(l){let e,n,t;return n=new ce({props:{$$slots:{default:[vf]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function kf(l){let e,n=l[3].Name+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&8&&n!==(n=r[3].Name+"")&&z(t,n)},d(r){r&&p(e)}}}function yf(l){let e,n;return e=new fe({props:{$$slots:{default:[kf,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Sf(l){let e,n,t,r;const o=[H(xe),{sourceLayer:xe},{paint:{"fill-color":l[1],"fill-opacity":K(0,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let s={$$slots:{default:[yf]},$$scope:{ctx:l}};for(let a=0;a<o.length;a+=1)s=ee(s,o[a]);e=new Re({props:s}),e.$on("click",Tf);const u=[H(`${xe}-outline`),{sourceLayer:xe},{paint:{"line-color":l[1],"line-width":5}},{layout:{visibility:l[0]?"visible":"none"}}];let i={};for(let a=0;a<u.length;a+=1)i=ee(i,u[a]);return t=new ke({props:i}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),r=!0},p(a,f){const c=f&3?te(o,[f&0&&ie(H(xe)),f&0&&{sourceLayer:xe},f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5],o[6]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?te(u,[f&0&&ie(H(`${xe}-outline`)),f&0&&{sourceLayer:xe},f&2&&{paint:{"line-color":a[1],"line-width":5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){r||(m(e.$$.fragment,a),m(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function Cf(l){let e,n,t,r,o;function s(i){l[2](i)}let u={$$slots:{right:[wf],default:[hf]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${xe}.pmtiles`,$$slots:{default:[Sf]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let xe="parliamentary_constituencies";function Tf(l){let e=l.detail.features[0].properties.Name;e=e.replace(/ Boro Const$/,""),e=e.replace(/ Co Const$/,""),e=encodeURIComponent(e),window.open(`https://members.parliament.uk/members/Commons?SearchText=${e}`,"_blank")}function Of(l,e,n){let t=J.parliamentary_constituencies,r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class Lf extends Q{constructor(e){super(),Z(this,e,Of,Cf,X,{})}}function Af(l){let e;return{c(){e=k("Pollution")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function If(l){let e;return{c(){e=k(`DEFRA
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Mf(l){let e,n,t,r,o,s,u,i,a;return t=new x({props:{href:"https://uk-air.defra.gov.uk/data/wms-services",$$slots:{default:[If]},$$scope:{ctx:l}}}),i=new Le({}),{c(){e=C("p"),n=k("Most layers show air quality data from "),h(t.$$.fragment),r=k(`. The measurements are annual means, in units of
        gm
        `),o=C("sup"),o.textContent="3",s=k(`
        . Note the particulate matter layers are not corrected for natural sources.`),u=O(),h(i.$$.fragment)},m(f,c){$(f,e,c),w(e,n),b(t,e,null),w(e,r),w(e,o),w(e,s),$(f,u,c),b(i,f,c),a=!0},p(f,c){const d={};c&2048&&(d.$$scope={dirty:c,ctx:f}),t.$set(d)},i(f){a||(m(t.$$.fragment,f),m(i.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(i.$$.fragment,f),a=!1},d(f){f&&(p(e),p(u)),v(t),v(i,f)}}}function Pf(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Mf]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&2048&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function yr(l){let e,n,t,r,o=l[3](l[0])+"",s,u,i,a,f,c,d,_,y,L,S,M,j;function I(A){l[7](A)}let N={label:"Pollutant",choices:[["PM25_viridis","Background PM2.5"],["PM10_viridis","Background PM10"],["NOx_viridis","Background NOx"],["PM25Roads_viridis","Roadside PM2.5"],["PM10Roads_viridis","Roadside PM10"],["NOxRoads_viridis","Roadside NOx"]]};return l[0]!==void 0&&(N.value=l[0]),e=new _t({props:N}),U.push(()=>W(e,"value",I)),{c(){h(e.$$.fragment),t=O(),r=C("p"),s=k(o),u=O(),i=C("div"),a=C("label"),f=k(`Opacity
      `),c=C("input"),d=O(),_=C("img"),q(c,"type","range"),q(c,"min","0"),q(c,"max","100"),rn(_.src,y=l[5](l[0]))||q(_,"src",y),q(_,"width",150),q(_,"alt",L=`Legend for ${l[0]} layer`)},m(A,P){b(e,A,P),$(A,t,P),$(A,r,P),w(r,s),$(A,u,P),$(A,i,P),w(i,a),w(a,f),w(a,c),We(c,l[2]),$(A,d,P),$(A,_,P),S=!0,M||(j=[it(c,"change",l[8]),it(c,"input",l[8])],M=!0)},p(A,P){const E={};!n&&P&1&&(n=!0,E.value=A[0],V(()=>n=!1)),e.$set(E),(!S||P&1)&&o!==(o=A[3](A[0])+"")&&z(s,o),P&4&&We(c,A[2]),(!S||P&1&&!rn(_.src,y=A[5](A[0])))&&q(_,"src",y),(!S||P&1&&L!==(L=`Legend for ${A[0]} layer`))&&q(_,"alt",L)},i(A){S||(m(e.$$.fragment,A),S=!0)},o(A){g(e.$$.fragment,A),S=!1},d(A){A&&(p(t),p(r),p(u),p(i),p(d),p(_)),v(e,A),M=!1,vl(j)}}}function Nf(l){let e,n;const t=[H("pollution"),{paint:{"raster-opacity":l[2]/100}},{layout:{visibility:l[1]?"visible":"none"}}];let r={};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new oo({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&6?te(t,[t[0],s&4&&{paint:{"raster-opacity":o[2]/100}},s&2&&{layout:{visibility:o[1]?"visible":"none"}}]):{};e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Ef(l){let e,n,t,r,o,s;function u(f){l[6](f)}let i={$$slots:{right:[Pf],default:[Af]},$$scope:{ctx:l}};l[1]!==void 0&&(i.checked=l[1]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[1]&&yr(l);return o=new vo({props:{tiles:[l[4](l[0])],tileSize:256,$$slots:{default:[Nf]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&2048&&(d.$$scope={dirty:c,ctx:f}),!n&&c&2&&(n=!0,d.checked=f[1],V(()=>n=!1)),e.$set(d),f[1]?a?(a.p(f,c),c&2&&m(a,1)):(a=yr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&1&&(_.tiles=[f[4](f[0])]),c&2054&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}function Ff(l,e,n){let t,r=!1,o=50,s="PM25_viridis";function u(){return`https://ukair.maps.rcdo.co.uk/ukairserver/services/aq_amb_2022/${s}/MapServer/WMSServer`}function i(y){return t[1]}function a(y){let L=new URLSearchParams({request:"GetMap",version:"1.3.0",format:"image/png",crs:"EPSG:3857",width:"256",height:"256",styles:"",layers:t[0]}).toString();return`${u()}?bbox={bbox-epsg-3857}&${L}`}function f(y){let L=new URLSearchParams({request:"GetLegendGraphic",version:"1.3.0",format:"image/png",layer:t[0]}).toString();return`${u()}?${L}`}function c(y){r=y,n(1,r)}function d(y){s=y,n(0,s)}function _(){o=Ut(this.value),n(2,o)}return l.$$.update=()=>{l.$$.dirty&1&&(t={NOx_viridis:["22","Data for 2022"],PM25_viridis:["21","Data for 2022"],PM10_viridis:["22","Data for 2022"],NOxRoads_viridis:["22","Data for 2022"],PM25Roads_viridis:["14","Data for 2022"],PM10Roads_viridis:["22","Data for 2022"]}[s])},[s,r,o,i,a,f,c,d,_]}class Df extends Q{constructor(e){super(),Z(this,e,Ff,Ef,X,{})}}function jf(l){let e;return{c(){e=k("Road noise")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Rf(l){let e;return{c(){e=k(`DEFRA
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Bf(l){let e,n,t,r,o,s,u,i,a;return o=new x({props:{href:"https://environment.data.gov.uk/dataset/b9c6bf30-a02d-4378-94a0-2982de1bef86",$$slots:{default:[Rf]},$$scope:{ctx:l}}}),i=new Le({}),{c(){e=C("p"),e.textContent=`This is the LAeq,16h dataset showing annual average noise levels in
        units of decibels for the 16-hour period between 7am and 11pm. Only
        roads in areas with at least 100,000 people are included.`,n=O(),t=C("p"),r=k("Data from June 2019, produced by "),h(o.$$.fragment),s=k(". See there for methodology details"),u=O(),h(i.$$.fragment)},m(f,c){$(f,e,c),$(f,n,c),$(f,t,c),w(t,r),b(o,t,null),w(t,s),$(f,u,c),b(i,f,c),a=!0},p(f,c){const d={};c&16&&(d.$$scope={dirty:c,ctx:f}),o.$set(d)},i(f){a||(m(o.$$.fragment,f),m(i.$$.fragment,f),a=!0)},o(f){g(o.$$.fragment,f),g(i.$$.fragment,f),a=!1},d(f){f&&(p(e),p(n),p(t),p(u)),v(o),v(i,f)}}}function zf(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Bf]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Sr(l){let e,n;return e=new Be({props:{colorScale:l[1],limits:["55","65","75",">"]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Hf(l){let e,n=l[3].noiseclass+"",t,r,o=Cr(l[3].noiseclass)+"",s,u;return{c(){e=C("p"),t=k(n),r=k(" dB ("),s=k(o),u=k(")")},m(i,a){$(i,e,a),w(e,t),w(e,r),w(e,s),w(e,u)},p(i,a){a&8&&n!==(n=i[3].noiseclass+"")&&z(t,n),a&8&&o!==(o=Cr(i[3].noiseclass)+"")&&z(s,o)},d(i){i&&p(e)}}}function qf(l){let e,n;return e=new fe({props:{$$slots:{default:[Hf,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Gf(l){let e,n;const t=[H(Ct),{sourceLayer:Ct},{paint:{"fill-color":at(["get","noiseclass"],{"55.0-59.9":l[1][0],"60.0-64.9":l[1][0],"65.0-69.9":l[1][1],"70.0-74.9":l[1][1],">=75.0":l[1][2]},"red"),"fill-opacity":K(.5,.8)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let r={$$slots:{default:[qf]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new Re({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&3?te(t,[s&0&&ie(H(Ct)),s&0&&{sourceLayer:Ct},s&2&&{paint:{"fill-color":at(["get","noiseclass"],{"55.0-59.9":o[1][0],"60.0-64.9":o[1][0],"65.0-69.9":o[1][1],"70.0-74.9":o[1][1],">=75.0":o[1][2]},"red"),"fill-opacity":K(.5,.8)}},s&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};s&16&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Uf(l){let e,n,t,r,o,s;function u(f){l[2](f)}let i={$$slots:{right:[zf],default:[jf]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&Sr(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${Ct}.pmtiles`,$$slots:{default:[Gf]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&16&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=Sr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&17&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Ct="road_noise";function Cr(l){return{"55.0-59.9":"Comfortable noise levels","60.0-64.9":"Comfortable noise levels","65.0-69.9":"Slightly noisy","70.0-74.9":"Slightly noisy",">=75.0":"Excessively noisy"}[l]}function Wf(l,e,n){let t=[J.sequential_low_to_high[0],J.sequential_low_to_high[2],J.sequential_low_to_high[4]],r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class Vf extends Q{constructor(e){super(),Z(this,e,Wf,Uf,X,{})}}function Xf(l){let e,n,t;return e=new Te({props:{color:l[1]}}),{c(){h(e.$$.fragment),n=k(`
  Wards`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function Yf(l){let e;return{c(){e=k(`ONS Geography
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Jf(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://geoportal.statistics.gov.uk/datasets/ons::wards-may-2023-boundaries-uk-bgc/explore",$$slots:{default:[Yf]},$$scope:{ctx:l}}}),s=new Le({}),{c(){e=C("p"),n=k("Data from "),h(t.$$.fragment),r=k(", as of May 2023."),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function Kf(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Jf]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Qf(l){let e,n=l[3].name+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&8&&n!==(n=r[3].name+"")&&z(t,n)},d(r){r&&p(e)}}}function Zf(l){let e,n;return e=new fe({props:{$$slots:{default:[Qf,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function xf(l){let e,n,t,r;const o=[H(et),{sourceLayer:et},{paint:{"fill-color":l[1],"fill-opacity":K(0,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let s={$$slots:{default:[Zf]},$$scope:{ctx:l}};for(let a=0;a<o.length;a+=1)s=ee(s,o[a]);e=new Re({props:s}),e.$on("click",tu);const u=[H(`${et}-outline`),{sourceLayer:et},{paint:{"line-color":l[1],"line-width":2.5}},{layout:{visibility:l[0]?"visible":"none"}}];let i={};for(let a=0;a<u.length;a+=1)i=ee(i,u[a]);return t=new ke({props:i}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),r=!0},p(a,f){const c=f&3?te(o,[f&0&&ie(H(et)),f&0&&{sourceLayer:et},f&2&&{paint:{"fill-color":a[1],"fill-opacity":K(0,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}},o[4],o[5],o[6]]):{};f&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&3?te(u,[f&0&&ie(H(`${et}-outline`)),f&0&&{sourceLayer:et},f&2&&{paint:{"line-color":a[1],"line-width":2.5}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){r||(m(e.$$.fragment,a),m(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function eu(l){let e,n,t,r,o;function s(i){l[2](i)}let u={$$slots:{right:[Kf],default:[Xf]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${et}.pmtiles`,$$slots:{default:[xf]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let et="wards";function tu(l){let e=encodeURIComponent(l.detail.features[0].properties.name);window.open(`https://www.google.com/search?q=${e}+councillor`,"_blank")}function nu(l,e,n){let t=J.wards,r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class ru extends Q{constructor(e){super(),Z(this,e,nu,eu,X,{})}}function lu(l){let e;return{c(){e=k("Open Data Commons Open Database License")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ou(l){let e,n,t,r;return t=new x({props:{href:"https://www.openstreetmap.org/copyright",$$slots:{default:[lu]},$$scope:{ctx:l}}}),{c(){e=C("p"),n=k("License: "),h(t.$$.fragment)},m(o,s){$(o,e,s),w(e,n),b(t,e,null),r=!0},p(o,[s]){const u={};s&1&&(u.$$scope={dirty:s,ctx:o}),t.$set(u)},i(o){r||(m(t.$$.fragment,o),r=!0)},o(o){g(t.$$.fragment,o),r=!1},d(o){o&&p(e),v(t)}}}class Ye extends Q{constructor(e){super(),Z(this,e,null,ou,X,{})}}function su(l){let e,n,t;return e=new Te({props:{color:J.bus_route_with_lane}}),{c(){h(e.$$.fragment),n=k(`
  Bus routes`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function iu(l){let e;return{c(){e=k(`GTFS
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function au(l){let e,n,t,r,o,s,u,i,a;return o=new x({props:{href:"https://gtfs.org",$$slots:{default:[iu]},$$scope:{ctx:l}}}),i=new Ye({}),{c(){e=C("p"),e.textContent=`This shows all roads with at least one bus route crossing them. It also
        shows whether the road has a bus lane or not.`,n=O(),t=C("p"),r=k("Note this data is from OpenStreetMap (as of 9 August 2023), not "),h(o.$$.fragment),s=k(`, and doesn't include which routes are run or the
        frequency of service.`),u=O(),h(i.$$.fragment)},m(f,c){$(f,e,c),$(f,n,c),$(f,t,c),w(t,r),b(o,t,null),w(t,s),$(f,u,c),b(i,f,c),a=!0},p(f,c){const d={};c&8&&(d.$$scope={dirty:c,ctx:f}),o.$set(d)},i(f){a||(m(o.$$.fragment,f),m(i.$$.fragment,f),a=!0)},o(f){g(o.$$.fragment,f),g(i.$$.fragment,f),a=!1},d(f){f&&(p(e),p(n),p(t),p(u)),v(o),v(i,f)}}}function fu(l){let e,n,t;return n=new ce({props:{$$slots:{default:[au]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&8&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function uu(l){let e;return{c(){e=C("p"),e.textContent="At least one bus route crosses here, without any bus lanes"},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function cu(l){let e;return{c(){e=C("p"),e.textContent=`At least one bus route crosses here, with a bus lane in one or more
          directions`},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function $u(l){let e;function n(o,s){return o[2].has_bus_lane?cu:uu}let t=n(l),r=t(l);return{c(){r.c(),e=je()},m(o,s){r.m(o,s),$(o,e,s)},p(o,s){t!==(t=n(o))&&(r.d(1),r=t(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&p(e),r.d(o)}}}function pu(l){let e,n;return e=new fe({props:{$$slots:{default:[$u,({props:t})=>({2:t}),({props:t})=>t?4:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&12&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function mu(l){let e,n;const t=[H(Tt),{sourceLayer:Tt},{paint:{"line-color":["case",["boolean",["get","has_bus_lane"],!1],J.bus_route_with_lane,J.bus_route_without_lane],"line-width":5,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let r={$$slots:{default:[pu]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&1?te(t,[s&0&&ie(H(Tt)),s&0&&{sourceLayer:Tt},t[2],s&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};s&8&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function _u(l){let e,n,t,r,o;function s(i){l[1](i)}let u={$$slots:{right:[fu],default:[su]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${Tt}.pmtiles`,$$slots:{default:[mu]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&8&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&9&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let Tt="bus_routes";function gu(l,e,n){let t=!1;function r(o){t=o,n(0,t)}return[t,r]}class du extends Q{constructor(e){super(),Z(this,e,gu,_u,X,{})}}function Tr(l){const e=Ou(l[5]);l[6]=e[0],l[7]=e[1],l[8]=e[2]}function Or(l,e,n){const t=l.slice();return t[6]=e[n][0],t[9]=e[n][1],t[10]=e[n][2],t[11]=e,t[12]=n,t}function hu(l){let e;return{c(){e=k("Cycle paths")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function bu(l){let e,n,t,r,o,s,u,i;return u=new Ye({}),{c(){e=C("p"),e.textContent=`This shows different types of cycle path, according to OpenStreetMap (as
        of 15 August 2023).`,n=O(),t=C("ul"),t.innerHTML=`<li><b>Separated tracks</b>
          include fully or partly segregated cycletracks alongside a carriageway,
          stepped cycletracks, and tracks off the carriageway entirely. They&#39;re also
          separated from foot traffic.</li> <li><b>Unprotected lanes</b>
          are mandatory or advisory lanes on the carriageway, without any physical
          protection. They do not included shared bus lanes.</li> <li><b>Shared-use</b>
          paths are split between cycle and foot traffic, and are separated from
          motor traffic somehow. There can be segregation between cyclists and pedestrians
          or not.</li>`,r=O(),o=C("p"),o.textContent=`Note there are many known limitations with this layer. Data in
        OpenStreetMap can be missing, mapped twice, or mapped incorrectly. Our
        processing is also imperfect. You can click a segment to see full
        OpenStreetMap data. Please do report issues with the classification or
        data.`,s=O(),h(u.$$.fragment)},m(a,f){$(a,e,f),$(a,n,f),$(a,t,f),$(a,r,f),$(a,o,f),$(a,s,f),b(u,a,f),i=!0},p:ne,i(a){i||(m(u.$$.fragment,a),i=!0)},o(a){g(u.$$.fragment,a),i=!1},d(a){a&&(p(e),p(n),p(t),p(r),p(o),p(s)),v(u,a)}}}function vu(l){let e,n,t;return n=new ce({props:{$$slots:{default:[bu]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&8192&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Lr(l){let e,n,t;return n=new Xe({props:{$$slots:{default:[ku]},$$scope:{ctx:l}}}),{c(){e=C("div"),h(n.$$.fragment),Se(e,"border","1px solid black"),Se(e,"padding","8px")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&8194&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function wu(l){let e,n,t=l[9]+"",r,o,s;return e=new Te({props:{color:l[10]}}),{c(){h(e.$$.fragment),n=O(),r=k(t),o=O()},m(u,i){b(e,u,i),$(u,n,i),$(u,r,i),$(u,o,i),s=!0},p:ne,i(u){s||(m(e.$$.fragment,u),s=!0)},o(u){g(e.$$.fragment,u),s=!1},d(u){u&&(p(n),p(r),p(o)),v(e,u)}}}function Ar(l){let e,n,t;function r(s){l[4](s,l[6])}let o={$$slots:{default:[wu]},$$scope:{ctx:l}};return l[1][l[6]]!==void 0&&(o.checked=l[1][l[6]]),e=new re({props:o}),U.push(()=>W(e,"checked",r)),{c(){h(e.$$.fragment)},m(s,u){b(e,s,u),t=!0},p(s,u){l=s;const i={};u&8192&&(i.$$scope={dirty:u,ctx:l}),!n&&u&6&&(n=!0,i.checked=l[1][l[6]],V(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function ku(l){let e,n,t=De(l[2]),r=[];for(let s=0;s<t.length;s+=1)r[s]=Ar(Or(l,t,s));const o=s=>g(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=je()},m(s,u){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(s,u);$(s,e,u),n=!0},p(s,u){if(u&6){t=De(s[2]);let i;for(i=0;i<t.length;i+=1){const a=Or(s,t,i);r[i]?(r[i].p(a,u),m(r[i],1)):(r[i]=Ar(a),r[i].c(),m(r[i],1),r[i].m(e.parentNode,e))}for(pe(),i=t.length;i<r.length;i+=1)o(i);me()}},i(s){if(!n){for(let u=0;u<t.length;u+=1)m(r[u]);n=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)g(r[u]);n=!1},d(s){s&&p(e),gt(r,s)}}}function yu(l){Tr(l);let e,n=l[6]+"",t,r,o,s,u,i=l[7]+"",a,f,c,d,_=l[8]+"",y;return{c(){e=C("h2"),t=k(n),r=O(),o=C("p"),s=k("Direction: "),u=C("b"),a=O(),f=C("p"),c=k("Width: "),d=C("b"),y=k(_)},m(L,S){$(L,e,S),w(e,t),$(L,r,S),$(L,o,S),w(o,s),w(o,u),u.innerHTML=i,$(L,a,S),$(L,f,S),w(f,c),w(f,d),w(d,y)},p(L,S){Tr(L),S&32&&n!==(n=L[6]+"")&&z(t,n),S&32&&i!==(i=L[7]+"")&&(u.innerHTML=i),S&32&&_!==(_=L[8]+"")&&z(y,_)},d(L){L&&(p(e),p(r),p(o),p(a),p(f))}}}function Su(l){let e,n;return e=new fe({props:{$$slots:{default:[yu,({props:t})=>({5:t}),({props:t})=>t?32:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&8224&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Cu(l){let e,n;const t=[H(Ot),{sourceLayer:Ot},{paint:{"line-color":at(["get","kind"],{track:J.cycle_paths.track,lane:J.cycle_paths.lane,shared_use_segregated:J.cycle_paths.shared_use_segregated,shared_use_unsegregated:J.cycle_paths.shared_use_unsegregated},"red"),"line-width":Ne,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{filter:Ir(l[1])},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let r={$$slots:{default:[Su]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),e.$on("click",Lu),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&3?te(t,[s&0&&ie(H(Ot)),s&0&&{sourceLayer:Ot},t[2],s&1&&{layout:{visibility:o[0]?"visible":"none"}},s&2&&{filter:Ir(o[1])},t[5],t[6],t[7]]):{};s&8192&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Tu(l){let e,n,t,r,o,s;function u(f){l[3](f)}let i={$$slots:{right:[vu],default:[hu]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&Lr(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${Ot}.pmtiles`,$$slots:{default:[Cu]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&8192&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=Lr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&8195&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Ot="cycle_paths";function Ou(l){let e={track:"Separated track",lane:"Unprotected lane",shared_use_segregated:"Shared-use (segregated)",shared_use_unsegregated:"Shared-use (unsegregated)"}[l.kind],n={"one-way":"&uarr;","two-way":"&#8597;",unknown:""}[l.direction],t=l.width=="unknown"?"unknown":`${l.width} meters`;return[e,`${n} ${l.direction}`,t]}function Lu(l){window.open(`http://openstreetmap.org/way/${l.detail.features[0].properties.osm_id}`,"_blank")}function Ir(l){let e=Object.keys(l).filter(n=>l[n]);return["in",["get","kind"],["literal",e]]}function Au(l,e,n){let t=[["track","Separated tracks",J.cycle_paths.track],["lane","Unprotected lanes",J.cycle_paths.lane],["shared_use_segregated","Shared-use (segregated)",J.cycle_paths.shared_use_segregated],["shared_use_unsegregated","Shared-use (unsegregated)",J.cycle_paths.shared_use_unsegregated]],r=!1,o={track:!0,lane:!0,shared_use_segregated:!0,shared_use_unsegregated:!0};function s(i){r=i,n(0,r)}function u(i,a){l.$$.not_equal(o[a],i)&&(o[a]=i,n(1,o))}return[r,o,t,s,u]}class Iu extends Q{constructor(e){super(),Z(this,e,Au,Tu,X,{})}}function Mu(l){let e,n,t;return e=new Te({props:{color:l[1]}}),{c(){h(e.$$.fragment),n=k(`
  Major Road Network`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function Pu(l){let e;return{c(){e=k(`Major Road Network
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Nu(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://maps.dft.gov.uk/major-road-network/index.html",$$slots:{default:[Pu]},$$scope:{ctx:l}}}),s=new Le({}),{c(){e=C("p"),n=k("Data from the "),h(t.$$.fragment),r=k(", as of September 2021."),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function Eu(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Nu]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Fu(l){let e,n=(l[3].name??"Unknown MRN road")+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&8&&n!==(n=(r[3].name??"Unknown MRN road")+"")&&z(t,n)},d(r){r&&p(e)}}}function Du(l){let e,n;return e=new fe({props:{$$slots:{default:[Fu,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ju(l){let e,n;const t=[H(Lt),{sourceLayer:Lt},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":l[1],"line-width":7,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}}];let r={$$slots:{default:[Du]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&3?te(t,[s&0&&ie(H(Lt)),s&0&&{sourceLayer:Lt},t[2],t[3],s&2&&{paint:{"line-color":o[1],"line-width":7,"line-opacity":K(1,.5)}},s&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};s&16&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Ru(l){let e,n,t,r,o;function s(i){l[2](i)}let u={$$slots:{right:[Eu],default:[Mu]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${Lt}.pmtiles`,$$slots:{default:[ju]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let Lt="mrn";function Bu(l,e,n){let t=J.mrn,r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class zu extends Q{constructor(e){super(),Z(this,e,Bu,Ru,X,{})}}function Hu(l){let e,n,t;return e=new Te({props:{color:l[1]}}),{c(){h(e.$$.fragment),n=k(`
  Strategic Road Network`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function qu(l){let e;return{c(){e=k(`OS Open Roads
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Gu(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://osdatahub.os.uk/downloads/open/OpenRoads",$$slots:{default:[qu]},$$scope:{ctx:l}}}),s=new Le({}),{c(){e=C("p"),n=k("Data from "),h(t.$$.fragment),r=k(`, as of December 2023. The SRN is equivalent to trunk
        roads.`),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function Uu(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Gu]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Wu(l){let e,n=(l[3].name??"Unknown SRN road")+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&8&&n!==(n=(r[3].name??"Unknown SRN road")+"")&&z(t,n)},d(r){r&&p(e)}}}function Vu(l){let e,n;return e=new fe({props:{$$slots:{default:[Wu,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Xu(l){let e,n;const t=[H(At),{sourceLayer:At},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":l[1],"line-width":7,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}}];let r={$$slots:{default:[Vu]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&3?te(t,[s&0&&ie(H(At)),s&0&&{sourceLayer:At},t[2],t[3],s&2&&{paint:{"line-color":o[1],"line-width":7,"line-opacity":K(1,.5)}},s&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};s&16&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Yu(l){let e,n,t,r,o;function s(i){l[2](i)}let u={$$slots:{right:[Uu],default:[Hu]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${At}.pmtiles`,$$slots:{default:[Xu]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let At="srn";function Ju(l,e,n){let t=J.srn,r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class Ku extends Q{constructor(e){super(),Z(this,e,Ju,Yu,X,{})}}function Qu(l){let e,n,t;return e=new Te({props:{color:l[1]}}),{c(){h(e.$$.fragment),n=k(`
  National Cycle Network`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function Zu(l){let e;return{c(){e=k(`National Cycle Network
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function xu(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://data-sustrans-uk.opendata.arcgis.com/",$$slots:{default:[Zu]},$$scope:{ctx:l}}}),s=new Le({}),{c(){e=C("p"),n=k("Data from Sustrans about the "),h(t.$$.fragment),r=k(", downloaded on 22/01/2024."),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function ec(l){let e,n,t;return n=new ce({props:{$$slots:{default:[xu]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Mr(l){let e,n,t,r=l[3].Desc_+"",o;return{c(){e=C("li"),n=k("Description: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].Desc_+"")&&z(o,r)},d(s){s&&p(e)}}}function Pr(l){let e,n,t,r=l[3].Greenway+"",o;return{c(){e=C("li"),n=k("Is greenway: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].Greenway+"")&&z(o,r)},d(s){s&&p(e)}}}function Nr(l){let e,n,t,r=l[3].RouteType+"",o;return{c(){e=C("li"),n=k("Route type: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].RouteType+"")&&z(o,r)},d(s){s&&p(e)}}}function Er(l){let e,n,t,r=l[3].RouteNo+"",o;return{c(){e=C("li"),n=k("Route number: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].RouteNo+"")&&z(o,r)},d(s){s&&p(e)}}}function Fr(l){let e,n,t,r=l[3].RouteCat+"",o;return{c(){e=C("li"),n=k("Route Category: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].RouteCat+"")&&z(o,r)},d(s){s&&p(e)}}}function Dr(l){let e,n,t,r=l[3].OpenStatus+"",o;return{c(){e=C("li"),n=k("Open Status: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].OpenStatus+"")&&z(o,r)},d(s){s&&p(e)}}}function jr(l){let e,n,t,r=l[3].Surface+"",o;return{c(){e=C("li"),n=k("Surface: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].Surface+"")&&z(o,r)},d(s){s&&p(e)}}}function Rr(l){let e,n,t,r=l[3].Quality+"",o;return{c(){e=C("li"),n=k("Quality: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].Quality+"")&&z(o,r)},d(s){s&&p(e)}}}function Br(l){let e,n,t,r=l[3].RoadClass+"",o;return{c(){e=C("li"),n=k("Road Class: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8&&r!==(r=s[3].RoadClass+"")&&z(o,r)},d(s){s&&p(e)}}}function tc(l){let e,n,t,r,o,s,u,i,a,f=l[3].Desc_&&Mr(l),c=l[3].Greenway&&Pr(l),d=l[3].RouteType&&Nr(l),_=l[3].RouteNo&&Er(l),y=l[3].RouteCat&&Fr(l),L=l[3].OpenStatus&&Dr(l),S=l[3].Surface&&jr(l),M=l[3].Quality&&Rr(l),j=l[3].RoadClass&&Br(l);return{c(){e=C("ul"),f&&f.c(),n=O(),c&&c.c(),t=O(),d&&d.c(),r=O(),_&&_.c(),o=O(),y&&y.c(),s=O(),L&&L.c(),u=O(),S&&S.c(),i=O(),M&&M.c(),a=O(),j&&j.c()},m(I,N){$(I,e,N),f&&f.m(e,null),w(e,n),c&&c.m(e,null),w(e,t),d&&d.m(e,null),w(e,r),_&&_.m(e,null),w(e,o),y&&y.m(e,null),w(e,s),L&&L.m(e,null),w(e,u),S&&S.m(e,null),w(e,i),M&&M.m(e,null),w(e,a),j&&j.m(e,null)},p(I,N){I[3].Desc_?f?f.p(I,N):(f=Mr(I),f.c(),f.m(e,n)):f&&(f.d(1),f=null),I[3].Greenway?c?c.p(I,N):(c=Pr(I),c.c(),c.m(e,t)):c&&(c.d(1),c=null),I[3].RouteType?d?d.p(I,N):(d=Nr(I),d.c(),d.m(e,r)):d&&(d.d(1),d=null),I[3].RouteNo?_?_.p(I,N):(_=Er(I),_.c(),_.m(e,o)):_&&(_.d(1),_=null),I[3].RouteCat?y?y.p(I,N):(y=Fr(I),y.c(),y.m(e,s)):y&&(y.d(1),y=null),I[3].OpenStatus?L?L.p(I,N):(L=Dr(I),L.c(),L.m(e,u)):L&&(L.d(1),L=null),I[3].Surface?S?S.p(I,N):(S=jr(I),S.c(),S.m(e,i)):S&&(S.d(1),S=null),I[3].Quality?M?M.p(I,N):(M=Rr(I),M.c(),M.m(e,a)):M&&(M.d(1),M=null),I[3].RoadClass?j?j.p(I,N):(j=Br(I),j.c(),j.m(e,null)):j&&(j.d(1),j=null)},d(I){I&&p(e),f&&f.d(),c&&c.d(),d&&d.d(),_&&_.d(),y&&y.d(),L&&L.d(),S&&S.d(),M&&M.d(),j&&j.d()}}}function nc(l){let e,n;return e=new fe({props:{$$slots:{default:[tc,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function rc(l){let e,n;const t=[H(It),{sourceLayer:It},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":l[1],"line-width":4,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}}];let r={$$slots:{default:[nc]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&3?te(t,[s&0&&ie(H(It)),s&0&&{sourceLayer:It},t[2],t[3],s&2&&{paint:{"line-color":o[1],"line-width":4,"line-opacity":K(1,.5)}},s&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};s&16&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function lc(l){let e,n,t,r,o;function s(i){l[2](i)}let u={$$slots:{right:[ec],default:[Qu]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${It}.pmtiles`,$$slots:{default:[rc]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&17&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let It="national_cycle_network";function oc(l,e,n){let t=J.national_cycle_network,r=!1;function o(s){r=s,n(0,r)}return[r,t,o]}class sc extends Q{constructor(e){super(),Z(this,e,oc,lc,X,{})}}function ic(l){let e;return{c(){e=k("OS Pavement widths")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ac(l){let e;return{c(){e=k(`Public Sector Geospatial Agreement
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function fc(l){let e,n,t,r,o,s,u,i,a;return u=new x({props:{href:"https://www.ordnancesurvey.co.uk/documents/licensing/psga-member-licence.pdf",$$slots:{default:[ac]},$$scope:{ctx:l}}}),{c(){e=C("p"),e.textContent=`This is average and minimum pavement width (in meters) from Ordnance
        Survey. The coloring shows the average width, and the line thickness has
        no meaning. Hover over a line to see if there's pavement on one or both
        sides of the road. (You won't be able to distinguish left and right
        though; use the OS Road basemap instead.)`,n=O(),t=C("p"),t.textContent="Data valid as of 1 January, 2024",r=O(),o=C("p"),s=k(`License: Contains OS data  Crown copyright and database right
        2023. Made available under the `),h(u.$$.fragment),i=k(".")},m(f,c){$(f,e,c),$(f,n,c),$(f,t,c),$(f,r,c),$(f,o,c),w(o,s),b(u,o,null),w(o,i),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),u.$set(d)},i(f){a||(m(u.$$.fragment,f),a=!0)},o(f){g(u.$$.fragment,f),a=!1},d(f){f&&(p(e),p(n),p(t),p(r),p(o)),v(u)}}}function uc(l){let e,n,t;return n=new ce({props:{$$slots:{default:[fc]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&32&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function zr(l){let e,n;return e=new Be({props:{colorScale:l[1],limits:l[2]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function cc(l){let e,n,t,r=l[4].side+"",o,s,u,i,a,f=l[4].average+"",c,d,_,y,L,S,M=l[4].minimum+"",j,I;return{c(){e=C("p"),n=k("Side of the road: "),t=C("b"),o=k(r),s=O(),u=C("p"),i=k("Average width: "),a=C("b"),c=k(f),d=k(`
        meters`),_=O(),y=C("p"),L=k("Minimum width: "),S=C("b"),j=k(M),I=k(`
        meters`)},m(N,A){$(N,e,A),w(e,n),w(e,t),w(t,o),$(N,s,A),$(N,u,A),w(u,i),w(u,a),w(a,c),w(u,d),$(N,_,A),$(N,y,A),w(y,L),w(y,S),w(S,j),w(y,I)},p(N,A){A&16&&r!==(r=N[4].side+"")&&z(o,r),A&16&&f!==(f=N[4].average+"")&&z(c,f),A&16&&M!==(M=N[4].minimum+"")&&z(j,M)},d(N){N&&(p(e),p(s),p(u),p(_),p(y))}}}function $c(l){let e,n;return e=new fe({props:{$$slots:{default:[cc,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&48&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function pc(l){let e,n;const t=[H(Mt),{sourceLayer:Mt},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":we(["get","average"],l[2],l[1]),"line-width":Ne,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}}];let r={$$slots:{default:[$c]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&7?te(t,[s&0&&ie(H(Mt)),s&0&&{sourceLayer:Mt},t[2],t[3],s&6&&{paint:{"line-color":we(["get","average"],o[2],o[1]),"line-width":Ne,"line-opacity":K(1,.5)}},s&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};s&32&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function mc(l){let e,n,t,r,o,s;function u(f){l[3](f)}let i={$$slots:{right:[uc],default:[ic]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&zr(l);return o=new be({props:{url:`pmtiles://${sn()}/v1/${Mt}.pmtiles`,$$slots:{default:[pc]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=zr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&33&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Mt="pavement_widths";function _c(l,e,n){let t=J.sequential_low_to_high,r=[0,2,4,6,8,13],o=!1;function s(u){o=u,n(0,o)}return[o,t,r,s]}class gc extends Q{constructor(e){super(),Z(this,e,_c,mc,X,{})}}function dc(l){let e;return{c(){e=k("Propensity to Cycle Tool")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function hc(l){let e;return{c(){e=k("the PCT website")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function bc(l){let e;return{c(){e=k("2017 journal article")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function vc(l){let e,n,t,r,o,s,u,i,a,f,c;return u=new x({props:{href:"https://www.pct.bike",$$slots:{default:[hc]},$$scope:{ctx:l}}}),a=new x({props:{href:"https://www.jtlu.org/index.php/jtlu/article/view/862",$$slots:{default:[bc]},$$scope:{ctx:l}}}),{c(){e=C("p"),e.textContent=`The PCT shows major links on the transport network on which there is
        high latent demand for cycling under scenarios of change, based on the
        "fastest" routes from CycleStreets. Counts approximate daily rush hour
        traffic levels.`,n=O(),t=C("p"),t.textContent=`Note this layer uses 2011 census data and outdated OpenStreetMap data.
        Please use this layer with caution.`,r=O(),o=C("p"),s=k("See "),h(u.$$.fragment),i=k(" and "),h(a.$$.fragment),f=k(" for details on methodology and data sources.")},m(d,_){$(d,e,_),$(d,n,_),$(d,t,_),$(d,r,_),$(d,o,_),w(o,s),b(u,o,null),w(o,i),b(a,o,null),w(o,f),c=!0},p(d,_){const y={};_&1024&&(y.$$scope={dirty:_,ctx:d}),u.$set(y);const L={};_&1024&&(L.$$scope={dirty:_,ctx:d}),a.$set(L)},i(d){c||(m(u.$$.fragment,d),m(a.$$.fragment,d),c=!0)},o(d){g(u.$$.fragment,d),g(a.$$.fragment,d),c=!1},d(d){d&&(p(e),p(n),p(t),p(r),p(o)),v(u),v(a)}}}function wc(l){let e,n,t;return n=new ce({props:{$$slots:{default:[vc]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&1024&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Hr(l){let e,n,t,r,o,s,u,i;e=new Be({props:{colorScale:l[3],limits:l[4]}});function a(_){l[7](_)}let f={legend:"Trip purpose",choices:[["pct_commute","Commuting"],["pct_school","School"]],inlineSmall:!0};l[0]!==void 0&&(f.value=l[0]),t=new wl({props:f}),U.push(()=>W(t,"value",a));function c(_){l[8](_)}let d={label:"Scenario",choices:[["baseline","Baseline (2011)"],["gov_target","Government target (2025)"],["go_dutch","Go Dutch"]]};return l[1]!==void 0&&(d.value=l[1]),s=new _t({props:d}),U.push(()=>W(s,"value",c)),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),o=O(),h(s.$$.fragment)},m(_,y){b(e,_,y),$(_,n,y),b(t,_,y),$(_,o,y),b(s,_,y),i=!0},p(_,y){const L={};!r&&y&1&&(r=!0,L.value=_[0],V(()=>r=!1)),t.$set(L);const S={};!u&&y&2&&(u=!0,S.value=_[1],V(()=>u=!1)),s.$set(S)},i(_){i||(m(e.$$.fragment,_),m(t.$$.fragment,_),m(s.$$.fragment,_),i=!0)},o(_){g(e.$$.fragment,_),g(t.$$.fragment,_),g(s.$$.fragment,_),i=!1},d(_){_&&(p(n),p(o)),v(e,_),v(t,_),v(s,_)}}}function kc(l){let e,n=l[5](l[9])+"",t;return{c(){e=new qt(!1),t=je(),e.a=t},m(r,o){e.m(n,r,o),$(r,t,o)},p(r,o){o&512&&n!==(n=r[5](r[9])+"")&&e.p(n)},d(r){r&&(p(t),e.d())}}}function yc(l){let e,n;return e=new fe({props:{$$slots:{default:[kc,({props:t})=>({9:t}),({props:t})=>t?512:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&1536&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Sc(l){let e,n;const t=[H(nt),{sourceLayer:nt},{paint:{"line-color":we(["get",l[1]],l[4],l[3]),"line-width":Ne,"line-opacity":K(1,.5)}},{layout:{visibility:l[2]&&l[0]==nt?"visible":"none"}}];let r={$$slots:{default:[yc]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&31?te(t,[s&0&&ie(H(nt)),s&0&&{sourceLayer:nt},s&26&&{paint:{"line-color":we(["get",o[1]],o[4],o[3]),"line-width":Ne,"line-opacity":K(1,.5)}},s&5&&{layout:{visibility:o[2]&&o[0]==nt?"visible":"none"}}]):{};s&1024&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Cc(l){let e,n=l[5](l[9])+"",t;return{c(){e=new qt(!1),t=je(),e.a=t},m(r,o){e.m(n,r,o),$(r,t,o)},p(r,o){o&512&&n!==(n=r[5](r[9])+"")&&e.p(n)},d(r){r&&(p(t),e.d())}}}function Tc(l){let e,n;return e=new fe({props:{$$slots:{default:[Cc,({props:t})=>({9:t}),({props:t})=>t?512:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&1536&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Oc(l){let e,n;const t=[H(ut),{sourceLayer:ut},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":we(["get",l[1]],l[4],l[3]),"line-width":Ne,"line-opacity":K(1,.5)}},{layout:{visibility:l[2]&&l[0]==ut?"visible":"none"}}];let r={$$slots:{default:[Tc]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&31?te(t,[s&0&&ie(H(ut)),s&0&&{sourceLayer:ut},t[2],t[3],s&26&&{paint:{"line-color":we(["get",o[1]],o[4],o[3]),"line-width":Ne,"line-opacity":K(1,.5)}},s&5&&{layout:{visibility:o[2]&&o[0]==ut?"visible":"none"}}]):{};s&1024&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Lc(l){let e,n,t,r,o,s,u,i;function a(d){l[6](d)}let f={$$slots:{right:[wc],default:[dc]},$$scope:{ctx:l}};l[2]!==void 0&&(f.checked=l[2]),e=new re({props:f}),U.push(()=>W(e,"checked",a));let c=l[2]&&Hr(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${nt}.pmtiles`,$$slots:{default:[Sc]},$$scope:{ctx:l}}}),u=new be({props:{url:`pmtiles://${ge()}/v1/${ut}.pmtiles`,$$slots:{default:[Oc]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),c&&c.c(),r=O(),h(o.$$.fragment),s=O(),h(u.$$.fragment)},m(d,_){b(e,d,_),$(d,t,_),c&&c.m(d,_),$(d,r,_),b(o,d,_),$(d,s,_),b(u,d,_),i=!0},p(d,[_]){const y={};_&1024&&(y.$$scope={dirty:_,ctx:d}),!n&&_&4&&(n=!0,y.checked=d[2],V(()=>n=!1)),e.$set(y),d[2]?c?(c.p(d,_),_&4&&m(c,1)):(c=Hr(d),c.c(),m(c,1),c.m(r.parentNode,r)):c&&(pe(),g(c,1,1,()=>{c=null}),me());const L={};_&1031&&(L.$$scope={dirty:_,ctx:d}),o.$set(L);const S={};_&1031&&(S.$$scope={dirty:_,ctx:d}),u.$set(S)},i(d){i||(m(e.$$.fragment,d),m(c),m(o.$$.fragment,d),m(u.$$.fragment,d),i=!0)},o(d){g(e.$$.fragment,d),g(c),g(o.$$.fragment,d),g(u.$$.fragment,d),i=!1},d(d){d&&(p(t),p(r),p(s)),v(e,d),c&&c.d(d),v(o,d),v(u,d)}}}let nt="pct_commute",ut="pct_school";function Ac(l,e,n){let t=J.sequential_low_to_high,r=[0,50,100,500,1e3,2e3],o=nt,s="baseline",u=!1;function i(d){let _=d.baseline,y=d.gov_target,L=d.go_dutch,S=`<h2>Trip purpose: ${o==nt?"commuting":"school"}</h2>`;if(S+=`<p>Baseline (2011): <b>${_.toLocaleString()}</b></p>`,_==0)S+=`<p>Government target (2025): <b>${y.toLocaleString()}</b></p>`,S+=`<p>Go Dutch: <b>${L.toLocaleString()}</b></p>`;else{let M=(y/_).toFixed(1),j=(L/_).toFixed(1);S+=`<p>Government target (2025): ${y.toLocaleString()} (<b>${M}x</b> of baseline)</p>`,S+=`<p>Go Dutch: ${L.toLocaleString()} (<b>${j}x</b> of baseline)</p>`}return S}function a(d){u=d,n(2,u)}function f(d){o=d,n(0,o)}function c(d){s=d,n(1,s)}return[o,s,u,t,r,i,a,f,c]}class Ic extends Q{constructor(e){super(),Z(this,e,Ac,Lc,X,{})}}function Mc(l){let e;return{c(){e=k("OS Speeds")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Pc(l){let e;return{c(){e=k("Basemap")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Nc(l){let e;return{c(){e=k(`Public Sector Geospatial Agreement
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Ec(l){let e,n,t,r,o,s,u,i,a,f,c,d;return t=new x({props:{href:"https://basemap.co.uk/speed-data",$$slots:{default:[Pc]},$$scope:{ctx:l}}}),f=new x({props:{href:"https://www.ordnancesurvey.co.uk/documents/licensing/psga-member-licence.pdf",$$slots:{default:[Nc]},$$scope:{ctx:l}}}),{c(){e=C("p"),n=k("The average speed data is collected over a six-month period by "),h(t.$$.fragment),r=k(` from 135,000 vehicle telematic systems and provided through
        Ordnance Survey. The averages are grouped by different time periods for weekdays
        and weekends. This map shows the highest average.`),o=O(),s=C("p"),s.textContent="Data valid as of 1 September, 2023",u=O(),i=C("p"),a=k(`License: Contains OS data  Crown copyright and database right
        2023. Made available under the `),h(f.$$.fragment),c=k(".")},m(_,y){$(_,e,y),w(e,n),b(t,e,null),w(e,r),$(_,o,y),$(_,s,y),$(_,u,y),$(_,i,y),w(i,a),b(f,i,null),w(i,c),d=!0},p(_,y){const L={};y&256&&(L.$$scope={dirty:y,ctx:_}),t.$set(L);const S={};y&256&&(S.$$scope={dirty:y,ctx:_}),f.$set(S)},i(_){d||(m(t.$$.fragment,_),m(f.$$.fragment,_),d=!0)},o(_){g(t.$$.fragment,_),g(f.$$.fragment,_),d=!1},d(_){_&&(p(e),p(o),p(s),p(u),p(i)),v(t),v(f)}}}function Fc(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Ec]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&256&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function qr(l){let e,n,t,r,o;e=new Be({props:{colorScale:l[2],limits:l[3]}});function s(i){l[6](i)}let u={legend:"Show speed types",choices:[["indicative_mph","Posted speed limit"],["highest_mph","Highest measured average speed"]],inlineSmall:!0};return l[0]!==void 0&&(u.value=l[0]),t=new wl({props:u}),U.push(()=>W(t,"value",s)),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(i,a){b(e,i,a),$(i,n,a),b(t,i,a),o=!0},p(i,a){const f={};!r&&a&1&&(r=!0,f.value=i[0],V(()=>r=!1)),t.$set(f)},i(i){o||(m(e.$$.fragment,i),m(t.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(t.$$.fragment,i),o=!1},d(i){i&&p(n),v(e,i),v(t,i)}}}function Dc(l){let e,n,t=l[7].indicative_mph+"",r,o,s,u,i,a=l[7].highest_mph+"",f,c,d=l[4][l[7].highest_description]+"",_,y;return{c(){e=C("p"),n=k("Posted speed limit: "),r=k(t),o=k(" mph"),s=O(),u=C("p"),i=k("Highest average speed: "),f=k(a),c=k(" mph (during "),_=k(d),y=k(")")},m(L,S){$(L,e,S),w(e,n),w(e,r),w(e,o),$(L,s,S),$(L,u,S),w(u,i),w(u,f),w(u,c),w(u,_),w(u,y)},p(L,S){S&128&&t!==(t=L[7].indicative_mph+"")&&z(r,t),S&128&&a!==(a=L[7].highest_mph+"")&&z(f,a),S&128&&d!==(d=L[4][L[7].highest_description]+"")&&z(_,d)},d(L){L&&(p(e),p(s),p(u))}}}function jc(l){let e,n;return e=new fe({props:{$$slots:{default:[Dc,({props:t})=>({7:t}),({props:t})=>t?128:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&384&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Rc(l){let e,n;const t=[H(Pt),{sourceLayer:Pt},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":we(["get",l[0]],l[3],l[2]),"line-width":Ne,"line-opacity":K(1,.5)}},{layout:{visibility:l[1]?"visible":"none"}}];let r={$$slots:{default:[jc]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&15?te(t,[s&0&&ie(H(Pt)),s&0&&{sourceLayer:Pt},t[2],t[3],s&13&&{paint:{"line-color":we(["get",o[0]],o[3],o[2]),"line-width":Ne,"line-opacity":K(1,.5)}},s&2&&{layout:{visibility:o[1]?"visible":"none"}}]):{};s&256&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Bc(l){let e,n,t,r,o,s;function u(f){l[5](f)}let i={$$slots:{right:[Fc],default:[Mc]},$$scope:{ctx:l}};l[1]!==void 0&&(i.checked=l[1]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[1]&&qr(l);return o=new be({props:{url:`pmtiles://${sn()}/v1/${Pt}.pmtiles`,$$slots:{default:[Rc]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&256&&(d.$$scope={dirty:c,ctx:f}),!n&&c&2&&(n=!0,d.checked=f[1],V(()=>n=!1)),e.$set(d),f[1]?a?(a.p(f,c),c&2&&m(a,1)):(a=qr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&259&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Pt="road_speeds";function zc(l,e,n){let t=J.sequential_low_to_high,r=[0,20,30,40,50,90],o="indicative_mph",s=!1,u={mf4to7:"Monday-Friday 4-7am",mf7to9:"Monday-Friday 7-9am",mf9to12:"Monday-Friday 9am-12pm",mf12to14:"Monday-Friday 12-2pm",mf14to16:"Monday-Friday 2-4pm",mf16to19:"Monday-Friday 4-7pm",mf19to22:"Monday-Friday 7-10pm",mf22to4:"Monday-Friday 10pm-4am",ss4to7:"Saturday-Sunday 4-7am",ss7to10:"Saturday-Sunday 7-10am",ss10to14:"Saturday-Sunday 10am-2pm",ss14to19:"Saturday-Sunday 2-7pm",ss19to22:"Saturday-Sunday 7-10pm",ss22to4:"Saturday-Sunday 10pm-4am"};function i(f){s=f,n(1,s)}function a(f){o=f,n(0,o)}return[o,s,t,r,u,i,a]}class Hc extends Q{constructor(e){super(),Z(this,e,zc,Bc,X,{})}}function qc(l){let e;return{c(){e=k("OS Road widths")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Gc(l){let e;return{c(){e=k(`Public Sector Geospatial Agreement
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Uc(l){let e,n,t,r,o,s,u,i,a;return u=new x({props:{href:"https://www.ordnancesurvey.co.uk/documents/licensing/psga-member-licence.pdf",$$slots:{default:[Gc]},$$scope:{ctx:l}}}),{c(){e=C("p"),e.textContent=`This is average and minimum road carriageway width (in meters) from
        Ordnance Survey. The coloring shows the average width, and the line
        thickness has no meaning. Be careful interpreting the data near dual
        carriageways and crossing islands.`,n=O(),t=C("p"),t.textContent="Data valid as of 1 September, 2023",r=O(),o=C("p"),s=k(`License: Contains OS data  Crown copyright and database right
        2023. Made available under the `),h(u.$$.fragment),i=k(".")},m(f,c){$(f,e,c),$(f,n,c),$(f,t,c),$(f,r,c),$(f,o,c),w(o,s),b(u,o,null),w(o,i),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),u.$set(d)},i(f){a||(m(u.$$.fragment,f),a=!0)},o(f){g(u.$$.fragment,f),a=!1},d(f){f&&(p(e),p(n),p(t),p(r),p(o)),v(u)}}}function Wc(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Uc]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&32&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Gr(l){let e,n;return e=new Be({props:{colorScale:l[1],limits:l[2]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Vc(l){let e,n,t,r=l[4].average+"",o,s,u,i,a,f,c=l[4].minimum+"",d,_;return{c(){e=C("p"),n=k("Average width: "),t=C("b"),o=k(r),s=k(`
        meters`),u=O(),i=C("p"),a=k("Minimum width: "),f=C("b"),d=k(c),_=k(`
        meters`)},m(y,L){$(y,e,L),w(e,n),w(e,t),w(t,o),w(e,s),$(y,u,L),$(y,i,L),w(i,a),w(i,f),w(f,d),w(i,_)},p(y,L){L&16&&r!==(r=y[4].average+"")&&z(o,r),L&16&&c!==(c=y[4].minimum+"")&&z(d,c)},d(y){y&&(p(e),p(u),p(i))}}}function Xc(l){let e,n;return e=new fe({props:{$$slots:{default:[Vc,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&48&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Yc(l){let e,n;const t=[H(Nt),{sourceLayer:Nt},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":we(["get","average"],l[2],l[1]),"line-width":Ne,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}}];let r={$$slots:{default:[Xc]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&7?te(t,[s&0&&ie(H(Nt)),s&0&&{sourceLayer:Nt},t[2],t[3],s&6&&{paint:{"line-color":we(["get","average"],o[2],o[1]),"line-width":Ne,"line-opacity":K(1,.5)}},s&1&&{layout:{visibility:o[0]?"visible":"none"}}]):{};s&32&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Jc(l){let e,n,t,r,o,s;function u(f){l[3](f)}let i={$$slots:{right:[Wc],default:[qc]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&Gr(l);return o=new be({props:{url:`pmtiles://${sn()}/v1/${Nt}.pmtiles`,$$slots:{default:[Yc]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=Gr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&33&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Nt="road_widths";function Kc(l,e,n){let t=J.sequential_low_to_high,r=[0,5,10,15,20,100],o=!1;function s(u){o=u,n(0,o)}return[o,t,r,s]}class Qc extends Q{constructor(e){super(),Z(this,e,Kc,Jc,X,{})}}function Zc(l){let e,n,t;return e=new Te({props:{color:J.trams}}),{c(){h(e.$$.fragment),n=k(`
  Trams`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function xc(l){let e,n,t,r;return t=new Ye({}),{c(){e=C("p"),e.textContent=`This shows all trams and light rail lines, according to OpenStreetMap
        (as of 7 February 2024). When these are close to a scheme, interactions
        between the modes must be designed carefully.`,n=O(),h(t.$$.fragment)},m(o,s){$(o,e,s),$(o,n,s),b(t,o,s),r=!0},p:ne,i(o){r||(m(t.$$.fragment,o),r=!0)},o(o){g(t.$$.fragment,o),r=!1},d(o){o&&(p(e),p(n)),v(t,o)}}}function e$(l){let e,n,t;return n=new ce({props:{$$slots:{default:[xc]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&4&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function t$(l){let e,n;const t=[H(Et),{sourceLayer:Et},{paint:{"line-color":J.trams,"line-width":5,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0},{hoverCursor:"pointer"}];let r={};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ke({props:r}),e.$on("click",r$),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&1?te(t,[s&0&&ie(H(Et)),s&0&&{sourceLayer:Et},t[2],s&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5],t[6]]):{};e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function n$(l){let e,n,t,r,o;function s(i){l[1](i)}let u={$$slots:{right:[e$],default:[Zc]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${Et}.pmtiles`,$$slots:{default:[t$]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&4&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&5&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let Et="trams";function r$(l){window.open(`http://openstreetmap.org/way/${l.detail.features[0].properties.osm_id}`,"_blank")}function l$(l,e,n){let t=!1;function r(o){t=o,n(0,t)}return[t,r]}class o$ extends Q{constructor(e){super(),Z(this,e,l$,n$,X,{})}}function s$(l){let e;return{c(){e=k("Bus stops")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function i$(l){let e;return{c(){e=k(`Bus Open Data Service
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function a$(l){let e,n,t,r,o,s,u,i,a;return t=new x({props:{href:"https://data.bus-data.dft.gov.uk",$$slots:{default:[i$]},$$scope:{ctx:l}}}),i=new Le({}),{c(){e=C("p"),n=k("Data from the "),h(t.$$.fragment),r=k(`, as of 7 February 2024. To calculate frequency, every
        scheduled arrival time per stop is considered, grouped by day of the
        week. The total daily count is just the number of scheduled arrivals for
        a day. The peak hour frequency is the highest number of buses in any one
        hour window. That window might not lined up perfectly on the hour -- a
        peak hour might occur from 8:25 to 9:25,for example.`),o=O(),s=C("p"),s.textContent=`There are known limitations with this layer, so please use caution when
        using these numbers. Some stops may not be shown at all. Frequency could
        be over- or under-counted, due to exceptions to the regular daily
        schedule of a service.`,u=O(),h(i.$$.fragment)},m(f,c){$(f,e,c),w(e,n),b(t,e,null),w(e,r),$(f,o,c),$(f,s,c),$(f,u,c),b(i,f,c),a=!0},p(f,c){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),t.$set(d)},i(f){a||(m(t.$$.fragment,f),m(i.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(i.$$.fragment,f),a=!1},d(f){f&&(p(e),p(o),p(s),p(u)),v(t),v(i,f)}}}function f$(l){let e,n,t;return n=new ce({props:{$$slots:{default:[a$]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&32&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Ur(l){let e,n,t,r;return t=new Be({props:{colorScale:l[1],limits:l[2]}}),{c(){e=C("p"),e.textContent="Peak hourly frequency:",n=O(),h(t.$$.fragment)},m(o,s){$(o,e,s),$(o,n,s),b(t,o,s),r=!0},p:ne,i(o){r||(m(t.$$.fragment,o),r=!0)},o(o){g(t.$$.fragment,o),r=!1},d(o){o&&(p(e),p(n)),v(t,o)}}}function u$(l){let e,n,t,r=l[4].stop_name+"",o,s,u,i,a,f=l[4].peak+"",c,d,_,y,L,S=l[4].peak_description+"",M,j,I,N,A,P=l[4].total+"",E,T,F=l[4].total_description+"",G,R;return{c(){e=C("p"),n=k("Stop name: "),t=C("b"),o=k(r),s=O(),u=C("p"),i=k("Peak: "),a=C("b"),c=k(f),d=k(`
        buses during the busiest hour of any day`),_=O(),y=C("p"),L=k("The peak hour is "),M=k(S),j=O(),I=C("p"),N=k("Total buses per day: "),A=C("b"),E=k(P),T=k(`
        (for `),G=k(F),R=k(", the busiest day of the week)")},m(D,B){$(D,e,B),w(e,n),w(e,t),w(t,o),$(D,s,B),$(D,u,B),w(u,i),w(u,a),w(a,c),w(u,d),$(D,_,B),$(D,y,B),w(y,L),w(y,M),$(D,j,B),$(D,I,B),w(I,N),w(I,A),w(A,E),w(I,T),w(I,G),w(I,R)},p(D,B){B&16&&r!==(r=D[4].stop_name+"")&&z(o,r),B&16&&f!==(f=D[4].peak+"")&&z(c,f),B&16&&S!==(S=D[4].peak_description+"")&&z(M,S),B&16&&P!==(P=D[4].total+"")&&z(E,P),B&16&&F!==(F=D[4].total_description+"")&&z(G,F)},d(D){D&&(p(e),p(s),p(u),p(_),p(y),p(j),p(I))}}}function c$(l){let e,n;return e=new fe({props:{$$slots:{default:[u$,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&48&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function $$(l){let e,n;const t=[H(Ft),{sourceLayer:Ft},{paint:{"circle-color":we(["get","peak"],l[2],l[1]),"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},{layout:{visibility:l[0]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let r={$$slots:{default:[c$]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ft({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&7?te(t,[s&0&&ie(H(Ft)),s&0&&{sourceLayer:Ft},s&6&&{paint:{"circle-color":we(["get","peak"],o[2],o[1]),"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},s&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};s&32&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function p$(l){let e,n,t,r,o,s;function u(f){l[3](f)}let i={$$slots:{right:[f$],default:[s$]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&Ur(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${Ft}.pmtiles`,$$slots:{default:[$$]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=Ur(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&33&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Ft="bus_stops";function m$(l,e,n){let t=J.sequential_low_to_high,r=[0,3,10,20,30,100],o=!1;function s(u){o=u,n(0,o)}return[o,t,r,s]}class _$ extends Q{constructor(e){super(),Z(this,e,m$,p$,X,{})}}function g$(l){let e,n,t;return{c(){e=C("input"),q(e,"class","govuk-file-upload"),q(e,"id","load-criticals"),q(e,"type","file")},m(r,o){$(r,e,o),l[7](e),n||(t=it(e,"change",l[5]),n=!0)},p:ne,d(r){r&&p(e),l[7](null),n=!1,t()}}}function Wr(l){let e,n;return e=new Xe({props:{small:!0,$$slots:{default:[h$]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&2054&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function d$(l){let e,n,t=l[2].toLocaleString()+"",r,o,s;return e=new Te({props:{color:Dt}}),{c(){h(e.$$.fragment),n=k(`
        Show `),r=k(t),o=k(" issues")},m(u,i){b(e,u,i),$(u,n,i),$(u,r,i),$(u,o,i),s=!0},p(u,i){(!s||i&4)&&t!==(t=u[2].toLocaleString()+"")&&z(r,t)},i(u){s||(m(e.$$.fragment,u),s=!0)},o(u){g(e.$$.fragment,u),s=!1},d(u){u&&(p(n),p(r),p(o)),v(e,u)}}}function h$(l){let e,n,t;function r(s){l[8](s)}let o={$$slots:{default:[d$]},$$scope:{ctx:l}};return l[1]!==void 0&&(o.checked=l[1]),e=new re({props:o}),U.push(()=>W(e,"checked",r)),{c(){h(e.$$.fragment)},m(s,u){b(e,s,u),t=!0},p(s,u){const i={};u&2052&&(i.$$scope={dirty:u,ctx:s}),!n&&u&2&&(n=!0,i.checked=s[1],V(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function b$(l){let e,n,t,r,o,s;e=new gn({props:{label:"Load from .xlsx",id:"load-criticals",$$slots:{default:[g$]},$$scope:{ctx:l}}}),t=new kl({props:{errorMessage:l[3]}});let u=l[2]>0&&Wr(l);return{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),u&&u.c(),o=je()},m(i,a){b(e,i,a),$(i,n,a),b(t,i,a),$(i,r,a),u&&u.m(i,a),$(i,o,a),s=!0},p(i,a){const f={};a&2049&&(f.$$scope={dirty:a,ctx:i}),e.$set(f);const c={};a&8&&(c.errorMessage=i[3]),t.$set(c),i[2]>0?u?(u.p(i,a),a&4&&m(u,1)):(u=Wr(i),u.c(),m(u,1),u.m(o.parentNode,o)):u&&(pe(),g(u,1,1,()=>{u=null}),me())},i(i){s||(m(e.$$.fragment,i),m(t.$$.fragment,i),m(u),s=!0)},o(i){g(e.$$.fragment,i),g(t.$$.fragment,i),g(u),s=!1},d(i){i&&(p(n),p(r),p(o)),v(e,i),v(t,i),u&&u.d(i)}}}function v$(l){let e,n,t=l[10].critical_type+"",r,o,s,u,i,a=l[10].location_description+"",f,c,d,_,y,L=l[10].notes+"",S,M,j,I,N,A,P,E=l[10].id+"",T,F,G,R,D,B=(l[10].inspector??"???")+"",Y,le,oe,$e=l[10].submission_time+"",Ie,Oe,ae,Ae,ue,_e=l[10].scheme_reference+"",de,ze,Ee,Ce=l[10].current_design_stage+"",Je;return{c(){e=C("div"),n=C("h2"),r=k(t),o=O(),s=C("p"),u=C("u"),u.textContent="Location",i=k(`
          : `),f=k(a),c=O(),d=C("p"),_=C("u"),_.textContent="Notes",y=k(`
          : `),S=k(L),M=O(),j=C("hr"),I=O(),N=C("p"),A=k("Critical issue ID: "),P=C("b"),T=k(E),F=O(),G=C("p"),R=k("Submitted by "),D=C("b"),Y=k(B),le=k(`
          at
          `),oe=C("b"),Ie=k($e),Oe=O(),ae=C("p"),Ae=k("For scheme "),ue=C("b"),de=k(_e),ze=k(`
          in stage
          `),Ee=C("b"),Je=k(Ce),Se(e,"max-width","30vw")},m(se,ve){$(se,e,ve),w(e,n),w(n,r),w(e,o),w(e,s),w(s,u),w(s,i),w(s,f),w(e,c),w(e,d),w(d,_),w(d,y),w(d,S),w(e,M),w(e,j),w(e,I),w(e,N),w(N,A),w(N,P),w(P,T),w(e,F),w(e,G),w(G,R),w(G,D),w(D,Y),w(G,le),w(G,oe),w(oe,Ie),w(e,Oe),w(e,ae),w(ae,Ae),w(ae,ue),w(ue,de),w(ae,ze),w(ae,Ee),w(Ee,Je)},p(se,ve){ve&1024&&t!==(t=se[10].critical_type+"")&&z(r,t),ve&1024&&a!==(a=se[10].location_description+"")&&z(f,a),ve&1024&&L!==(L=se[10].notes+"")&&z(S,L),ve&1024&&E!==(E=se[10].id+"")&&z(T,E),ve&1024&&B!==(B=(se[10].inspector??"???")+"")&&z(Y,B),ve&1024&&$e!==($e=se[10].submission_time+"")&&z(Ie,$e),ve&1024&&_e!==(_e=se[10].scheme_reference+"")&&z(de,_e),ve&1024&&Ce!==(Ce=se[10].current_design_stage+"")&&z(Je,Ce)},d(se){se&&p(e)}}}function w$(l){let e,n;return e=new fe({props:{$$slots:{default:[v$,({props:t})=>({10:t}),({props:t})=>t?1024:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&3072&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function k$(l){let e,n,t,r,o,s;const u=[H("criticals-clusters"),{applyToClusters:!0},{paint:{"circle-color":Dt,"circle-opacity":.9,"circle-radius":["step",["get","point_count"],20,15,30,30,40]}},{layout:{visibility:l[1]?"visible":"none"}},{hoverCursor:"pointer"}];let i={};for(let _=0;_<u.length;_+=1)i=ee(i,u[_]);e=new ft({props:i}),e.$on("click",l[6]);const a=[H("criticals-counts"),{applyToClusters:!0},{layout:{"text-field":"{point_count_abbreviated}",visibility:l[1]?"visible":"none"}}];let f={};for(let _=0;_<a.length;_+=1)f=ee(f,a[_]);t=new an({props:f});const c=[H("criticals-points"),{applyToClusters:!1},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"circle-color":Dt,"circle-opacity":K(.9,.5),"circle-radius":15,"circle-stroke-color":"black","circle-stroke-width":3}},{layout:{visibility:l[1]?"visible":"none"}}];let d={$$slots:{default:[w$]},$$scope:{ctx:l}};for(let _=0;_<c.length;_+=1)d=ee(d,c[_]);return o=new ft({props:d}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment)},m(_,y){b(e,_,y),$(_,n,y),b(t,_,y),$(_,r,y),b(o,_,y),s=!0},p(_,y){const L=y&2?te(u,[u[0],u[1],y&0&&{paint:{"circle-color":Dt,"circle-opacity":.9,"circle-radius":["step",["get","point_count"],20,15,30,30,40]}},y&2&&{layout:{visibility:_[1]?"visible":"none"}},u[4]]):{};e.$set(L);const S=y&2?te(a,[a[0],a[1],{layout:{"text-field":"{point_count_abbreviated}",visibility:_[1]?"visible":"none"}}]):{};t.$set(S);const M=y&2?te(c,[c[0],c[1],c[2],c[3],y&0&&{paint:{"circle-color":Dt,"circle-opacity":K(.9,.5),"circle-radius":15,"circle-stroke-color":"black","circle-stroke-width":3}},y&2&&{layout:{visibility:_[1]?"visible":"none"}}]):{};y&2048&&(M.$$scope={dirty:y,ctx:_}),o.$set(M)},i(_){s||(m(e.$$.fragment,_),m(t.$$.fragment,_),m(o.$$.fragment,_),s=!0)},o(_){g(e.$$.fragment,_),g(t.$$.fragment,_),g(o.$$.fragment,_),s=!1},d(_){_&&(p(n),p(r)),v(e,_),v(t,_),v(o,_)}}}function y$(l){let e,n,t,r;return e=new Fe({props:{label:"Critical Issues",$$slots:{default:[b$]},$$scope:{ctx:l}}}),t=new bt({props:{id:Hl,data:l[4],cluster:{radius:500,maxZoom:14},$$slots:{default:[k$]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,s){b(e,o,s),$(o,n,s),b(t,o,s),r=!0},p(o,[s]){const u={};s&2063&&(u.$$scope={dirty:s,ctx:o}),e.$set(u);const i={};s&16&&(i.data=o[4]),s&2050&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){r||(m(e.$$.fragment,o),m(t.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),r=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}let Hl="criticals",Dt="red";function S$(l,e,n){let t;ye(l,Ln,_=>n(9,t=_));let r,o=!0,s=0,u="",i=Vl();async function a(_){try{n(4,i=await Li(r.files[0])),n(2,s=i.features.length),n(3,u="")}catch(y){n(3,u=`The file you loaded is broken: ${y}`)}}async function f(_){let y=await t.getSource(Hl).getClusterExpansionZoom(_.detail.features[0].properties.cluster_id);t.easeTo({center:_.detail.features[0].geometry.coordinates,zoom:y})}function c(_){U[_?"unshift":"push"](()=>{r=_,n(0,r)})}function d(_){o=_,n(1,o)}return[r,o,s,u,i,a,f,c,d]}class C$ extends Q{constructor(e){super(),Z(this,e,S$,y$,X,{})}}function T$(l){let e;return{c(){e=k("Crossings")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function O$(l){let e;return{c(){e=k("crossing")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function L$(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://wiki.openstreetmap.org/wiki/Key:crossing",$$slots:{default:[O$]},$$scope:{ctx:l}}}),s=new Ye({}),{c(){e=C("p"),n=k("This shows "),h(t.$$.fragment),r=k(" data from OpenStreetMap (as of 9 August 2023)."),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&16&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function A$(l){let e,n,t;return n=new ce({props:{$$slots:{default:[L$]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Vr(l){let e,n;return e=new In({props:{rows:l[1]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function I$(l){let e,n=Xr(l[3])+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&8&&n!==(n=Xr(r[3])+"")&&z(t,n)},d(r){r&&p(e)}}}function M$(l){let e,n;return e=new fe({props:{$$slots:{default:[I$,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&24&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function P$(l){let e,n;const t=[H(jt),{sourceLayer:jt},{paint:{"circle-color":at(["get","crossing"],{traffic_signals:J.signalized_crossing},J.other_crossing),"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,10]}},{layout:{visibility:l[0]?"visible":"none"}},{hoverCursor:"pointer"},{eventsIfTopMost:!0}];let r={$$slots:{default:[M$]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ft({props:r}),e.$on("click",E$),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&1?te(t,[s&0&&ie(H(jt)),s&0&&{sourceLayer:jt},t[2],s&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};s&16&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function N$(l){let e,n,t,r,o,s;function u(f){l[2](f)}let i={$$slots:{right:[A$],default:[T$]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&Vr(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${jt}.pmtiles`,$$slots:{default:[P$]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&16&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=Vr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&17&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let jt="crossings";function Xr(l){return{no:"Location where crossing is impossible/illegal but where there is a clear desire line to cross",traffic_signals:"Signalised crossing",marked:"Crossing with no traffic signals",uncontrolled:"Crossing with no traffic signals",unmarked:"Crossing with no markings or signals",zebra:"Zebra crossing",island:"Crossing with an island",informal:"Informal crossing with an obvious desire line, but no official infrastructure to support it"}[l.crossing]??`Unknown crossing type (${l.crossing})`}function E$(l){window.open(`http://openstreetmap.org/node/${l.detail.features[0].properties.osm_id}`,"_blank")}function F$(l,e,n){let t=!1,r=[["Signalized",J.signalized_crossing],["Other",J.other_crossing]];function o(s){t=s,n(0,t)}return[t,r,o]}class D$ extends Q{constructor(e){super(),Z(this,e,F$,N$,X,{})}}function j$(l){let e;return{c(){e=k("Gradients")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function R$(l){let e;return{c(){e=k("OS Terrain 50")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function B$(l){let e,n,t,r,o,s,u,i,a,f,c,d,_;return u=new x({props:{href:"https://www.ordnancesurvey.co.uk/products/os-terrain-50",$$slots:{default:[R$]},$$scope:{ctx:l}}}),f=new Le({}),d=new Ye({}),{c(){e=C("p"),e.textContent=`This layer shows the steepness of roads, with the arrows pointing
        uphill. You have to zoom in to see all roads.`,n=O(),t=C("p"),t.textContent=`Note the gradient may be incorrect near bridges and tunnels, depending
        on the underlying Digital Elevation Model used.`,r=O(),o=C("p"),s=k("This layer is built from "),h(u.$$.fragment),i=k(` and roads from OpenStreetMap. The data is valid as of 18
        February 2024.`),a=O(),h(f.$$.fragment),c=O(),h(d.$$.fragment)},m(y,L){$(y,e,L),$(y,n,L),$(y,t,L),$(y,r,L),$(y,o,L),w(o,s),b(u,o,null),w(o,i),$(y,a,L),b(f,y,L),$(y,c,L),b(d,y,L),_=!0},p(y,L){const S={};L&32&&(S.$$scope={dirty:L,ctx:y}),u.$set(S)},i(y){_||(m(u.$$.fragment,y),m(f.$$.fragment,y),m(d.$$.fragment,y),_=!0)},o(y){g(u.$$.fragment,y),g(f.$$.fragment,y),g(d.$$.fragment,y),_=!1},d(y){y&&(p(e),p(n),p(t),p(r),p(o),p(a),p(c)),v(u),v(f,y),v(d,y)}}}function z$(l){let e,n,t;return n=new ce({props:{$$slots:{default:[B$]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&32&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Yr(l){let e,n;return e=new Be({props:{colorScale:l[1],limits:l[2]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function H$(l){let e,n,t,r=Math.abs(l[4].gradient)/100+"",o,s;return{c(){e=C("p"),n=k("Gradient: "),t=C("b"),o=k(r),s=k(`
        %`)},m(u,i){$(u,e,i),w(e,n),w(e,t),w(t,o),w(e,s)},p(u,i){i&16&&r!==(r=Math.abs(u[4].gradient)/100+"")&&z(o,r)},d(u){u&&p(e)}}}function q$(l){let e,n;return e=new fe({props:{$$slots:{default:[H$,({props:t})=>({4:t}),({props:t})=>t?16:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&48&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function G$(l){let e,n,t,r;const o=[H(tt),{sourceLayer:tt},{manageHoverState:!0},{paint:{"line-color":we(["/",["abs",["get","gradient"]],100],l[2],l[1]),"line-width":Ne,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}}];let s={$$slots:{default:[q$]},$$scope:{ctx:l}};for(let a=0;a<o.length;a+=1)s=ee(s,o[a]);e=new ke({props:s});const u=[H(tt+"_arrows"),{sourceLayer:tt},{minzoom:12},{filter:[">",["abs",["get","gradient"]],300]},{layout:{"icon-image":"chevron","icon-size":1,"symbol-placement":"line","symbol-spacing":50,"icon-allow-overlap":!0,"icon-rotate":["case",["<",["get","gradient"],0],180,0],visibility:l[0]?"visible":"none"}}];let i={};for(let a=0;a<u.length;a+=1)i=ee(i,u[a]);return t=new an({props:i}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),r=!0},p(a,f){const c=f&7?te(o,[f&0&&ie(H(tt)),f&0&&{sourceLayer:tt},o[2],f&6&&{paint:{"line-color":we(["/",["abs",["get","gradient"]],100],a[2],a[1]),"line-width":Ne,"line-opacity":K(1,.5)}},f&1&&{layout:{visibility:a[0]?"visible":"none"}}]):{};f&32&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f&1?te(u,[f&0&&ie(H(tt+"_arrows")),f&0&&{sourceLayer:tt},u[2],u[3],f&1&&{layout:{"icon-image":"chevron","icon-size":1,"symbol-placement":"line","symbol-spacing":50,"icon-allow-overlap":!0,"icon-rotate":["case",["<",["get","gradient"],0],180,0],visibility:a[0]?"visible":"none"}}]):{};t.$set(d)},i(a){r||(m(e.$$.fragment,a),m(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&p(n),v(e,a),v(t,a)}}}function U$(l){let e,n,t,r,o,s;function u(f){l[3](f)}let i={$$slots:{right:[z$],default:[j$]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&Yr(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${tt}.pmtiles`,$$slots:{default:[G$]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&32&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=Yr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&33&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let tt="gradient";function W$(l,e,n){let t=J.gradient_flat_to_steep,r=[0,3,5,8,10,20,100],o=!1;function s(u){o=u,n(0,o)}return[o,t,r,s]}class V$ extends Q{constructor(e){super(),Z(this,e,W$,U$,X,{})}}function X$(l){let e,n,t;return{c(){e=C("img"),t=k(`
  Cycle parking`),rn(e.src,n=Xl)||q(e,"src",n),q(e,"alt","a logo representing cycle parking")},m(r,o){$(r,e,o),$(r,t,o)},p:ne,d(r){r&&(p(e),p(t))}}}function Y$(l){let e;return{c(){e=k("OpenStreetMap")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function J$(l){let e;return{c(){e=k("OpenStreetMap Carto")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function K$(l){let e,n,t,r,o,s,u,i,a,f,c;return t=new x({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:amenity%3Dbicycle_parking",$$slots:{default:[Y$]},$$scope:{ctx:l}}}),i=new x({props:{href:"https://github.com/gravitystorm/openstreetmap-carto",$$slots:{default:[J$]},$$scope:{ctx:l}}}),f=new Ye({}),{c(){e=C("p"),n=k("Cycle parking, according to "),h(t.$$.fragment),r=k(` (as of 9 August 2023). The type of parking, public/private
        access, and whether it's covered are not shown.`),o=O(),s=C("p"),u=k("Icon from "),h(i.$$.fragment),a=O(),h(f.$$.fragment)},m(d,_){$(d,e,_),w(e,n),b(t,e,null),w(e,r),$(d,o,_),$(d,s,_),w(s,u),b(i,s,null),$(d,a,_),b(f,d,_),c=!0},p(d,_){const y={};_&8&&(y.$$scope={dirty:_,ctx:d}),t.$set(y);const L={};_&8&&(L.$$scope={dirty:_,ctx:d}),i.$set(L)},i(d){c||(m(t.$$.fragment,d),m(i.$$.fragment,d),m(f.$$.fragment,d),c=!0)},o(d){g(t.$$.fragment,d),g(i.$$.fragment,d),g(f.$$.fragment,d),c=!1},d(d){d&&(p(e),p(o),p(s),p(a)),v(t),v(i),v(f,d)}}}function Q$(l){let e,n,t;return n=new ce({props:{$$slots:{default:[K$]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&8&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Z$(l){let e,n,t,r=(l[2].capacity??"unknown")+"",o;return{c(){e=C("p"),n=k("Capacity: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&4&&r!==(r=(s[2].capacity??"unknown")+"")&&z(o,r)},d(s){s&&p(e)}}}function x$(l){let e,n;return e=new fe({props:{$$slots:{default:[Z$,({props:t})=>({2:t}),({props:t})=>t?4:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&12&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ep(l){let e,n;const t=[H(Rt),{sourceLayer:Rt},{layout:{"icon-image":"cycle_parking","icon-size":1,"icon-allow-overlap":!0,visibility:l[0]?"visible":"none"}}];let r={$$slots:{default:[x$]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new an({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&1?te(t,[s&0&&ie(H(Rt)),s&0&&{sourceLayer:Rt},s&1&&{layout:{"icon-image":"cycle_parking","icon-size":1,"icon-allow-overlap":!0,visibility:o[0]?"visible":"none"}}]):{};s&8&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function tp(l){let e,n,t,r,o;function s(i){l[1](i)}let u={$$slots:{right:[Q$],default:[X$]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${Rt}.pmtiles`,$$slots:{default:[ep]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&8&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&9&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let Rt="cycle_parking";function np(l,e,n){let t=!1;function r(o){t=o,n(0,t)}return[t,r]}class rp extends Q{constructor(e){super(),Z(this,e,np,tp,X,{})}}function lp(l){let e;return{c(){e=k("Education")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function op(l){let e,n,t,r;return t=new Ye({}),{c(){e=C("p"),e.textContent=`This shows different places of education according to OpenStreetMap (as
        of 07 February 2024).`,n=O(),h(t.$$.fragment)},m(o,s){$(o,e,s),$(o,n,s),b(t,o,s),r=!0},p:ne,i(o){r||(m(t.$$.fragment,o),r=!0)},o(o){g(t.$$.fragment,o),r=!1},d(o){o&&(p(e),p(n)),v(t,o)}}}function sp(l){let e,n,t;return n=new ce({props:{$$slots:{default:[op]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&128&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Jr(l){let e,n,t;return n=new Xe({props:{$$slots:{default:[up]},$$scope:{ctx:l}}}),{c(){e=C("div"),h(n.$$.fragment),Se(e,"border","1px solid black"),Se(e,"padding","8px")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&130&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function ip(l){let e,n,t;return e=new Te({props:{color:J.education.schools}}),{c(){h(e.$$.fragment),n=k(`
        Schools`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function ap(l){let e,n,t;return e=new Te({props:{color:J.education.colleges}}),{c(){h(e.$$.fragment),n=k(`
        Colleges`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function fp(l){let e,n,t;return e=new Te({props:{color:J.education.universities}}),{c(){h(e.$$.fragment),n=k(`
        Universities`)},m(r,o){b(e,r,o),$(r,n,o),t=!0},p:ne,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){g(e.$$.fragment,r),t=!1},d(r){r&&p(n),v(e,r)}}}function up(l){let e,n,t,r,o,s,u,i,a;function f(S){l[3](S)}let c={$$slots:{default:[ip]},$$scope:{ctx:l}};l[1].school!==void 0&&(c.checked=l[1].school),e=new re({props:c}),U.push(()=>W(e,"checked",f));function d(S){l[4](S)}let _={$$slots:{default:[ap]},$$scope:{ctx:l}};l[1].college!==void 0&&(_.checked=l[1].college),r=new re({props:_}),U.push(()=>W(r,"checked",d));function y(S){l[5](S)}let L={$$slots:{default:[fp]},$$scope:{ctx:l}};return l[1].university!==void 0&&(L.checked=l[1].university),u=new re({props:L}),U.push(()=>W(u,"checked",y)),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment),s=O(),h(u.$$.fragment)},m(S,M){b(e,S,M),$(S,t,M),b(r,S,M),$(S,s,M),b(u,S,M),a=!0},p(S,M){const j={};M&128&&(j.$$scope={dirty:M,ctx:S}),!n&&M&2&&(n=!0,j.checked=S[1].school,V(()=>n=!1)),e.$set(j);const I={};M&128&&(I.$$scope={dirty:M,ctx:S}),!o&&M&2&&(o=!0,I.checked=S[1].college,V(()=>o=!1)),r.$set(I);const N={};M&128&&(N.$$scope={dirty:M,ctx:S}),!i&&M&2&&(i=!0,N.checked=S[1].university,V(()=>i=!1)),u.$set(N)},i(S){a||(m(e.$$.fragment,S),m(r.$$.fragment,S),m(u.$$.fragment,S),a=!0)},o(S){g(e.$$.fragment,S),g(r.$$.fragment,S),g(u.$$.fragment,S),a=!1},d(S){S&&(p(t),p(s)),v(e,S),v(r,S),v(u,S)}}}function cp(l){let e,n=(l[6].name??"Unnamed institution")+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&64&&n!==(n=(r[6].name??"Unnamed institution")+"")&&z(t,n)},d(r){r&&p(e)}}}function $p(l){let e,n;return e=new fe({props:{$$slots:{default:[cp,({props:t})=>({6:t}),({props:t})=>t?64:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&192&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function pp(l){let e,n;const t=[H(Bt),{sourceLayer:Bt},{paint:{"fill-color":at(["get","type"],{school:J.education.schools,college:J.education.colleges,university:J.education.universities},"grey"),"fill-opacity":K(.7,1)}},{layout:{visibility:l[0]?"visible":"none"}},{filter:Kr(l[1])},{manageHoverState:!0},{eventsIfTopMost:!0}];let r={$$slots:{default:[$p]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new Re({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&3?te(t,[s&0&&ie(H(Bt)),s&0&&{sourceLayer:Bt},t[2],s&1&&{layout:{visibility:o[0]?"visible":"none"}},s&2&&{filter:Kr(o[1])},t[5],t[6]]):{};s&128&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function mp(l){let e,n,t,r,o,s;function u(f){l[2](f)}let i={$$slots:{right:[sp],default:[lp]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&Jr(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${Bt}.pmtiles`,$$slots:{default:[pp]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&128&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=Jr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&131&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Bt="education";function Kr(l){let e=Object.keys(l).filter(n=>l[n]);return["in",["get","type"],["literal",e]]}function _p(l,e,n){let t=!1;const r={school:!0,college:!0,university:!0};function o(a){t=a,n(0,t)}function s(a){l.$$.not_equal(r.school,a)&&(r.school=a,n(1,r))}function u(a){l.$$.not_equal(r.college,a)&&(r.college=a,n(1,r))}function i(a){l.$$.not_equal(r.university,a)&&(r.university=a,n(1,r))}return[t,r,o,s,u,i]}class gp extends Q{constructor(e){super(),Z(this,e,_p,mp,X,{})}}function dp(l){let e,n,t,r;return e=new Te({props:{color:l[4]}}),{c(){h(e.$$.fragment),n=O(),t=k(l[2])},m(o,s){b(e,o,s),$(o,n,s),$(o,t,s),r=!0},p(o,s){(!r||s&4)&&z(t,o[2])},i(o){r||(m(e.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),r=!1},d(o){o&&(p(n),p(t)),v(e,o)}}}function hp(l){let e;const n=l[5].default,t=Xt(n,l,l[7],null);return{c(){t&&t.c()},m(r,o){t&&t.m(r,o),e=!0},p(r,o){t&&t.p&&(!e||o&128)&&Yt(t,n,r,r[7],e?Kt(n,r[7],o,null):Jt(r[7]),null)},i(r){e||(m(t,r),e=!0)},o(r){g(t,r),e=!1},d(r){t&&t.d(r)}}}function bp(l){let e,n,t;return n=new ce({props:{$$slots:{default:[hp]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&128&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function vp(l){let e,n=(l[8].name??`Unnamed ${l[1]}`)+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&258&&n!==(n=(r[8].name??`Unnamed ${r[1]}`)+"")&&z(t,n)},d(r){r&&p(e)}}}function wp(l){let e,n;return e=new fe({props:{$$slots:{default:[vp,({props:t})=>({8:t}),({props:t})=>t?256:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&386&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function kp(l){let e,n;const t=[H(l[0]),{sourceLayer:l[0]},{paint:{"fill-color":l[4],"fill-opacity":K(.7,1)}},{layout:{visibility:l[3]?"visible":"none"}},{manageHoverState:!0},{eventsIfTopMost:!0}];let r={$$slots:{default:[wp]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new Re({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&25?te(t,[s&1&&ie(H(o[0])),s&1&&{sourceLayer:o[0]},s&16&&{paint:{"fill-color":o[4],"fill-opacity":K(.7,1)}},s&8&&{layout:{visibility:o[3]?"visible":"none"}},t[4],t[5]]):{};s&130&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function yp(l){let e,n,t,r,o;function s(i){l[6](i)}let u={$$slots:{right:[bp],default:[dp]},$$scope:{ctx:l}};return l[3]!==void 0&&(u.checked=l[3]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new be({props:{url:`pmtiles://${ge()}/v1/${l[0]}.pmtiles`,$$slots:{default:[kp]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&132&&(f.$$scope={dirty:a,ctx:i}),!n&&a&8&&(n=!0,f.checked=i[3],V(()=>n=!1)),e.$set(f);const c={};a&1&&(c.url=`pmtiles://${ge()}/v1/${i[0]}.pmtiles`),a&139&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}function Sp(l,e,n){let{$$slots:t={},$$scope:r}=e,{name:o}=e,{singularNoun:s}=e,{pluralNoun:u}=e,i=J[o],a=!1;function f(c){a=c,n(3,a)}return l.$$set=c=>{"name"in c&&n(0,o=c.name),"singularNoun"in c&&n(1,s=c.singularNoun),"pluralNoun"in c&&n(2,u=c.pluralNoun),"$$scope"in c&&n(7,r=c.$$scope)},[o,s,u,a,i,t,f,r]}class ql extends Q{constructor(e){super(),Z(this,e,Sp,yp,X,{name:0,singularNoun:1,pluralNoun:2})}}function Cp(l){let e;return{c(){e=k("hospital")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Tp(l){let e,n,t,r,o,s,u;return t=new x({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:amenity%3Dhospital",$$slots:{default:[Cp]},$$scope:{ctx:l}}}),s=new Ye({}),{c(){e=C("p"),n=k("This shows "),h(t.$$.fragment),r=k(` data from OpenStreetMap (as of 9 August 2023). It doesn't include
    outpatient clinics or individual doctor's offices.`),o=O(),h(s.$$.fragment)},m(i,a){$(i,e,a),w(e,n),b(t,e,null),w(e,r),$(i,o,a),b(s,i,a),u=!0},p(i,a){const f={};a&1&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){u||(m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(e),p(o)),v(t),v(s,i)}}}function Op(l){let e,n;return e=new ql({props:{name:"hospitals",singularNoun:"hospital",pluralNoun:"Hospitals",$$slots:{default:[Tp]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,[r]){const o={};r&1&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}class Lp extends Q{constructor(e){super(),Z(this,e,null,Op,X,{})}}function Ap(l){let e,n,t;return{c(){e=C("img"),t=k(`
  Railway Stations`),rn(e.src,n=Yl)||q(e,"src",n),q(e,"alt","A logo representing a train")},m(r,o){$(r,e,o),$(r,t,o)},p:ne,d(r){r&&(p(e),p(t))}}}function Ip(l){let e;return{c(){e=k("railway station")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Mp(l){let e;return{c(){e=k(`National Rail
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Pp(l){let e,n,t,r,o,s,u,i,a,f,c,d;return t=new x({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:railway%3Dstation",$$slots:{default:[Ip]},$$scope:{ctx:l}}}),i=new x({props:{href:"https://www.nationalrail.co.uk/",$$slots:{default:[Mp]},$$scope:{ctx:l}}}),c=new Ye({}),{c(){e=C("p"),n=k("This shows "),h(t.$$.fragment),r=k(" data from OpenStreetMap (as of 9 August 2023)."),o=O(),s=C("p"),u=k("Icon from "),h(i.$$.fragment),a=k(". (Note that not all stations shown are National Rail.)"),f=O(),h(c.$$.fragment)},m(_,y){$(_,e,y),w(e,n),b(t,e,null),w(e,r),$(_,o,y),$(_,s,y),w(s,u),b(i,s,null),w(s,a),$(_,f,y),b(c,_,y),d=!0},p(_,y){const L={};y&8&&(L.$$scope={dirty:y,ctx:_}),t.$set(L);const S={};y&8&&(S.$$scope={dirty:y,ctx:_}),i.$set(S)},i(_){d||(m(t.$$.fragment,_),m(i.$$.fragment,_),m(c.$$.fragment,_),d=!0)},o(_){g(t.$$.fragment,_),g(i.$$.fragment,_),g(c.$$.fragment,_),d=!1},d(_){_&&(p(e),p(o),p(s),p(f)),v(t),v(i),v(c,_)}}}function Np(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Pp]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&8&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Ep(l){let e,n=(l[2].name??"Unnamed railway station")+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&4&&n!==(n=(r[2].name??"Unnamed railway station")+"")&&z(t,n)},d(r){r&&p(e)}}}function Fp(l){let e,n;return e=new fe({props:{$$slots:{default:[Ep,({props:t})=>({2:t}),({props:t})=>t?4:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&12&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Dp(l){let e,n;const t=[H(Tn),{layout:{"icon-image":"railway_station","icon-size":1,"icon-allow-overlap":!0,visibility:l[0]?"visible":"none"}}];let r={$$slots:{default:[Fp]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new an({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&1?te(t,[s&0&&ie(H(Tn)),s&1&&{layout:{"icon-image":"railway_station","icon-size":1,"icon-allow-overlap":!0,visibility:o[0]?"visible":"none"}}]):{};s&8&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function jp(l){let e,n,t,r,o;function s(i){l[1](i)}let u={$$slots:{right:[Np],default:[Ap]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.checked=l[0]),e=new re({props:u}),U.push(()=>W(e,"checked",s)),r=new bt({props:{data:`${ge()}/v1/${Tn}.geojson`,$$slots:{default:[Dp]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,[a]){const f={};a&8&&(f.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,f.checked=i[0],V(()=>n=!1)),e.$set(f);const c={};a&9&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}let Tn="railway_stations";function Rp(l,e,n){let t=!1;function r(o){t=o,n(0,t)}return[t,r]}class Bp extends Q{constructor(e){super(),Z(this,e,Rp,jp,X,{})}}function zp(l){let e;return{c(){e=k("sports pitches")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Hp(l){let e;return{c(){e=k("sports centres")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function qp(l){let e,n,t,r,o,s,u,i,a;return t=new x({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:leisure%3Dpitch",$$slots:{default:[zp]},$$scope:{ctx:l}}}),o=new x({props:{href:"https://wiki.openstreetmap.org/wiki/Tag:leisure%3Dsports_centre",$$slots:{default:[Hp]},$$scope:{ctx:l}}}),i=new Ye({}),{c(){e=C("p"),n=k("This shows "),h(t.$$.fragment),r=k(" and "),h(o.$$.fragment),s=k(" data from OpenStreetMap (as of 9 August 2023)."),u=O(),h(i.$$.fragment)},m(f,c){$(f,e,c),w(e,n),b(t,e,null),w(e,r),b(o,e,null),w(e,s),$(f,u,c),b(i,f,c),a=!0},p(f,c){const d={};c&1&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const _={};c&1&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){a||(m(t.$$.fragment,f),m(o.$$.fragment,f),m(i.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),g(i.$$.fragment,f),a=!1},d(f){f&&(p(e),p(u)),v(t),v(o),v(i,f)}}}function Gp(l){let e,n;return e=new ql({props:{name:"sports_spaces",singularNoun:"sports space",pluralNoun:"Sports spaces",$$slots:{default:[qp]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,[r]){const o={};r&1&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}class Up extends Q{constructor(e){super(),Z(this,e,null,Gp,X,{})}}function Wp(l){let e;return{c(){e=k("Stats19")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Vp(l){let e;return{c(){e=k("DfT stats19")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Xp(l){let e;return{c(){e=k("documented by DfT")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Yp(l){let e,n,t,r,o,s,u,i,a,f,c,d,_,y,L,S,M,j,I,N,A,P,E;return t=new x({props:{href:"https://www.data.gov.uk/dataset/cb7ae6f0-4be6-4935-9277-47e5ce24a11f/road-safety-data",$$slots:{default:[Vp]},$$scope:{ctx:l}}}),M=new x({props:{href:"https://www.gov.uk/guidance/road-accident-and-safety-statistics-guidance",$$slots:{default:[Xp]},$$scope:{ctx:l}}}),P=new Le({}),{c(){e=C("p"),n=k("This layer shows collisions recorded in the "),h(t.$$.fragment),r=k(" dataset. Please note these limitations:"),o=O(),s=C("ul"),u=C("li"),u.textContent="Only collisions between 2017 and 2022 are included",i=O(),a=C("li"),a.textContent=`This tool is intended to be used at high-zoom levels, while inspecting
          a scheme or development area. Not all points are shown at lower zoom
          levels. Do not use this to look for trends across a city or region
          scale.`,f=O(),c=C("li"),c.textContent=`Approximately 150 collisions from the source data aren't included, due
          to problems with the recorded location`,d=O(),_=C("li"),_.textContent='The "pedestrians" category also include mobility scooters',y=O(),L=C("li"),S=k("All limitations "),h(M.$$.fragment),j=k(` also apply. Not all collisions or near misses are reported.
          There's nuance with the severity categories.`),I=O(),N=C("p"),N.textContent="You can click a point to open the full report, thanks to CycleStreets.",A=O(),h(P.$$.fragment)},m(T,F){$(T,e,F),w(e,n),b(t,e,null),w(e,r),$(T,o,F),$(T,s,F),w(s,u),w(s,i),w(s,a),w(s,f),w(s,c),w(s,d),w(s,_),w(s,y),w(s,L),w(L,S),b(M,L,null),w(L,j),$(T,I,F),$(T,N,F),$(T,A,F),b(P,T,F),E=!0},p(T,F){const G={};F&16777216&&(G.$$scope={dirty:F,ctx:T}),t.$set(G);const R={};F&16777216&&(R.$$scope={dirty:F,ctx:T}),M.$set(R)},i(T){E||(m(t.$$.fragment,T),m(M.$$.fragment,T),m(P.$$.fragment,T),E=!0)},o(T){g(t.$$.fragment,T),g(M.$$.fragment,T),g(P.$$.fragment,T),E=!1},d(T){T&&(p(e),p(o),p(s),p(I),p(N),p(A)),v(t),v(M),v(P,T)}}}function Jp(l){let e,n,t;return n=new ce({props:{$$slots:{default:[Yp]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&16777216&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function Qr(l){let e,n,t,r,o,s,u,i,a,f,c,d,_;return n=new Xe({props:{small:!0,$$slots:{default:[em]},$$scope:{ctx:l}}}),f=new In({props:{rows:l[14]}}),{c(){e=C("div"),h(n.$$.fragment),t=O(),r=C("div"),o=k(`Filter years:
      `),s=C("input"),u=k(`
      -
      `),i=C("input"),a=O(),h(f.$$.fragment),q(s,"type","number"),q(s,"min",2017),q(s,"max",2022),q(s,"class","svelte-1ft65rw"),q(i,"type","number"),q(i,"min",2017),q(i,"max",2022),q(i,"class","svelte-1ft65rw"),Se(e,"border","1px solid black"),Se(e,"padding","8px")},m(y,L){$(y,e,L),b(n,e,null),w(e,t),w(e,r),w(r,o),w(r,s),We(s,l[4]),w(r,u),w(r,i),We(i,l[5]),w(e,a),b(f,e,null),c=!0,d||(_=[it(s,"input",l[20]),it(i,"input",l[21])],d=!0)},p(y,L){const S={};L&16777231&&(S.$$scope={dirty:L,ctx:y}),n.$set(S),L&16&&Ut(s.value)!==y[4]&&We(s,y[4]),L&32&&Ut(i.value)!==y[5]&&We(i,y[5])},i(y){c||(m(n.$$.fragment,y),m(f.$$.fragment,y),c=!0)},o(y){g(n.$$.fragment,y),g(f.$$.fragment,y),c=!1},d(y){y&&p(e),v(n),v(f),d=!1,vl(_)}}}function Kp(l){let e;return{c(){e=k("Pedestrians")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Qp(l){let e;return{c(){e=k("Cyclists")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Zp(l){let e;return{c(){e=k("Horse riders")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function xp(l){let e;return{c(){e=k("Other")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function em(l){let e,n,t,r,o,s,u,i,a,f,c,d;function _(A){l[16](A)}let y={$$slots:{default:[Kp]},$$scope:{ctx:l}};l[0]!==void 0&&(y.checked=l[0]),e=new re({props:y}),U.push(()=>W(e,"checked",_));function L(A){l[17](A)}let S={$$slots:{default:[Qp]},$$scope:{ctx:l}};l[1]!==void 0&&(S.checked=l[1]),r=new re({props:S}),U.push(()=>W(r,"checked",L));function M(A){l[18](A)}let j={$$slots:{default:[Zp]},$$scope:{ctx:l}};l[2]!==void 0&&(j.checked=l[2]),u=new re({props:j}),U.push(()=>W(u,"checked",M));function I(A){l[19](A)}let N={$$slots:{default:[xp]},$$scope:{ctx:l}};return l[3]!==void 0&&(N.checked=l[3]),f=new re({props:N}),U.push(()=>W(f,"checked",I)),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment),s=O(),h(u.$$.fragment),a=O(),h(f.$$.fragment)},m(A,P){b(e,A,P),$(A,t,P),b(r,A,P),$(A,s,P),b(u,A,P),$(A,a,P),b(f,A,P),d=!0},p(A,P){const E={};P&16777216&&(E.$$scope={dirty:P,ctx:A}),!n&&P&1&&(n=!0,E.checked=A[0],V(()=>n=!1)),e.$set(E);const T={};P&16777216&&(T.$$scope={dirty:P,ctx:A}),!o&&P&2&&(o=!0,T.checked=A[1],V(()=>o=!1)),r.$set(T);const F={};P&16777216&&(F.$$scope={dirty:P,ctx:A}),!i&&P&4&&(i=!0,F.checked=A[2],V(()=>i=!1)),u.$set(F);const G={};P&16777216&&(G.$$scope={dirty:P,ctx:A}),!c&&P&8&&(c=!0,G.checked=A[3],V(()=>c=!1)),f.$set(G)},i(A){d||(m(e.$$.fragment,A),m(r.$$.fragment,A),m(u.$$.fragment,A),m(f.$$.fragment,A),d=!0)},o(A){g(e.$$.fragment,A),g(r.$$.fragment,A),g(u.$$.fragment,A),g(f.$$.fragment,A),d=!1},d(A){A&&(p(t),p(s),p(a)),v(e,A),v(r,A),v(u,A),v(f,A)}}}function Zr(l){let e,n,t,r=l[8][l[23].pedestrian_location]+"",o;return{c(){e=C("p"),n=k("Pedestrian location: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8388608&&r!==(r=s[8][s[23].pedestrian_location]+"")&&z(o,r)},d(s){s&&p(e)}}}function xr(l){let e,n,t,r=l[9][l[23].pedestrian_movement]+"",o;return{c(){e=C("p"),n=k("Pedestrian movement: "),t=C("b"),o=k(r)},m(s,u){$(s,e,u),w(e,n),w(e,t),w(t,o)},p(s,u){u&8388608&&r!==(r=s[9][s[23].pedestrian_movement]+"")&&z(o,r)},d(s){s&&p(e)}}}function tm(l){let e,n,t,r=l[23].year+"",o,s,u,i,a,f=l[10][l[23].severity]+"",c,d,_,y,L,S=el(l[23])+"",M,j,I,N,A,P=l[23].pedestrian_location&&Zr(l),E=l[23].pedestrian_movement&&xr(l);return{c(){e=C("p"),n=k("Year: "),t=C("b"),o=k(r),s=O(),u=C("p"),i=k("Severity: "),a=C("b"),c=k(f),d=O(),_=C("p"),y=k("Casualties: "),L=C("b"),M=k(S),j=O(),P&&P.c(),I=O(),E&&E.c(),N=O(),A=C("p"),A.textContent="Click to open full report in CycleStreets"},m(T,F){$(T,e,F),w(e,n),w(e,t),w(t,o),$(T,s,F),$(T,u,F),w(u,i),w(u,a),w(a,c),$(T,d,F),$(T,_,F),w(_,y),w(_,L),w(L,M),$(T,j,F),P&&P.m(T,F),$(T,I,F),E&&E.m(T,F),$(T,N,F),$(T,A,F)},p(T,F){F&8388608&&r!==(r=T[23].year+"")&&z(o,r),F&8388608&&f!==(f=T[10][T[23].severity]+"")&&z(c,f),F&8388608&&S!==(S=el(T[23])+"")&&z(M,S),T[23].pedestrian_location?P?P.p(T,F):(P=Zr(T),P.c(),P.m(I.parentNode,I)):P&&(P.d(1),P=null),T[23].pedestrian_movement?E?E.p(T,F):(E=xr(T),E.c(),E.m(N.parentNode,N)):E&&(E.d(1),E=null)},d(T){T&&(p(e),p(s),p(u),p(d),p(_),p(j),p(I),p(N),p(A)),P&&P.d(T),E&&E.d(T)}}}function nm(l){let e,n;return e=new fe({props:{$$slots:{default:[tm,({props:t})=>({23:t}),({props:t})=>t?8388608:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&25165824&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function rm(l){let e,n;const t=[H(zt),{sourceLayer:zt},{paint:{"circle-color":we(["get","severity"],[1,2,3],[l[11],l[12],l[13]]),"circle-opacity":.9,"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,15],"circle-stroke-color":"black","circle-stroke-width":.1}},{filter:l[7]},{layout:{visibility:l[6]?"visible":"none"}},{hoverCursor:"pointer"},{eventsIfTopMost:!0}];let r={$$slots:{default:[nm]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ft({props:r}),e.$on("click",om),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&14528?te(t,[s&0&&ie(H(zt)),s&0&&{sourceLayer:zt},s&14336&&{paint:{"circle-color":we(["get","severity"],[1,2,3],[o[11],o[12],o[13]]),"circle-opacity":.9,"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,15],"circle-stroke-color":"black","circle-stroke-width":.1}},s&128&&{filter:o[7]},s&64&&{layout:{visibility:o[6]?"visible":"none"}},t[5],t[6]]):{};s&16777216&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function lm(l){let e,n,t,r,o,s;function u(f){l[15](f)}let i={$$slots:{right:[Jp],default:[Wp]},$$scope:{ctx:l}};l[6]!==void 0&&(i.checked=l[6]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[6]&&Qr(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${zt}.pmtiles`,$$slots:{default:[rm]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&16777216&&(d.$$scope={dirty:c,ctx:f}),!n&&c&64&&(n=!0,d.checked=f[6],V(()=>n=!1)),e.$set(d),f[6]?a?(a.p(f,c),c&64&&m(a,1)):(a=Qr(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&16777408&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let zt="stats19";function el(l){let e=[];return l.pedestrian&&e.push("pedestrian"),l.cyclist&&e.push("cyclist"),l.horse_rider&&e.push("horse rider"),l.other&&e.push("other"),e.join(", ")}function om(l){window.open(`https://www.cyclestreets.net/collisions/reports/${l.detail.features[0].properties.accident_index}`,"_blank")}function sm(l,e,n){let t,r=!1,o=!0,s=!0,u=!0,i=!1,a=2017,f=2022;function c(G,R,D,B,Y,le){let oe=["any"];return o&&oe.push(["get","pedestrian"]),s&&oe.push(["get","cyclist"]),u&&oe.push(["get","horse_rider"]),i&&oe.push(["get","other"]),["all",[">=",["get","year"],a],["<=",["get","year"],f],oe]}let d={1:"Crossing on pedestrian crossing facility",2:"Crossing in zig-zag approach lines",3:"Crossing in zig-zag exit lines",4:"Crossing elsewhere within 50m. of pedestrian crossing",5:"In carriageway, crossing elsewhere",6:"On footway or verge",7:"On refuge, central island or central reservation",8:"In centre of carriageway - not on refuge, island or central reservation",9:"In carriageway, not crossing"},_={1:"Crossing from driver's nearside",2:"Crossing from nearside - masked by parked or stationary vehicle",3:"Crossing from driver's offside",4:"Crossing from offside - masked by parked or stationary vehicle",5:"In carriageway, stationary - not crossing (standing or playing)",6:"In carriageway, stationary - not crossing (standing or playing - masked by parked or stationary vehicle)",7:"Walking along in carriageway, facing traffic",8:"Walking along in carriageway, back to traffic"},y={1:"Fatal",2:"Serious",3:"Slight"},L=J.sequential_low_to_high[4],S=J.sequential_low_to_high[2],M=J.sequential_low_to_high[0],j=[["Fatal",L],["Serious",S],["Slight",M]];function I(G){r=G,n(6,r)}function N(G){o=G,n(0,o)}function A(G){s=G,n(1,s)}function P(G){u=G,n(2,u)}function E(G){i=G,n(3,i)}function T(){a=Ut(this.value),n(4,a)}function F(){f=Ut(this.value),n(5,f)}return l.$$.update=()=>{l.$$.dirty&63&&n(7,t=c())},[o,s,u,i,a,f,r,t,d,_,y,L,S,M,j,I,N,A,P,E,T,F]}class im extends Q{constructor(e){super(),Z(this,e,sm,lm,X,{})}}function am(l){let e;return{c(){e=k("Vehicle counts")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function fm(l){let e;return{c(){e=k(`DfT road statistics
        `)},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function um(l){let e;return{c(){e=k("methodology")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function cm(l){let e,n,t,r,o,s,u,i,a,f,c;return t=new x({props:{href:"https://roadtraffic.dft.gov.uk/downloads",$$slots:{default:[fm]},$$scope:{ctx:l}}}),o=new x({props:{href:"https://storage.googleapis.com/dft-statistics/road-traffic/all-traffic-data-metadata.pdf",$$slots:{default:[um]},$$scope:{ctx:l}}}),f=new Le({}),{c(){e=C("p"),n=k("AADF (annual average daily flow) data from "),h(t.$$.fragment),r=k(`. This counts the total daily number of vehicles
        traveling past a count point (in both directions) on an average day of
        the year. Data from the latest year available is shown. See `),h(o.$$.fragment),s=k(" for details and caveats about the measurements."),u=O(),i=C("p"),i.textContent=`The colors show motor vehicles AADF, not pedal cycles. The outline is
        thicker when the latest data is a manual or automatic count, and thinner
        when it's an estimate from previous years or nearby counters. Click a
        point for full data.`,a=O(),h(f.$$.fragment)},m(d,_){$(d,e,_),w(e,n),b(t,e,null),w(e,r),b(o,e,null),w(e,s),$(d,u,_),$(d,i,_),$(d,a,_),b(f,d,_),c=!0},p(d,_){const y={};_&64&&(y.$$scope={dirty:_,ctx:d}),t.$set(y);const L={};_&64&&(L.$$scope={dirty:_,ctx:d}),o.$set(L)},i(d){c||(m(t.$$.fragment,d),m(o.$$.fragment,d),m(f.$$.fragment,d),c=!0)},o(d){g(t.$$.fragment,d),g(o.$$.fragment,d),g(f.$$.fragment,d),c=!1},d(d){d&&(p(e),p(u),p(i),p(a)),v(t),v(o),v(f,d)}}}function $m(l){let e,n,t;return n=new ce({props:{$$slots:{default:[cm]},$$scope:{ctx:l}}}),{c(){e=C("span"),h(n.$$.fragment),q(e,"slot","right")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&64&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function tl(l){let e,n;return e=new Be({props:{colorScale:l[1],limits:l[3]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function pm(l){let e,n=l[5].location+"",t,r,o,s,u=l[5].year+"",i,a,f,c=l[5].motor_vehicles.toLocaleString()+"",d,_,y,L,S=l[5].year+"",M,j,I,N=l[5].pedal_cycles.toLocaleString()+"",A,P,E,T,F,G=l[5].method+"",R;return{c(){e=C("h2"),t=k(n),r=O(),o=C("p"),s=k("Total motor vehicles ("),i=k(u),a=k(` AADF):
        `),f=C("b"),d=k(c),_=O(),y=C("p"),L=k("Total pedal cycles ("),M=k(S),j=k(` AADF):
        `),I=C("b"),A=k(N),P=O(),E=C("p"),T=k("Count method: "),F=C("b"),R=k(G)},m(D,B){$(D,e,B),w(e,t),$(D,r,B),$(D,o,B),w(o,s),w(o,i),w(o,a),w(o,f),w(f,d),$(D,_,B),$(D,y,B),w(y,L),w(y,M),w(y,j),w(y,I),w(I,A),$(D,P,B),$(D,E,B),w(E,T),w(E,F),w(F,R)},p(D,B){B&32&&n!==(n=D[5].location+"")&&z(t,n),B&32&&u!==(u=D[5].year+"")&&z(i,u),B&32&&c!==(c=D[5].motor_vehicles.toLocaleString()+"")&&z(d,c),B&32&&S!==(S=D[5].year+"")&&z(M,S),B&32&&N!==(N=D[5].pedal_cycles.toLocaleString()+"")&&z(A,N),B&32&&G!==(G=D[5].method+"")&&z(R,G)},d(D){D&&(p(e),p(r),p(o),p(_),p(y),p(P),p(E))}}}function mm(l){let e,n;return e=new fe({props:{$$slots:{default:[pm,({props:t})=>({5:t}),({props:t})=>t?32:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&96&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function _m(l){let e,n;const t=[H(Ht),{sourceLayer:Ht},{paint:{"circle-color":we(["get","motor_vehicles"],l[2],l[1]),"circle-opacity":.9,"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,15],"circle-stroke-color":"black","circle-stroke-width":["case",["in",["get","method"],["literal",["Manual count","Automatic counter"]]],1.5,.1]}},{layout:{visibility:l[0]?"visible":"none"}},{hoverCursor:"pointer"},{eventsIfTopMost:!0}];let r={$$slots:{default:[mm]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new ft({props:r}),e.$on("click",dm),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&7?te(t,[s&0&&ie(H(Ht)),s&0&&{sourceLayer:Ht},s&6&&{paint:{"circle-color":we(["get","motor_vehicles"],o[2],o[1]),"circle-opacity":.9,"circle-radius":["interpolate",["linear"],["zoom"],1,2,8,3,13,15],"circle-stroke-color":"black","circle-stroke-width":["case",["in",["get","method"],["literal",["Manual count","Automatic counter"]]],1.5,.1]}},s&1&&{layout:{visibility:o[0]?"visible":"none"}},t[4],t[5]]):{};s&64&&(u.$$scope={dirty:s,ctx:o}),e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function gm(l){let e,n,t,r,o,s;function u(f){l[4](f)}let i={$$slots:{right:[$m],default:[am]},$$scope:{ctx:l}};l[0]!==void 0&&(i.checked=l[0]),e=new re({props:i}),U.push(()=>W(e,"checked",u));let a=l[0]&&tl(l);return o=new be({props:{url:`pmtiles://${ge()}/v1/${Ht}.pmtiles`,$$slots:{default:[_m]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),t=O(),a&&a.c(),r=O(),h(o.$$.fragment)},m(f,c){b(e,f,c),$(f,t,c),a&&a.m(f,c),$(f,r,c),b(o,f,c),s=!0},p(f,[c]){const d={};c&64&&(d.$$scope={dirty:c,ctx:f}),!n&&c&1&&(n=!0,d.checked=f[0],V(()=>n=!1)),e.$set(d),f[0]?a?(a.p(f,c),c&1&&m(a,1)):(a=tl(f),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(pe(),g(a,1,1,()=>{a=null}),me());const _={};c&65&&(_.$$scope={dirty:c,ctx:f}),o.$set(_)},i(f){s||(m(e.$$.fragment,f),m(a),m(o.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(a),g(o.$$.fragment,f),s=!1},d(f){f&&(p(t),p(r)),v(e,f),a&&a.d(f),v(o,f)}}}let Ht="vehicle_counts";function dm(l){window.open(`https://roadtraffic.dft.gov.uk/manualcountpoints/${l.detail.features[0].properties.count_point}`,"_blank")}function hm(l,e,n){let t=J.sequential_low_to_high,r=[0,4e4,8e4,12e4,16e4,205e3],o=["","40k","80k","120k","160k",""],s=!1;function u(i){s=i,n(0,s)}return[s,t,r,o,u]}class bm extends Q{constructor(e){super(),Z(this,e,hm,gm,X,{})}}function vm(l){let e,n,t,r,o,s,u,i;return e=new gp({}),t=new Lp({}),o=new Up({}),u=new Bp({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment),s=O(),h(u.$$.fragment)},m(a,f){b(e,a,f),$(a,n,f),b(t,a,f),$(a,r,f),b(o,a,f),$(a,s,f),b(u,a,f),i=!0},i(a){i||(m(e.$$.fragment,a),m(t.$$.fragment,a),m(o.$$.fragment,a),m(u.$$.fragment,a),i=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),g(o.$$.fragment,a),g(u.$$.fragment,a),i=!1},d(a){a&&(p(n),p(r),p(s)),v(e,a),v(t,a),v(o,a),v(u,a)}}}function wm(l){let e,n;return e=new Xe({props:{small:!0,$$slots:{default:[vm]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function km(l){let e,n,t,r,o,s,u,i,a,f,c,d;return e=new Iu({}),t=new sc({}),o=new zu({}),u=new Ku({}),a=new rp({}),c=new D$({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment),s=O(),h(u.$$.fragment),i=O(),h(a.$$.fragment),f=O(),h(c.$$.fragment)},m(_,y){b(e,_,y),$(_,n,y),b(t,_,y),$(_,r,y),b(o,_,y),$(_,s,y),b(u,_,y),$(_,i,y),b(a,_,y),$(_,f,y),b(c,_,y),d=!0},i(_){d||(m(e.$$.fragment,_),m(t.$$.fragment,_),m(o.$$.fragment,_),m(u.$$.fragment,_),m(a.$$.fragment,_),m(c.$$.fragment,_),d=!0)},o(_){g(e.$$.fragment,_),g(t.$$.fragment,_),g(o.$$.fragment,_),g(u.$$.fragment,_),g(a.$$.fragment,_),g(c.$$.fragment,_),d=!1},d(_){_&&(p(n),p(r),p(s),p(i),p(f)),v(e,_),v(t,_),v(o,_),v(u,_),v(a,_),v(c,_)}}}function ym(l){let e,n;return e=new Xe({props:{small:!0,$$slots:{default:[km]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Sm(l){let e,n,t,r,o,s;return e=new du({}),t=new o$({}),o=new _$({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment)},m(u,i){b(e,u,i),$(u,n,i),b(t,u,i),$(u,r,i),b(o,u,i),s=!0},i(u){s||(m(e.$$.fragment,u),m(t.$$.fragment,u),m(o.$$.fragment,u),s=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),s=!1},d(u){u&&(p(n),p(r)),v(e,u),v(t,u),v(o,u)}}}function Cm(l){let e,n,t,r,o,s,u,i,a,f;return e=new Lf({}),t=new ru({}),o=new Ea({}),u=new nf({}),a=new df({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment),s=O(),h(u.$$.fragment),i=O(),h(a.$$.fragment)},m(c,d){b(e,c,d),$(c,n,d),b(t,c,d),$(c,r,d),b(o,c,d),$(c,s,d),b(u,c,d),$(c,i,d),b(a,c,d),f=!0},i(c){f||(m(e.$$.fragment,c),m(t.$$.fragment,c),m(o.$$.fragment,c),m(u.$$.fragment,c),m(a.$$.fragment,c),f=!0)},o(c){g(e.$$.fragment,c),g(t.$$.fragment,c),g(o.$$.fragment,c),g(u.$$.fragment,c),g(a.$$.fragment,c),f=!1},d(c){c&&(p(n),p(r),p(s),p(i)),v(e,c),v(t,c),v(o,c),v(u,c),v(a,c)}}}function Tm(l){let e,n;return e=new Xe({props:{small:!0,$$slots:{default:[Cm]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Om(l){let e,n,t,r;return e=new ya({}),t=new Wa({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,s){b(e,o,s),$(o,n,s),b(t,o,s),r=!0},i(o){r||(m(e.$$.fragment,o),m(t.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),r=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function Lm(l){let e,n;return e=new Xe({props:{small:!0,$$slots:{default:[Om]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Am(l){let e,n,t,r,o,s;return e=new Qc({}),t=new gc({}),o=new Hc({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment)},m(u,i){b(e,u,i),$(u,n,i),b(t,u,i),$(u,r,i),b(o,u,i),s=!0},i(u){s||(m(e.$$.fragment,u),m(t.$$.fragment,u),m(o.$$.fragment,u),s=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),s=!1},d(u){u&&(p(n),p(r)),v(e,u),v(t,u),v(o,u)}}}function Im(l){let e,n,t,r,o,s,u,i,a=dn()=="Private (development)",f,c,d,_,y;e=new bm({}),t=new im({}),o=new Ic({}),u=new V$({});let L=a&&Am();return c=new Df({}),_=new Vf({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment),s=O(),h(u.$$.fragment),i=O(),L&&L.c(),f=O(),h(c.$$.fragment),d=O(),h(_.$$.fragment)},m(S,M){b(e,S,M),$(S,n,M),b(t,S,M),$(S,r,M),b(o,S,M),$(S,s,M),b(u,S,M),$(S,i,M),L&&L.m(S,M),$(S,f,M),b(c,S,M),$(S,d,M),b(_,S,M),y=!0},p:ne,i(S){y||(m(e.$$.fragment,S),m(t.$$.fragment,S),m(o.$$.fragment,S),m(u.$$.fragment,S),m(L),m(c.$$.fragment,S),m(_.$$.fragment,S),y=!0)},o(S){g(e.$$.fragment,S),g(t.$$.fragment,S),g(o.$$.fragment,S),g(u.$$.fragment,S),g(L),g(c.$$.fragment,S),g(_.$$.fragment,S),y=!1},d(S){S&&(p(n),p(r),p(s),p(i),p(f),p(d)),v(e,S),v(t,S),v(o,S),v(u,S),L&&L.d(S),v(c,S),v(_,S)}}}function Mm(l){let e,n;return e=new Xe({props:{small:!0,$$slots:{default:[Im]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&16&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Pm(l){let e,n,t,r,o;function s(i){l[3](i)}let u={};return l[0]!==void 0&&(u.enabled=l[0]),e=new to({props:u}),U.push(()=>W(e,"enabled",s)),r=new io({}),{c(){h(e.$$.fragment),t=O(),h(r.$$.fragment)},m(i,a){b(e,i,a),$(i,t,a),b(r,i,a),o=!0},p(i,a){const f={};!n&&a&1&&(n=!0,f.enabled=i[0],V(()=>n=!1)),e.$set(f)},i(i){o||(m(e.$$.fragment,i),m(r.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(r.$$.fragment,i),o=!1},d(i){i&&p(t),v(e,i),v(r,i)}}}function Nm(l){let e,n,t,r,o,s,u,i,a,f,c,d,_,y,L,S,M,j;return e=new C$({}),t=new Fe({props:{label:"Trip generators",$$slots:{default:[wm]},$$scope:{ctx:l}}}),o=new Fe({props:{label:"Existing infrastructure",$$slots:{default:[ym]},$$scope:{ctx:l}}}),u=new Fe({props:{label:"Public transit",$$slots:{default:[Sm]},$$scope:{ctx:l}}}),a=new Fe({props:{label:"Boundaries",$$slots:{default:[Tm]},$$scope:{ctx:l}}}),c=new Fe({props:{label:"Census",$$slots:{default:[Lm]},$$scope:{ctx:l}}}),_=new Fe({props:{label:"Other",$$slots:{default:[Mm]},$$scope:{ctx:l}}}),L=new Fe({props:{label:"Tools",$$slots:{default:[Pm]},$$scope:{ctx:l}}}),M=new eo({props:{disabled:!l[1]}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment),s=O(),h(u.$$.fragment),i=O(),h(a.$$.fragment),f=O(),h(c.$$.fragment),d=O(),h(_.$$.fragment),y=O(),h(L.$$.fragment),S=O(),h(M.$$.fragment)},m(I,N){b(e,I,N),$(I,n,N),b(t,I,N),$(I,r,N),b(o,I,N),$(I,s,N),b(u,I,N),$(I,i,N),b(a,I,N),$(I,f,N),b(c,I,N),$(I,d,N),b(_,I,N),$(I,y,N),b(L,I,N),$(I,S,N),b(M,I,N),j=!0},p(I,N){const A={};N&16&&(A.$$scope={dirty:N,ctx:I}),t.$set(A);const P={};N&16&&(P.$$scope={dirty:N,ctx:I}),o.$set(P);const E={};N&16&&(E.$$scope={dirty:N,ctx:I}),u.$set(E);const T={};N&16&&(T.$$scope={dirty:N,ctx:I}),a.$set(T);const F={};N&16&&(F.$$scope={dirty:N,ctx:I}),c.$set(F);const G={};N&16&&(G.$$scope={dirty:N,ctx:I}),_.$set(G);const R={};N&17&&(R.$$scope={dirty:N,ctx:I}),L.$set(R);const D={};N&2&&(D.disabled=!I[1]),M.$set(D)},i(I){j||(m(e.$$.fragment,I),m(t.$$.fragment,I),m(o.$$.fragment,I),m(u.$$.fragment,I),m(a.$$.fragment,I),m(c.$$.fragment,I),m(_.$$.fragment,I),m(L.$$.fragment,I),m(M.$$.fragment,I),j=!0)},o(I){g(e.$$.fragment,I),g(t.$$.fragment,I),g(o.$$.fragment,I),g(u.$$.fragment,I),g(a.$$.fragment,I),g(c.$$.fragment,I),g(_.$$.fragment,I),g(L.$$.fragment,I),g(M.$$.fragment,I),j=!1},d(I){I&&(p(n),p(r),p(s),p(i),p(f),p(d),p(y),p(S)),v(e,I),v(t,I),v(o,I),v(u,I),v(a,I),v(c,I),v(_,I),v(L,I),v(M,I)}}}function Em(l){let e,n;const t=[H("cover-interactive-layers"),{paint:{"fill-color":"black","fill-opacity":0}},{layout:{visibility:l[1]?"none":"visible"}}];let r={};for(let o=0;o<t.length;o+=1)r=ee(r,t[o]);return e=new Re({props:r}),{c(){h(e.$$.fragment)},m(o,s){b(e,o,s),n=!0},p(o,s){const u=s&2?te(t,[t[0],t[1],{layout:{visibility:o[1]?"none":"visible"}}]):{};e.$set(u)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Fm(l){let e,n,t,r;return e=new Fe({props:{label:"Layers",open:!0,$$slots:{default:[Nm]},$$scope:{ctx:l}}}),t=new bt({props:{data:l[2],$$slots:{default:[Em]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,s){b(e,o,s),$(o,n,s),b(t,o,s),r=!0},p(o,[s]){const u={};s&19&&(u.$$scope={dirty:s,ctx:o}),e.$set(u);const i={};s&18&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){r||(m(e.$$.fragment,o),m(t.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),r=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function Dm(l,e,n){let t,r;ye(l,$r,u=>n(1,r=u));let o={type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]}};function s(u){t=u,n(0,t),n(1,r)}return l.$$.update=()=>{l.$$.dirty&2&&n(0,t=!r),l.$$.dirty&1&&$r.set(!t)},[t,r,o,s]}class jm extends Q{constructor(e){super(),Z(this,e,Dm,Fm,X,{})}}function nl(l){let e;return{c(){e=C("p"),e.textContent="Loading scheme data..."},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Rm(l){let e,n=l[0]&&nl();return{c(){n&&n.c(),e=je()},m(t,r){n&&n.m(t,r),$(t,e,r)},p(t,[r]){t[0]?n||(n=nl(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ne,o:ne,d(t){t&&p(e),n&&n.d(t)}}}function Bm(l,e,n){let{loadFile:t}=e,r=!0;return An(async()=>{let s=await(await fetch(`${sn()}/v1/all_schemes_output.geojson.gz`)).text();t(s),n(0,r=!1)}),l.$$set=o=>{"loadFile"in o&&n(1,t=o.loadFile)},[r,t]}class zm extends Q{constructor(e){super(),Z(this,e,Bm,Rm,X,{loadFile:1})}}function rl(l){var o;let e,n,t=((o=l[0].browse)==null?void 0:o.current_milestone)+"",r;return{c(){e=C("p"),n=k("Current milestone: "),r=k(t)},m(s,u){$(s,e,u),w(e,n),w(e,r)},p(s,u){var i;u&1&&t!==(t=((i=s[0].browse)==null?void 0:i.current_milestone)+"")&&z(r,t)},d(s){s&&p(e)}}}function Hm(l){let e;return{c(){e=k("Show on map")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function qm(l){let e;return{c(){e=k("Edit scheme locally")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function Gm(l){let e,n,t,r;return e=new dt({props:{$$slots:{default:[Hm]},$$scope:{ctx:l}}}),e.$on("click",l[1]),t=new dt({props:{$$slots:{default:[qm]},$$scope:{ctx:l}}}),t.$on("click",l[2]),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,s){b(e,o,s),$(o,n,s),b(t,o,s),r=!0},p(o,s){const u={};s&32&&(u.$$scope={dirty:s,ctx:o}),e.$set(u);const i={};s&32&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){r||(m(e.$$.fragment,o),m(t.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),r=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function Um(l){var F,G,R,D;let e,n,t=l[0].scheme_reference+"",r,o,s,u,i=((F=l[0].browse)==null?void 0:F.authority_or_region)+"",a,f,c,d,_=((G=l[0].browse)==null?void 0:G.capital_scheme_id)+"",y,L,S,M,j=((R=l[0].browse)==null?void 0:R.funding_programme)+"",I,N,A,P,E,T=((D=l[0].browse)==null?void 0:D.current_milestone)&&rl(l);return P=new no({props:{$$slots:{default:[Gm]},$$scope:{ctx:l}}}),{c(){e=C("p"),n=k("Scheme reference: "),r=k(t),o=O(),s=C("p"),u=k("Authority or region: "),a=k(i),f=O(),c=C("p"),d=k("Capital scheme ID: "),y=k(_),L=O(),S=C("p"),M=k("Funding programme: "),I=k(j),N=O(),T&&T.c(),A=O(),h(P.$$.fragment)},m(B,Y){$(B,e,Y),w(e,n),w(e,r),$(B,o,Y),$(B,s,Y),w(s,u),w(s,a),$(B,f,Y),$(B,c,Y),w(c,d),w(c,y),$(B,L,Y),$(B,S,Y),w(S,M),w(S,I),$(B,N,Y),T&&T.m(B,Y),$(B,A,Y),b(P,B,Y),E=!0},p(B,Y){var oe,$e,Ie,Oe;(!E||Y&1)&&t!==(t=B[0].scheme_reference+"")&&z(r,t),(!E||Y&1)&&i!==(i=((oe=B[0].browse)==null?void 0:oe.authority_or_region)+"")&&z(a,i),(!E||Y&1)&&_!==(_=(($e=B[0].browse)==null?void 0:$e.capital_scheme_id)+"")&&z(y,_),(!E||Y&1)&&j!==(j=((Ie=B[0].browse)==null?void 0:Ie.funding_programme)+"")&&z(I,j),(Oe=B[0].browse)!=null&&Oe.current_milestone?T?T.p(B,Y):(T=rl(B),T.c(),T.m(A.parentNode,A)):T&&(T.d(1),T=null);const le={};Y&32&&(le.$$scope={dirty:Y,ctx:B}),P.$set(le)},i(B){E||(m(P.$$.fragment,B),E=!0)},o(B){g(P.$$.fragment,B),E=!1},d(B){B&&(p(e),p(o),p(s),p(f),p(c),p(L),p(S),p(N),p(A)),T&&T.d(B),v(P,B)}}}function Wm(l){let e,n;return e=new Fe({props:{label:`${l[0].scheme_name}`,$$slots:{default:[Um]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,[r]){const o={};r&1&&(o.label=`${t[0].scheme_name}`),r&33&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Vm(l,e,n){let t,r;ye(l,ht,i=>n(3,t=i)),ye(l,Ln,i=>n(4,r=i));let{scheme:o}=e;function s(){let i={type:"FeatureCollection",features:t.features.filter(a=>a.properties.scheme_reference==o.scheme_reference)};r==null||r.fitBounds(Jl(i),{padding:20,animate:!1})}function u(){var f,c;let i={type:"FeatureCollection",features:t.features.filter(d=>d.properties.scheme_reference==o.scheme_reference)},a=((f=o.browse)==null?void 0:f.authority_or_region)||"unknown authority";window.localStorage.setItem(a,JSON.stringify(i)),window.open(`scheme.html?authority=${(c=o.browse)==null?void 0:c.authority_or_region}`,"_blank")}return l.$$set=i=>{"scheme"in i&&n(0,o=i.scheme)},[o,s,u]}class Xm extends Q{constructor(e){super(),Z(this,e,Vm,Wm,X,{scheme:0})}}function ll(l){let e,n,t=Rn(l[0].length_meters)+"",r;return{c(){e=C("p"),n=k("Length: "),r=k(t)},m(o,s){$(o,e,s),w(e,n),w(e,r)},p(o,s){s&1&&t!==(t=Rn(o[0].length_meters)+"")&&z(r,t)},d(o){o&&p(e)}}}function ol(l){let e,n=ot(l[0].description,l[2])+"";return{c(){e=C("p")},m(t,r){$(t,e,r),e.innerHTML=n},p(t,r){r&5&&n!==(n=ot(t[0].description,t[2])+"")&&(e.innerHTML=n)},d(t){t&&p(e)}}}function sl(l){var o;let e,n,t=((o=l[1].browse)==null?void 0:o.current_milestone)+"",r;return{c(){e=C("p"),n=k("Current milestone: "),r=k(t)},m(s,u){$(s,e,u),w(e,n),w(e,r)},p(s,u){var i;u&2&&t!==(t=((i=s[1].browse)==null?void 0:i.current_milestone)+"")&&z(r,t)},d(s){s&&p(e)}}}function Ym(l){var ze,Ee,Ce,Je;let e,n,t,r=ot(l[0].name,l[2])+"",o,s=l[0].intervention_type+"",u,i,a,f,c,d,_,y,L,S,M=ot(l[1].scheme_name??"",l[3])+"",j,I,N=ot(l[0].scheme_reference,l[3])+"",A,P,E,T,F=((ze=l[1].browse)==null?void 0:ze.authority_or_region)+"",G,R,D,B,Y=((Ee=l[1].browse)==null?void 0:Ee.capital_scheme_id)+"",le,oe,$e,Ie,Oe=((Ce=l[1].browse)==null?void 0:Ce.funding_programme)+"",ae,Ae,ue=l[0].length_meters&&ll(l),_e=l[0].description&&ol(l),de=((Je=l[1].browse)==null?void 0:Je.current_milestone)&&sl(l);return{c(){e=C("div"),n=C("h2"),t=new qt(!1),o=k(" ("),u=k(s),i=k(")"),a=O(),ue&&ue.c(),f=O(),_e&&_e.c(),c=O(),d=C("hr"),_=O(),y=C("p"),L=k("Part of scheme: "),S=new qt(!1),j=k(" ("),I=new qt(!1),A=k(")"),P=O(),E=C("p"),T=k("Authority or region: "),G=k(F),R=O(),D=C("p"),B=k("Capital scheme ID: "),le=k(Y),oe=O(),$e=C("p"),Ie=k("Funding programme: "),ae=k(Oe),Ae=O(),de&&de.c(),t.a=o,S.a=j,I.a=A,Se(e,"max-width","30vw")},m(se,ve){$(se,e,ve),w(e,n),t.m(r,n),w(n,o),w(n,u),w(n,i),w(e,a),ue&&ue.m(e,null),w(e,f),_e&&_e.m(e,null),w(e,c),w(e,d),w(e,_),w(e,y),w(y,L),S.m(M,y),w(y,j),I.m(N,y),w(y,A),w(e,P),w(e,E),w(E,T),w(E,G),w(e,R),w(e,D),w(D,B),w(D,le),w(e,oe),w(e,$e),w($e,Ie),w($e,ae),w(e,Ae),de&&de.m(e,null)},p(se,[ve]){var Nn,En,Fn,Dn;ve&5&&r!==(r=ot(se[0].name,se[2])+"")&&t.p(r),ve&1&&s!==(s=se[0].intervention_type+"")&&z(u,s),se[0].length_meters?ue?ue.p(se,ve):(ue=ll(se),ue.c(),ue.m(e,f)):ue&&(ue.d(1),ue=null),se[0].description?_e?_e.p(se,ve):(_e=ol(se),_e.c(),_e.m(e,c)):_e&&(_e.d(1),_e=null),ve&10&&M!==(M=ot(se[1].scheme_name??"",se[3])+"")&&S.p(M),ve&9&&N!==(N=ot(se[0].scheme_reference,se[3])+"")&&I.p(N),ve&2&&F!==(F=((Nn=se[1].browse)==null?void 0:Nn.authority_or_region)+"")&&z(G,F),ve&2&&Y!==(Y=((En=se[1].browse)==null?void 0:En.capital_scheme_id)+"")&&z(le,Y),ve&2&&Oe!==(Oe=((Fn=se[1].browse)==null?void 0:Fn.funding_programme)+"")&&z(ae,Oe),(Dn=se[1].browse)!=null&&Dn.current_milestone?de?de.p(se,ve):(de=sl(se),de.c(),de.m(e,null)):de&&(de.d(1),de=null)},i:ne,o:ne,d(se){se&&p(e),ue&&ue.d(),_e&&_e.d(),de&&de.d()}}}function ot(l,e){return e?l.replace(new RegExp(e,"gi"),n=>`<mark>${n}</mark>`):l}function Jm(l,e,n){let t,r,o,s;ye(l,on,i=>n(4,r=i)),ye(l,wt,i=>n(2,o=i)),ye(l,kt,i=>n(3,s=i));let{props:u}=e;return l.$$set=i=>{"props"in i&&n(0,u=i.props)},l.$$.update=()=>{l.$$.dirty&17&&n(1,t=r.get(u.scheme_reference))},[u,t,o,s,r]}class Pn extends Q{constructor(e){super(),Z(this,e,Jm,Ym,X,{props:0})}}function Km(l){let e,n=l[6].name+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&64&&n!==(n=r[6].name+"")&&z(t,n)},d(r){r&&p(e)}}}function Qm(l){let e,n;return e=new Pn({props:{props:l[6]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&64&&(o.props=t[6]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Zm(l){let e,n,t,r;return e=new fe({props:{popupClass:"border-popup",$$slots:{default:[Km,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:l}}}),t=new fe({props:{openOn:"click",popupClass:"border-popup",$$slots:{default:[Qm,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,s){b(e,o,s),$(o,n,s),b(t,o,s),r=!0},p(o,s){const u={};s&192&&(u.$$scope={dirty:s,ctx:o}),e.$set(u);const i={};s&192&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){r||(m(e.$$.fragment,o),m(t.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),r=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function xm(l){let e,n=l[6].name+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&64&&n!==(n=r[6].name+"")&&z(t,n)},d(r){r&&p(e)}}}function e_(l){let e,n;return e=new Pn({props:{props:l[6]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&64&&(o.props=t[6]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function t_(l){let e,n,t,r;return e=new fe({props:{popupClass:"border-popup",$$slots:{default:[xm,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:l}}}),t=new fe({props:{openOn:"click",popupClass:"border-popup",$$slots:{default:[e_,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,s){b(e,o,s),$(o,n,s),b(t,o,s),r=!0},p(o,s){const u={};s&192&&(u.$$scope={dirty:s,ctx:o}),e.$set(u);const i={};s&192&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){r||(m(e.$$.fragment,o),m(t.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),r=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function n_(l){let e,n=l[6].name+"",t;return{c(){e=C("p"),t=k(n)},m(r,o){$(r,e,o),w(e,t)},p(r,o){o&64&&n!==(n=r[6].name+"")&&z(t,n)},d(r){r&&p(e)}}}function r_(l){let e,n;return e=new Pn({props:{props:l[6]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&64&&(o.props=t[6]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function l_(l){let e,n,t,r;return e=new fe({props:{popupClass:"border-popup",$$slots:{default:[n_,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:l}}}),t=new fe({props:{openOn:"click",popupClass:"border-popup",$$slots:{default:[r_,({props:o})=>({6:o}),({props:o})=>o?64:0]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(o,s){b(e,o,s),$(o,n,s),b(t,o,s),r=!0},p(o,s){const u={};s&192&&(u.$$scope={dirty:s,ctx:o}),e.$set(u);const i={};s&192&&(i.$$scope={dirty:s,ctx:o}),t.$set(i)},i(o){r||(m(e.$$.fragment,o),m(t.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),r=!1},d(o){o&&p(n),v(e,o),v(t,o)}}}function o_(l){let e,n,t,r,o,s,u,i,a,f;const c=[H("interventions-points"),{filter:["all",Bn,l[3],l[4]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"circle-color":l[2],"circle-radius":qn,"circle-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{hoverCursor:"pointer"}];let d={$$slots:{default:[Zm]},$$scope:{ctx:l}};for(let A=0;A<c.length;A+=1)d=ee(d,c[A]);e=new ft({props:d});const _=[H("interventions-lines"),{filter:["all",zn,l[3]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"line-color":l[2],"line-width":vt,"line-opacity":K(1,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{hoverCursor:"pointer"}];let y={$$slots:{default:[t_]},$$scope:{ctx:l}};for(let A=0;A<_.length;A+=1)y=ee(y,_[A]);t=new ke({props:y});const L=[H("interventions-lines-endpoints"),{filter:["==","endpoint",!0]},{paint:{"circle-radius":.5*vt,"circle-opacity":0,"circle-stroke-color":rt.lineEndpointColor,"circle-stroke-width":2}},{layout:{visibility:l[0]?"visible":"none"}}];let S={};for(let A=0;A<L.length;A+=1)S=ee(S,L[A]);o=new ft({props:S});const M=[H("interventions-polygons"),{filter:["all",en,l[3]]},{manageHoverState:!0},{eventsIfTopMost:!0},{paint:{"fill-color":l[2],"fill-opacity":K(.2,.5)}},{layout:{visibility:l[0]?"visible":"none"}},{hoverCursor:"pointer"}];let j={$$slots:{default:[l_]},$$scope:{ctx:l}};for(let A=0;A<M.length;A+=1)j=ee(j,M[A]);u=new Re({props:j});const I=[H("interventions-polygons-outlines"),{filter:["all",en,l[3]]},{paint:{"line-color":l[2],"line-opacity":.5,"line-width":.7*vt}},{layout:{visibility:l[0]?"visible":"none"}}];let N={};for(let A=0;A<I.length;A+=1)N=ee(N,I[A]);return a=new ke({props:N}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),h(o.$$.fragment),s=O(),h(u.$$.fragment),i=O(),h(a.$$.fragment)},m(A,P){b(e,A,P),$(A,n,P),b(t,A,P),$(A,r,P),b(o,A,P),$(A,s,P),b(u,A,P),$(A,i,P),b(a,A,P),f=!0},p(A,P){const E=P&29?te(c,[c[0],P&24&&{filter:["all",Bn,A[3],A[4]]},c[2],c[3],P&4&&{paint:{"circle-color":A[2],"circle-radius":qn,"circle-opacity":K(1,.5)}},P&1&&{layout:{visibility:A[0]?"visible":"none"}},c[6]]):{};P&128&&(E.$$scope={dirty:P,ctx:A}),e.$set(E);const T=P&13?te(_,[_[0],P&8&&{filter:["all",zn,A[3]]},_[2],_[3],P&4&&{paint:{"line-color":A[2],"line-width":vt,"line-opacity":K(1,.5)}},P&1&&{layout:{visibility:A[0]?"visible":"none"}},_[6]]):{};P&128&&(T.$$scope={dirty:P,ctx:A}),t.$set(T);const F=P&1?te(L,[L[0],L[1],L[2],{layout:{visibility:A[0]?"visible":"none"}}]):{};o.$set(F);const G=P&13?te(M,[M[0],P&8&&{filter:["all",en,A[3]]},M[2],M[3],P&4&&{paint:{"fill-color":A[2],"fill-opacity":K(.2,.5)}},P&1&&{layout:{visibility:A[0]?"visible":"none"}},M[6]]):{};P&128&&(G.$$scope={dirty:P,ctx:A}),u.$set(G);const R=P&13?te(I,[I[0],P&8&&{filter:["all",en,A[3]]},P&4&&{paint:{"line-color":A[2],"line-opacity":.5,"line-width":.7*vt}},P&1&&{layout:{visibility:A[0]?"visible":"none"}}]):{};a.$set(R)},i(A){f||(m(e.$$.fragment,A),m(t.$$.fragment,A),m(o.$$.fragment,A),m(u.$$.fragment,A),m(a.$$.fragment,A),f=!0)},o(A){g(e.$$.fragment,A),g(t.$$.fragment,A),g(o.$$.fragment,A),g(u.$$.fragment,A),g(a.$$.fragment,A),f=!1},d(A){A&&(p(n),p(r),p(s),p(i)),v(e,A),v(t,A),v(o,A),v(u,A),v(a,A)}}}function s_(l){let e,n;return e=new bt({props:{data:l[1],$$slots:{default:[o_]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,[r]){const o={};r&2&&(o.data=t[1]),r&129&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function i_(l,e,n){let t,r;ye(l,ht,a=>n(5,r=a));let{showSchemes:o}=e,[s]=Cn();const u=["!=",["get","hide_while_editing"],!0],i=["!=",["get","endpoint"],!0];return l.$$set=a=>{"showSchemes"in a&&n(0,o=a.showSchemes)},l.$$.update=()=>{l.$$.dirty&32&&n(1,t=Kl(r))},[o,t,s,u,i,r]}class a_ extends Q{constructor(e){super(),Z(this,e,i_,s_,X,{showSchemes:0})}}function il(l,e,n){const t=l.slice();return t[13]=e[n],t}function al(l,e,n){const t=l.slice();return t[16]=e[n],t}function f_(l){let e,n;return e=new zm({props:{loadFile:l[7]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p:ne,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function fl(l){let e,n,t,r,o;e=new dt({props:{$$slots:{default:[u_]},$$scope:{ctx:l}}}),e.$on("click",l[8]);function s(i){l[9](i)}let u={title:"About this scheme data",$$slots:{default:[c_]},$$scope:{ctx:l}};return l[3]!==void 0&&(u.open=l[3]),t=new ml({props:u}),U.push(()=>W(t,"open",s)),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment)},m(i,a){b(e,i,a),$(i,n,a),b(t,i,a),o=!0},p(i,a){const f={};a&524288&&(f.$$scope={dirty:a,ctx:i}),e.$set(f);const c={};a&524304&&(c.$$scope={dirty:a,ctx:i}),!r&&a&8&&(r=!0,c.open=i[3],V(()=>r=!1)),t.$set(c)},i(i){o||(m(e.$$.fragment,i),m(t.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),g(t.$$.fragment,i),o=!1},d(i){i&&p(n),v(e,i),v(t,i)}}}function u_(l){let e;return{c(){e=k("About the scheme data")},m(n,t){$(n,e,t)},d(n){n&&p(e)}}}function ul(l){let e,n,t=l[16]+"",r;return{c(){e=C("li"),n=C("p"),r=k(t)},m(o,s){$(o,e,s),w(e,n),w(n,r)},p(o,s){s&16&&t!==(t=o[16]+"")&&z(r,t)},d(o){o&&p(e)}}}function c_(l){let e,n,t,r,o=De(l[4].notes),s=[];for(let u=0;u<o.length;u+=1)s[u]=ul(al(l,o,u));return{c(){e=C("div"),n=C("p"),n.textContent="Please note there are data quality caveats for all scheme data:",t=O(),r=C("ul");for(let u=0;u<s.length;u+=1)s[u].c();q(e,"class","govuk-prose")},m(u,i){$(u,e,i),w(e,n),w(e,t),w(e,r);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,null)},p(u,i){if(i&16){o=De(u[4].notes);let a;for(a=0;a<o.length;a+=1){const f=al(u,o,a);s[a]?s[a].p(f,i):(s[a]=ul(f),s[a].c(),s[a].m(r,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}},d(u){u&&p(e),gt(s,u)}}}function cl(l){let e,n,t,r;function o(i){l[10](i)}function s(i){l[11](i)}let u={};return l[1]!==void 0&&(u.schemesToBeShown=l[1]),l[2]!==void 0&&(u.show=l[2]),e=new Vi({props:u}),U.push(()=>W(e,"schemesToBeShown",o)),U.push(()=>W(e,"show",s)),{c(){h(e.$$.fragment)},m(i,a){b(e,i,a),r=!0},p(i,a){const f={};!n&&a&2&&(n=!0,f.schemesToBeShown=i[1],V(()=>n=!1)),!t&&a&4&&(t=!0,f.show=i[2],V(()=>t=!1)),e.$set(f)},i(i){r||(m(e.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),r=!1},d(i){v(e,i)}}}function $l(l){let e,n;return e=new Xm({props:{scheme:l[13]}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,r){const o={};r&64&&(o.scheme=t[13]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function pl(l){let e=l[1].has(l[13].scheme_reference),n,t,r=e&&$l(l);return{c(){r&&r.c(),n=je()},m(o,s){r&&r.m(o,s),$(o,n,s),t=!0},p(o,s){s&66&&(e=o[1].has(o[13].scheme_reference)),e?r?(r.p(o,s),s&66&&m(r,1)):(r=$l(o),r.c(),m(r,1),r.m(n.parentNode,n)):r&&(pe(),g(r,1,1,()=>{r=null}),me())},i(o){t||(m(r),t=!0)},o(o){g(r),t=!1},d(o){o&&p(n),r&&r.d(o)}}}function $_(l){let e,n,t,r,o,s,u,i,a,f,c=dn()=="Private (development)",d,_,y,L,S,M,j,I,N;o=new so({props:{boundaryGeojson:l[4]}}),a=new Ql({});let A=c&&f_(l),P=l[4].notes&&fl(l);y=new lo({props:{label:"Load schemes from GeoJSON",loadFile:l[7]}}),S=new kl({props:{errorMessage:l[0]}});let E=l[6].size>0&&cl(l),T=De(l[6].values()),F=[];for(let R=0;R<T.length;R+=1)F[R]=pl(il(l,T,R));const G=R=>g(F[R],1,1,()=>{F[R]=null});return{c(){e=C("div"),n=C("div"),t=C("h1"),t.textContent="Browse schemes",r=O(),h(o.$$.fragment),s=O(),u=C("p"),u.textContent=`App version: ${dn()}`,i=O(),h(a.$$.fragment),f=O(),A&&A.c(),d=O(),P&&P.c(),_=O(),h(y.$$.fragment),L=O(),h(S.$$.fragment),M=O(),E&&E.c(),j=O(),I=C("ul");for(let R=0;R<F.length;R+=1)F[R].c();Se(n,"display","flex"),Se(n,"justify-content","space-between"),q(e,"slot","sidebar"),q(e,"class","govuk-prose")},m(R,D){$(R,e,D),w(e,n),w(n,t),w(n,r),b(o,n,null),w(e,s),w(e,u),w(e,i),b(a,e,null),w(e,f),A&&A.m(e,null),w(e,d),P&&P.m(e,null),w(e,_),b(y,e,null),w(e,L),b(S,e,null),w(e,M),E&&E.m(e,null),w(e,j),w(e,I);for(let B=0;B<F.length;B+=1)F[B]&&F[B].m(I,null);N=!0},p(R,D){const B={};D&16&&(B.boundaryGeojson=R[4]),o.$set(B),c&&A.p(R,D),R[4].notes?P?(P.p(R,D),D&16&&m(P,1)):(P=fl(R),P.c(),m(P,1),P.m(e,_)):P&&(pe(),g(P,1,1,()=>{P=null}),me());const Y={};if(D&1&&(Y.errorMessage=R[0]),S.$set(Y),R[6].size>0?E?(E.p(R,D),D&64&&m(E,1)):(E=cl(R),E.c(),m(E,1),E.m(e,j)):E&&(pe(),g(E,1,1,()=>{E=null}),me()),D&66){T=De(R[6].values());let le;for(le=0;le<T.length;le+=1){const oe=il(R,T,le);F[le]?(F[le].p(oe,D),m(F[le],1)):(F[le]=pl(oe),F[le].c(),m(F[le],1),F[le].m(I,null))}for(pe(),le=T.length;le<F.length;le+=1)G(le);me()}},i(R){if(!N){m(o.$$.fragment,R),m(a.$$.fragment,R),m(A),m(P),m(y.$$.fragment,R),m(S.$$.fragment,R),m(E);for(let D=0;D<T.length;D+=1)m(F[D]);N=!0}},o(R){g(o.$$.fragment,R),g(a.$$.fragment,R),g(A),g(P),g(y.$$.fragment,R),g(S.$$.fragment,R),g(E),F=F.filter(Boolean);for(let D=0;D<F.length;D+=1)g(F[D]);N=!1},d(R){R&&p(e),v(o),v(a),A&&A.d(),P&&P.d(),v(y),v(S),E&&E.d(),gt(F,R)}}}function p_(l){let e,n,t,r,o,s,u;return e=new ro({}),t=new a_({props:{showSchemes:l[2]}}),s=new jm({}),{c(){h(e.$$.fragment),n=O(),h(t.$$.fragment),r=O(),o=C("div"),h(s.$$.fragment),q(o,"class","top-right svelte-u44ed2")},m(i,a){b(e,i,a),$(i,n,a),b(t,i,a),$(i,r,a),$(i,o,a),b(s,o,null),u=!0},p(i,a){const f={};a&4&&(f.showSchemes=i[2]),t.$set(f)},i(i){u||(m(e.$$.fragment,i),m(t.$$.fragment,i),m(s.$$.fragment,i),u=!0)},o(i){g(e.$$.fragment,i),g(t.$$.fragment,i),g(s.$$.fragment,i),u=!1},d(i){i&&(p(n),p(r),p(o)),v(e,i),v(t,i),v(s)}}}function m_(l){let e,n,t;return n=new Zl({props:{style:l[5],startBounds:[-5.96,49.89,2.31,55.94],$$slots:{default:[p_]},$$scope:{ctx:l}}}),{c(){e=C("div"),h(n.$$.fragment),q(e,"slot","main")},m(r,o){$(r,e,o),b(n,e,null),t=!0},p(r,o){const s={};o&32&&(s.style=r[5]),o&524292&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){g(n.$$.fragment,r),t=!1},d(r){r&&p(e),v(n)}}}function __(l){let e,n;return e=new ao({props:{$$slots:{main:[m_],sidebar:[$_]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},m(t,r){b(e,t,r),n=!0},p(t,[r]){const o={};r&524415&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function g_(l,e,n){let t,r,o;ye(l,ht,S=>n(4,t=S)),ye(l,Hn,S=>n(5,r=S)),ye(l,on,S=>n(6,o=S)),An(()=>{xl()});const s=new URLSearchParams(window.location.search);Hn.set(s.get("style")||"dataviz");let u="",i=new Set,a=!0,f=!1;function c(S){try{ht.set(JSON.parse(S)),on.set(Ti(t)),n(0,u="")}catch(M){n(0,u=`The file you loaded is broken: ${M}`)}}const d=()=>n(3,f=!0);function _(S){f=S,n(3,f)}function y(S){i=S,n(1,i)}function L(S){a=S,n(2,a)}return[u,i,a,f,t,r,o,c,d,_,y,L]}class d_ extends Q{constructor(e){super(),Z(this,e,g_,__,X,{})}}document.body.className+=" js-enabled"+("noModule"in HTMLScriptElement.prototype?" govuk-frontend-supported":"");new d_({target:document.getElementById("app")});
