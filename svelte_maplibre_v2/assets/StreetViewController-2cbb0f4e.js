import{S as z,i as Z,s as D,aK as U,e as S,h as k,j as p,k as C,aL as q,aM as N,aN as P,t as b,n as h,p as v,d as B,N as ge,w as G,aD as Ie,aT as Fe,aV as xe,F as $e,g as M,m as O,q as V,E as et,J as pe,a5 as le,aE as tt,b7 as ve,K as lt,b8 as nt,v as be,u as I,I as He,b9 as te,ba as Ge,bb as W,bc as _e,T as ot,Q as R,a8 as ne,aW as K,aJ as Le,bd as it,y as A,o as j,H as st,aS as Ee,r as rt,b2 as at,b as he,c as ke,l as ye,C as Ke,as as Be,R as ft,aR as ut,be as ct,a as Je}from"./index-73f03f95.js";function dt(o){let e,l,t;const i=o[3].default,n=U(i,o,o[2],null);return{c(){e=S("fieldset"),l=S("div"),n&&n.c(),k(l,"class",o[0]),k(l,"data-module","govuk-checkboxes"),k(e,"class","govuk-fieldset")},m(s,a){p(s,e,a),C(e,l),n&&n.m(l,null),t=!0},p(s,[a]){n&&n.p&&(!t||a&4)&&q(n,i,s,s[2],t?P(i,s[2],a,null):N(s[2]),null)},i(s){t||(b(n,s),t=!0)},o(s){h(n,s),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function mt(o,e,l){let{$$slots:t={},$$scope:i}=e,{small:n=!1}=e,s=n?"govuk-checkboxes--small":"govuk-checkboxes";return o.$$set=a=>{"small"in a&&l(1,n=a.small),"$$scope"in a&&l(2,i=a.$$scope)},[s,n,i,t]}class ol extends z{constructor(e){super(),Z(this,e,mt,dt,D,{small:1})}}const _t=o=>({}),Me=o=>({});function gt(o){let e,l,t,i,n,s,a,r,f;const u=o[5].default,d=U(u,o,o[4],null),c=o[5].right,g=U(c,o,o[4],Me);return{c(){e=S("div"),l=S("input"),t=B(),i=S("label"),d&&d.c(),n=B(),s=S("span"),g&&g.c(),k(l,"type","checkbox"),k(l,"class","govuk-checkboxes__input"),k(l,"id",o[1]),k(i,"class","govuk-label govuk-checkboxes__label"),k(i,"for",o[1]),k(i,"title",o[2]),ge(s,"float","right"),k(e,"class","govuk-checkboxes__item"),k(e,"style",o[3])},m(_,y){p(_,e,y),C(e,l),l.checked=o[0],C(e,t),C(e,i),d&&d.m(i,null),C(e,n),C(e,s),g&&g.m(s,null),a=!0,r||(f=[G(l,"change",o[7]),G(l,"change",o[6])],r=!0)},p(_,[y]){(!a||y&2)&&k(l,"id",_[1]),y&1&&(l.checked=_[0]),d&&d.p&&(!a||y&16)&&q(d,u,_,_[4],a?P(u,_[4],y,null):N(_[4]),null),(!a||y&2)&&k(i,"for",_[1]),(!a||y&4)&&k(i,"title",_[2]),g&&g.p&&(!a||y&16)&&q(g,c,_,_[4],a?P(c,_[4],y,_t):N(_[4]),Me)},i(_){a||(b(d,_),b(g,_),a=!0)},o(_){h(d,_),h(g,_),a=!1},d(_){_&&v(e),d&&d.d(_),g&&g.d(_),r=!1,Ie(f)}}}function bt(o,e,l){let{$$slots:t={},$$scope:i}=e;const n=xe(t);let{id:s}=e,{checked:a}=e,{hint:r=null}=e,u=n.right!==void 0?"float: none":"";function d(g){Fe.call(this,o,g)}function c(){a=this.checked,l(0,a)}return o.$$set=g=>{"id"in g&&l(1,s=g.id),"checked"in g&&l(0,a=g.checked),"hint"in g&&l(2,r=g.hint),"$$scope"in g&&l(4,i=g.$$scope)},[a,s,r,u,i,t,d,c]}class il extends z{constructor(e){super(),Z(this,e,bt,gt,D,{id:1,checked:0,hint:2})}}function Oe(o,e,l){const t=o.slice();return t[9]=e[l][0],t[10]=e[l][1],t}function Ve(o){let e;return{c(){e=S("option"),e.__value="",be(e,e.__value)},m(l,t){p(l,e,t)},d(l){l&&v(e)}}}function ze(o){let e,l=o[10]+"",t,i;return{c(){e=S("option"),t=I(l),e.__value=i=o[9],be(e,e.__value)},m(n,s){p(n,e,s),C(e,t)},p(n,s){s&8&&l!==(l=n[10]+"")&&He(t,l),s&8&&i!==(i=n[9])&&(e.__value=i,be(e,e.__value))},d(n){n&&v(e)}}}function ht(o){let e,l,t,i,n,s,a;e=new et({props:{errorMessage:o[6]}});let r=o[4]&&Ve(),f=pe(o[3]),u=[];for(let d=0;d<f.length;d+=1)u[d]=ze(Oe(o,f,d));return{c(){M(e.$$.fragment),l=B(),t=S("select"),r&&r.c(),i=le();for(let d=0;d<u.length;d+=1)u[d].c();k(t,"class","govuk-select"),k(t,"id",o[2]),t.disabled=o[5],o[0]===void 0&&tt(()=>o[8].call(t))},m(d,c){O(e,d,c),p(d,l,c),p(d,t,c),r&&r.m(t,null),C(t,i);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(t,null);ve(t,o[0],!0),n=!0,s||(a=[G(t,"change",o[8]),G(t,"change",o[7])],s=!0)},p(d,c){const g={};if(c&64&&(g.errorMessage=d[6]),e.$set(g),d[4]?r||(r=Ve(),r.c(),r.m(t,i)):r&&(r.d(1),r=null),c&8){f=pe(d[3]);let _;for(_=0;_<f.length;_+=1){const y=Oe(d,f,_);u[_]?u[_].p(y,c):(u[_]=ze(y),u[_].c(),u[_].m(t,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=f.length}(!n||c&4)&&k(t,"id",d[2]),(!n||c&32)&&(t.disabled=d[5]),c&9&&ve(t,d[0])},i(d){n||(b(e.$$.fragment,d),n=!0)},o(d){h(e.$$.fragment,d),n=!1},d(d){d&&(v(l),v(t)),V(e,d),r&&r.d(),lt(u,d),s=!1,Ie(a)}}}function kt(o){let e,l;return e=new $e({props:{label:o[1],id:o[2],$$slots:{default:[ht]},$$scope:{ctx:o}}}),{c(){M(e.$$.fragment)},m(t,i){O(e,t,i),l=!0},p(t,[i]){const n={};i&2&&(n.label=t[1]),i&4&&(n.id=t[2]),i&8317&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){h(e.$$.fragment,t),l=!1},d(t){V(e,t)}}}function yt(o,e,l){let{label:t}=e,{id:i}=e,{choices:n}=e,{emptyOption:s=!1}=e,{disabled:a=!1}=e,{errorMessage:r=""}=e,{value:f}=e;function u(c){Fe.call(this,o,c)}function d(){f=nt(this),l(0,f),l(3,n)}return o.$$set=c=>{"label"in c&&l(1,t=c.label),"id"in c&&l(2,i=c.id),"choices"in c&&l(3,n=c.choices),"emptyOption"in c&&l(4,s=c.emptyOption),"disabled"in c&&l(5,a=c.disabled),"errorMessage"in c&&l(6,r=c.errorMessage),"value"in c&&l(0,f=c.value)},[f,t,i,n,s,a,r,u,d]}class sl extends z{constructor(e){super(),Z(this,e,yt,kt,D,{label:1,id:2,choices:3,emptyOption:4,disabled:5,errorMessage:6,value:0})}}function wt(o){let e,l,t,i,n,s,a;const r=o[3].default,f=U(r,o,o[2],null);return{c(){e=S("details"),l=S("summary"),t=S("span"),i=I(o[0]),n=B(),s=S("div"),f&&f.c(),k(t,"class","govuk-details__summary-text"),k(l,"class","govuk-details__summary"),k(s,"class","govuk-details__text"),e.open=o[1],k(e,"class","govuk-details"),k(e,"data-module","govuk-details")},m(u,d){p(u,e,d),C(e,l),C(l,t),C(t,i),C(e,n),C(e,s),f&&f.m(s,null),a=!0},p(u,[d]){(!a||d&1)&&He(i,u[0]),f&&f.p&&(!a||d&4)&&q(f,r,u,u[2],a?P(r,u[2],d,null):N(u[2]),null),(!a||d&2)&&(e.open=u[1])},i(u){a||(b(f,u),a=!0)},o(u){h(f,u),a=!1},d(u){u&&v(e),f&&f.d(u)}}}function Ct(o,e,l){let{$$slots:t={},$$scope:i}=e,{label:n}=e,{open:s=!1}=e;return o.$$set=a=>{"label"in a&&l(0,n=a.label),"open"in a&&l(1,s=a.open),"$$scope"in a&&l(2,i=a.$$scope)},[n,s,i,t]}class St extends z{constructor(e){super(),Z(this,e,Ct,wt,D,{label:0,open:1})}}const pt=o=>({}),Ze=o=>({}),vt=o=>({}),De=o=>({});function Lt(o){let e,l,t,i,n,s,a,r,f,u,d;const c=o[4].sidebar,g=U(c,o,o[3],De),_=o[4].main,y=U(_,o,o[3],Ze);return{c(){e=S("div"),l=S("aside"),t=S("div"),g&&g.c(),i=B(),n=S("button"),n.textContent="â†’",a=B(),r=S("main"),y&&y.c(),k(t,"class","sidebar-content content-container svelte-1n0etgd"),k(n,"type","button"),k(n,"class","sidebar-toggle rounded-rect svelte-1n0etgd"),k(l,"class",s=te(o[1]?"":"collapsed")+" svelte-1n0etgd"),ge(l,"--sidebarWidth",o[0]),k(r,"class","svelte-1n0etgd"),k(e,"class","overall-layout svelte-1n0etgd")},m(w,E){p(w,e,E),C(e,l),C(l,t),g&&g.m(t,null),C(l,i),C(l,n),C(e,a),C(e,r),y&&y.m(r,null),f=!0,u||(d=G(n,"click",o[2]),u=!0)},p(w,[E]){g&&g.p&&(!f||E&8)&&q(g,c,w,w[3],f?P(c,w[3],E,vt):N(w[3]),De),(!f||E&2&&s!==(s=te(w[1]?"":"collapsed")+" svelte-1n0etgd"))&&k(l,"class",s),(!f||E&1)&&ge(l,"--sidebarWidth",w[0]),y&&y.p&&(!f||E&8)&&q(y,_,w,w[3],f?P(_,w[3],E,pt):N(w[3]),Ze)},i(w){f||(b(g,w),b(y,w),f=!0)},o(w){h(g,w),h(y,w),f=!1},d(w){w&&v(e),g&&g.d(w),y&&y.d(w),u=!1,d()}}}function Et(o,e,l){let{$$slots:t={},$$scope:i}=e,{sidebarWidth:n="25rem"}=e,s=!0;function a(){l(1,s=!s)}return o.$$set=r=>{"sidebarWidth"in r&&l(0,n=r.sidebarWidth),"$$scope"in r&&l(3,i=r.$$scope)},[n,s,a,i,t]}class rl extends z{constructor(e){super(),Z(this,e,Et,Lt,D,{sidebarWidth:0})}}let Bt=Date.now();function al(o){return`${o}-${Bt++}`}const we=Symbol.for("svelte-maplibre");function J(){return ot(we)}function Mt(){let o=new WeakMap;return e=>{var n;let l=o.get(e.originalEvent);if(l!==void 0)return l;let i=(n=e.target.queryRenderedFeatures(e.point)[0])==null?void 0:n.layer.id;return o.set(e.originalEvent,i),i}}function Ot(){return Ge(we,{map:W(null),source:_e(null),layer:_e(null),popupTarget:_e(null),cluster:W(),loadedImages:W(new Set),minzoom:W(0),maxzoom:W(24),layerEvent:W(null),eventTopMost:Mt()})}function Te(o){return{subscribe:o.subscribe}}function Qe({key:o,setPopupTarget:e=!1,setCluster:l=!1,setMouseEvent:t=!1}){let i=J(),n=W(null),s=Te(n),a={...i,[o]:Te(n)};if(e&&(a.popupTarget=s),t){let r=W(null);a.layerEvent=r,i.layerEvent=r}return l&&(a.cluster=W()),Ge(we,a),{...i,self:n}}function fl(){return Qe({key:"source",setCluster:!0})}function ul(){return Qe({key:"layer",setPopupTarget:!0,setMouseEvent:!0})}function Vt(o,e,l){let t;const{map:i}=J();R(o,i,r=>l(4,t=r));let{position:n="top-left"}=e,{container:s=void 0}=e,a=null;return ne(()=>{t!=null&&t.loaded()&&a&&t.removeControl(a)}),o.$$set=r=>{"position"in r&&l(1,n=r.position),"container"in r&&l(2,s=r.container)},o.$$.update=()=>{if(o.$$.dirty&30&&t&&!a){let r;typeof s=="string"?r=document.querySelector(s)??void 0:r=s,l(3,a=new K.FullscreenControl({container:r})),t.addControl(a,n)}},[i,n,s,a,t]}class zt extends z{constructor(e){super(),Z(this,e,Vt,null,D,{position:1,container:2})}}function Zt(o,e,l){let t;const{map:i}=J();R(o,i,c=>l(8,t=c));let{position:n="top-left"}=e,{positionOptions:s=void 0}=e,{fitBoundsOptions:a=void 0}=e,{trackUserLocation:r=!1}=e,{showAccuracyCircle:f=!0}=e,{showUserLocation:u=!0}=e,d=null;return ne(()=>{t!=null&&t.loaded()&&d&&t.removeControl(d)}),o.$$set=c=>{"position"in c&&l(1,n=c.position),"positionOptions"in c&&l(2,s=c.positionOptions),"fitBoundsOptions"in c&&l(3,a=c.fitBoundsOptions),"trackUserLocation"in c&&l(4,r=c.trackUserLocation),"showAccuracyCircle"in c&&l(5,f=c.showAccuracyCircle),"showUserLocation"in c&&l(6,u=c.showUserLocation)},o.$$.update=()=>{o.$$.dirty&510&&t&&!d&&(l(7,d=new K.GeolocateControl({positionOptions:s,fitBoundsOptions:a,trackUserLocation:r,showAccuracyCircle:f,showUserLocation:u})),t.addControl(d,n))},[i,n,s,a,r,f,u,d,t]}class Dt extends z{constructor(e){super(),Z(this,e,Zt,null,D,{position:1,positionOptions:2,fitBoundsOptions:3,trackUserLocation:4,showAccuracyCircle:5,showUserLocation:6})}}var ee=Ce;function Ce(o,e){return o===e||o!==o&&e!==e?!0:typeof o!=typeof e||{}.toString.call(o)!={}.toString.call(e)||o!==Object(o)||!o?!1:Array.isArray(o)?We(o,e):{}.toString.call(o)=="[object Set]"?We(Array.from(o),Array.from(e)):{}.toString.call(o)=="[object Object]"?Wt(o,e):Tt(o,e)}function Tt(o,e){return o.toString()===e.toString()}function We(o,e){var l=o.length;if(l!=e.length)return!1;for(var t=0;t<l;t++)if(!Ce(o[t],e[t]))return!1;return!0}function Wt(o,e){var l=Object.keys(o),t=l.length;if(t!=Object.keys(e).length)return!1;for(var i=0;i<t;i++){var n=l[i];if(!(e.hasOwnProperty(n)&&Ce(o[n],e[n])))return!1}return!0}function Ut(o,e,l){let t;const{map:i}=J();R(o,i,u=>l(6,t=u));let{position:n="top-left"}=e,{showCompass:s=!0}=e,{showZoom:a=!0}=e,{visualizePitch:r=!1}=e,f=null;return ne(()=>{t!=null&&t.loaded()&&f&&t.removeControl(f)}),o.$$set=u=>{"position"in u&&l(1,n=u.position),"showCompass"in u&&l(2,s=u.showCompass),"showZoom"in u&&l(3,a=u.showZoom),"visualizePitch"in u&&l(4,r=u.visualizePitch)},o.$$.update=()=>{o.$$.dirty&126&&t&&!f&&(l(5,f=new K.NavigationControl({showCompass:s,showZoom:a,visualizePitch:r})),t.addControl(f,n))},[i,n,s,a,r,f,t]}class qt extends z{constructor(e){super(),Z(this,e,Ut,null,D,{position:1,showCompass:2,showZoom:3,visualizePitch:4})}}function Nt(o,e,l){let t;const{map:i}=J();R(o,i,f=>l(5,t=f));let{position:n="bottom-left"}=e,{maxWidth:s=void 0}=e,{unit:a="metric"}=e,r=null;return ne(()=>{t!=null&&t.loaded()&&r&&t.removeControl(r)}),o.$$set=f=>{"position"in f&&l(1,n=f.position),"maxWidth"in f&&l(2,s=f.maxWidth),"unit"in f&&l(3,a=f.unit)},o.$$.update=()=>{o.$$.dirty&62&&t&&!r&&(l(4,r=new K.ScaleControl({maxWidth:s,unit:a})),t.addControl(r,n))},[i,n,s,a,r,t]}class Pt extends z{constructor(e){super(),Z(this,e,Nt,null,D,{position:1,maxWidth:2,unit:3})}}const Rt=o=>({map:o[0]&8,loadedImages:o[0]&16,allImagesLoaded:o[0]&32}),Ue=o=>({map:o[3],loadedImages:o[4],allImagesLoaded:o[5]});function qe(o){let e,l,t=o[2]&&Ne(o);const i=o[30].default,n=U(i,o,o[29],Ue);return{c(){t&&t.c(),e=B(),n&&n.c()},m(s,a){t&&t.m(s,a),p(s,e,a),n&&n.m(s,a),l=!0},p(s,a){s[2]?t?(t.p(s,a),a[0]&4&&b(t,1)):(t=Ne(s),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(A(),h(t,1,1,()=>{t=null}),j()),n&&n.p&&(!l||a[0]&536870968)&&q(n,i,s,s[29],l?P(i,s[29],a,Rt):N(s[29]),Ue)},i(s){l||(b(t),b(n,s),l=!0)},o(s){h(t),h(n,s),l=!1},d(s){s&&v(e),t&&t.d(s),n&&n.d(s)}}}function Ne(o){let e,l,t,i,n,s,a,r;return e=new qt({props:{position:o[6]}}),t=new Dt({props:{position:o[6],fitBoundsOptions:{maxZoom:12}}}),n=new zt({props:{position:o[6]}}),a=new Pt({props:{position:o[6]}}),{c(){M(e.$$.fragment),l=B(),M(t.$$.fragment),i=B(),M(n.$$.fragment),s=B(),M(a.$$.fragment)},m(f,u){O(e,f,u),p(f,l,u),O(t,f,u),p(f,i,u),O(n,f,u),p(f,s,u),O(a,f,u),r=!0},p(f,u){const d={};u[0]&64&&(d.position=f[6]),e.$set(d);const c={};u[0]&64&&(c.position=f[6]),t.$set(c);const g={};u[0]&64&&(g.position=f[6]),n.$set(g);const _={};u[0]&64&&(_.position=f[6]),a.$set(_)},i(f){r||(b(e.$$.fragment,f),b(t.$$.fragment,f),b(n.$$.fragment,f),b(a.$$.fragment,f),r=!0)},o(f){h(e.$$.fragment,f),h(t.$$.fragment,f),h(n.$$.fragment,f),h(a.$$.fragment,f),r=!1},d(f){f&&(v(l),v(i),v(s)),V(e,f),V(t,f),V(n,f),V(a,f)}}}function At(o){let e,l,t,i,n,s=o[3]&&o[0]&&qe(o);return{c(){e=S("div"),s&&s.c(),k(e,"class",l=te(o[1])+" svelte-p00lfq"),Le(e,"expand-map",!o[1])},m(a,r){p(a,e,r),s&&s.m(e,null),t=!0,i||(n=it(o[9].call(null,e)),i=!0)},p(a,r){a[3]&&a[0]?s?(s.p(a,r),r[0]&9&&b(s,1)):(s=qe(a),s.c(),b(s,1),s.m(e,null)):s&&(A(),h(s,1,1,()=>{s=null}),j()),(!t||r[0]&2&&l!==(l=te(a[1])+" svelte-p00lfq"))&&k(e,"class",l),(!t||r[0]&2)&&Le(e,"expand-map",!a[1])},i(a){t||(b(s),t=!0)},o(a){h(s),t=!1},d(a){a&&v(e),s&&s.d(),i=!1,n()}}}function jt(o,e,l){let t,i,n,s,{$$slots:a={},$$scope:r}=e,{map:f=null}=e,{class:u=void 0}=e,{style:d}=e,{diffStyleUpdates:c=!1}=e,{center:g=[0,0]}=e,{zoom:_=1}=e,{pitch:y=0}=e,{bearing:w=0}=e,{bounds:E=void 0}=e,{loaded:F=!1}=e,{minZoom:oe=0}=e,{maxZoom:ie=22}=e,{zoomOnDoubleClick:se=!0}=e,{interactive:re=!0}=e,{attributionControl:ae=!0}=e,{preserveDrawingBuffer:fe=!1}=e,{maxBounds:ue=void 0}=e,{images:Q=[]}=e,{standardControls:X=!1}=e,{filterLayers:Y=void 0}=e,{transformRequest:ce=void 0}=e;const T=st(),{map:x,loadedImages:$}=Ot();R(o,x,m=>l(3,n=m)),R(o,$,m=>l(4,s=m));let de=new Set;function Xe(m){n!=null&&n.loaded()&&("url"in m?(de.add(m.id),n.loadImage(m.url,(L,H)=>{de.delete(m.id),L?T("error",L):H&&(n==null||n.addImage(m.id,H,m.options),s.add(m.id),$.set(s))})):(n.addImage(m.id,m.data,m.options),s.add(m.id),$.set(s)))}function Ye(m){return Ee(x,n=new K.Map({container:m,style:d,center:g,zoom:_,pitch:y,bearing:w,minZoom:oe,maxZoom:ie,interactive:re,preserveDrawingBuffer:fe,maxBounds:ue,bounds:E,attributionControl:ae,transformRequest:ce}),n),n.on("load",L=>{l(0,F=!0),T("load",n)}),n.on("error",L=>T("error",{...L,map:n})),n.on("movestart",L=>T("movestart",{...L,map:n})),n.on("moveend",L=>{l(10,g=L.target.getCenter()),l(11,_=L.target.getZoom()),l(12,E=L.target.getBounds()),T("moveend",{...L,map:n})}),n.on("zoomstart",L=>T("zoomstart",{...L,map:n})),n.on("zoom",L=>{l(11,_=L.target.getZoom()),T("zoom",{...L,map:n})}),n.on("zoomend",L=>{l(11,_=L.target.getZoom()),T("zoomend",{...L,map:n})}),n.on("styledata",L=>{if(n&&Y){const H=n.getStyle().layers;if(H)for(let Se of H)Y(Se)||n.setLayoutProperty(Se.id,"visibility","none")}T("styledata",{...L,map:n})}),{destroy(){l(0,F=!1),n==null||n.remove(),Ee(x,n=null,n)}}}let me=d;return o.$$set=m=>{"map"in m&&l(13,f=m.map),"class"in m&&l(1,u=m.class),"style"in m&&l(14,d=m.style),"diffStyleUpdates"in m&&l(15,c=m.diffStyleUpdates),"center"in m&&l(10,g=m.center),"zoom"in m&&l(11,_=m.zoom),"pitch"in m&&l(16,y=m.pitch),"bearing"in m&&l(17,w=m.bearing),"bounds"in m&&l(12,E=m.bounds),"loaded"in m&&l(0,F=m.loaded),"minZoom"in m&&l(18,oe=m.minZoom),"maxZoom"in m&&l(19,ie=m.maxZoom),"zoomOnDoubleClick"in m&&l(20,se=m.zoomOnDoubleClick),"interactive"in m&&l(21,re=m.interactive),"attributionControl"in m&&l(22,ae=m.attributionControl),"preserveDrawingBuffer"in m&&l(23,fe=m.preserveDrawingBuffer),"maxBounds"in m&&l(24,ue=m.maxBounds),"images"in m&&l(25,Q=m.images),"standardControls"in m&&l(2,X=m.standardControls),"filterLayers"in m&&l(26,Y=m.filterLayers),"transformRequest"in m&&l(27,ce=m.transformRequest),"$$scope"in m&&l(29,r=m.$$scope)},o.$$.update=()=>{if(o.$$.dirty[0]&4&&l(6,t=typeof X=="boolean"?void 0:X),o.$$.dirty[0]&8&&l(13,f=n),o.$$.dirty[0]&33554441&&F&&n!=null&&n.loaded())for(let m of Q)!de.has(m.id)&&!n.hasImage(m.id)&&Xe(m);o.$$.dirty[0]&33554448&&l(5,i=Q.every(m=>s.has(m.id))),o.$$.dirty[0]&268484616&&n&&!ee(d,me)&&(l(28,me=d),n.setStyle(d,{diff:c})),o.$$.dirty[0]&1032&&g&&!ee(g,n==null?void 0:n.getCenter())&&(n==null||n.panTo(g)),o.$$.dirty[0]&2056&&_&&!ee(_,n==null?void 0:n.getZoom())&&(n==null||n.zoomTo(_)),o.$$.dirty[0]&4104&&E&&!ee(E,n==null?void 0:n.getBounds())&&(n==null||n.fitBounds(E)),o.$$.dirty[0]&1048584&&(se?n==null||n.doubleClickZoom.enable():n==null||n.doubleClickZoom.disable())},[F,u,X,n,s,i,t,x,$,Ye,g,_,E,f,d,c,y,w,oe,ie,se,re,ae,fe,ue,Q,Y,ce,me,r,a]}class It extends z{constructor(e){super(),Z(this,e,jt,At,D,{map:13,class:1,style:14,diffStyleUpdates:15,center:10,zoom:11,pitch:16,bearing:17,bounds:12,loaded:0,minZoom:18,maxZoom:19,zoomOnDoubleClick:20,interactive:21,attributionControl:22,preserveDrawingBuffer:23,maxBounds:24,images:25,standardControls:2,filterLayers:26,transformRequest:27},null,[-1,-1])}}function Pe(o){let e,l,t,i;function n(r){o[6](r)}function s(r){o[7](r)}let a={style:o[3],standardControls:!0,bounds:o[0],$$slots:{default:[Ft]},$$scope:{ctx:o}};return o[2]!==void 0&&(a.loaded=o[2]),o[1]!==void 0&&(a.map=o[1]),e=new It({props:a}),he.push(()=>ke(e,"loaded",n)),he.push(()=>ke(e,"map",s)),{c(){M(e.$$.fragment)},m(r,f){O(e,r,f),i=!0},p(r,f){const u={};f&8&&(u.style=r[3]),f&1&&(u.bounds=r[0]),f&260&&(u.$$scope={dirty:f,ctx:r}),!l&&f&4&&(l=!0,u.loaded=r[2],ye(()=>l=!1)),!t&&f&2&&(t=!0,u.map=r[1],ye(()=>t=!1)),e.$set(u)},i(r){i||(b(e.$$.fragment,r),i=!0)},o(r){h(e.$$.fragment,r),i=!1},d(r){V(e,r)}}}function Re(o){let e;const l=o[5].default,t=U(l,o,o[8],null);return{c(){t&&t.c()},m(i,n){t&&t.m(i,n),e=!0},p(i,n){t&&t.p&&(!e||n&256)&&q(t,l,i,i[8],e?P(l,i[8],n,null):N(i[8]),null)},i(i){e||(b(t,i),e=!0)},o(i){h(t,i),e=!1},d(i){t&&t.d(i)}}}function Ft(o){let e,l,t=o[2]&&Re(o);return{c(){t&&t.c(),e=le()},m(i,n){t&&t.m(i,n),p(i,e,n),l=!0},p(i,n){i[2]?t?(t.p(i,n),n&4&&b(t,1)):(t=Re(i),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(A(),h(t,1,1,()=>{t=null}),j())},i(i){l||(b(t),l=!0)},o(i){h(t),l=!1},d(i){i&&v(e),t&&t.d(i)}}}function Ht(o){let e,l,t=o[3]&&Pe(o);return{c(){e=S("div"),t&&t.c(),k(e,"class","map svelte-12dpf1u")},m(i,n){p(i,e,n),t&&t.m(e,null),l=!0},p(i,[n]){i[3]?t?(t.p(i,n),n&8&&b(t,1)):(t=Pe(i),t.c(),b(t,1),t.m(e,null)):t&&(A(),h(t,1,1,()=>{t=null}),j())},i(i){l||(b(t),l=!0)},o(i){h(t),l=!1},d(i){i&&v(e),t&&t.d()}}}function Gt(o,e,l){let{$$slots:t={},$$scope:i}=e,{style:n}=e,{startBounds:s=null}=e,a=null,r,f=!1;rt(async()=>{l(3,a=await at(n))});function u(c){f=c,l(2,f)}function d(c){r=c,l(1,r)}return o.$$set=c=>{"style"in c&&l(4,n=c.style),"startBounds"in c&&l(0,s=c.startBounds),"$$scope"in c&&l(8,i=c.$$scope)},o.$$.update=()=>{o.$$.dirty&6&&f&&Ke.set(r)},[s,r,f,a,n,t,u,d,i]}class cl extends z{constructor(e){super(),Z(this,e,Gt,Ht,D,{style:4,startBounds:0})}}const Kt={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black",streetview:"blue"},dl=10,ml=10,Jt="/atip/svelte_maplibre_v2/assets/camera_cursor-824d29b6.svg";function Ae(o){let e,l,t,i;const n=[Xt,Qt],s=[];function a(r,f){return r[0]?0:1}return e=a(o),l=s[e]=n[e](o),{c(){l.c(),t=le()},m(r,f){s[e].m(r,f),p(r,t,f),i=!0},p(r,f){let u=e;e=a(r),e===u?s[e].p(r,f):(A(),h(s[u],1,1,()=>{s[u]=null}),j(),l=s[e],l?l.p(r,f):(l=s[e]=n[e](r),l.c()),b(l,1),l.m(t.parentNode,t))},i(r){i||(b(l),i=!0)},o(r){h(l),i=!1},d(r){r&&v(t),s[e].d(r)}}}function Qt(o){let e,l;return e=new Je({props:{$$slots:{default:[Yt]},$$scope:{ctx:o}}}),e.$on("click",o[3]),{c(){M(e.$$.fragment)},m(t,i){O(e,t,i),l=!0},p(t,i){const n={};i&512&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){h(e.$$.fragment,t),l=!1},d(t){V(e,t)}}}function Xt(o){let e,l;return e=new Je({props:{$$slots:{default:[xt]},$$scope:{ctx:o}}}),e.$on("click",o[2]),{c(){M(e.$$.fragment)},m(t,i){O(e,t,i),l=!0},p(t,i){const n={};i&512&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){h(e.$$.fragment,t),l=!1},d(t){V(e,t)}}}function Yt(o){let e;return{c(){e=I("Disable Street View")},m(l,t){p(l,e,t)},d(l){l&&v(e)}}}function xt(o){let e;return{c(){e=I("Enable Street View")},m(l,t){p(l,e,t)},d(l){l&&v(e)}}}function je(o){let e,l,t,i,n;function s(r){o[6](r)}let a={legend:"Source",id:"streetViewImagery",choices:[["google","Google Street View"],["bing","Bing Streetside"]]};return o[4].streetViewImagery!==void 0&&(a.value=o[4].streetViewImagery),e=new ft({props:a}),he.push(()=>ke(e,"value",s)),i=new St({props:{label:"Help",$$slots:{default:[el]},$$scope:{ctx:o}}}),{c(){M(e.$$.fragment),t=B(),M(i.$$.fragment)},m(r,f){O(e,r,f),p(r,t,f),O(i,r,f),n=!0},p(r,f){const u={};!l&&f&16&&(l=!0,u.value=r[4].streetViewImagery,ye(()=>l=!1)),e.$set(u);const d={};f&512&&(d.$$scope={dirty:f,ctx:r}),i.$set(d)},i(r){n||(b(e.$$.fragment,r),b(i.$$.fragment,r),n=!0)},o(r){h(e.$$.fragment,r),h(i.$$.fragment,r),n=!1},d(r){r&&v(t),V(e,r),V(i,r)}}}function $t(o){let e;return{c(){e=I("Luc Chaissac")},m(l,t){p(l,e,t)},d(l){l&&v(e)}}}function el(o){let e,l,t,i,n,s,a,r,f;return r=new ut({props:{href:"https://icon-icons.com/icon/screenshot-cursor-camera/100181",$$slots:{default:[$t]},$$scope:{ctx:o}}}),{c(){e=S("ul"),l=S("li"),l.innerHTML=`<b>Click</b>
        on the map to open a new tab with a 3rd-party imagery provider`,t=B(),i=S("li"),i.innerHTML=`Press <b>Escape</b>
        to exit this mode`,n=B(),s=S("li"),a=I("Cursor by "),M(r.$$.fragment)},m(u,d){p(u,e,d),C(e,l),C(e,t),C(e,i),C(e,n),C(e,s),C(s,a),O(r,s,null),f=!0},p(u,d){const c={};d&512&&(c.$$scope={dirty:d,ctx:u}),r.$set(c)},i(u){f||(b(r.$$.fragment,u),f=!0)},o(u){h(r.$$.fragment,u),f=!1},d(u){u&&v(e),V(r)}}}function tl(o){let e,l,t,i=o[1]&&Ae(o),n=!o[0]&&je(o);return{c(){i&&i.c(),e=B(),n&&n.c(),l=le()},m(s,a){i&&i.m(s,a),p(s,e,a),n&&n.m(s,a),p(s,l,a),t=!0},p(s,[a]){s[1]?i?(i.p(s,a),a&2&&b(i,1)):(i=Ae(s),i.c(),b(i,1),i.m(e.parentNode,e)):i&&(A(),h(i,1,1,()=>{i=null}),j()),s[0]?n&&(A(),h(n,1,1,()=>{n=null}),j()):n?(n.p(s,a),a&1&&b(n,1)):(n=je(s),n.c(),b(n,1),n.m(l.parentNode,l))},i(s){t||(b(i),b(n),t=!0)},o(s){h(i),h(n),t=!1},d(s){s&&(v(e),v(l)),i&&i.d(s),n&&n.d(s)}}}function ll(o,e,l){let t,i;R(o,Ke,c=>l(8,t=c)),R(o,Be,c=>l(4,i=c));let{displayEnableButton:n}=e,{isInactive:s}=e,a=[];function r(c){if(s)return;let g=c.lngLat.lng,_=c.lngLat.lat;i.streetViewImagery=="google"?window.open(`http://maps.google.com/maps?q=&layer=c&cbll=${_},${g}&cbp=11,0,0,0,0`,"_blank"):i.streetViewImagery=="bing"&&window.open(`https://www.bing.com/maps?cp=${_}~${g}&style=x`,"_blank")}function f(){l(0,s=!1),t.on("click",r),t.getCanvas().style.cursor=`url(${Jt}), auto`,a=ct();for(let c of a)c.setProperty(t,"line-color",Kt.streetview)}function u(){l(0,s=!0),t.off("click",r),t.getCanvas().style.cursor="inherit";for(let c of a)c.returnToDefaultPaintValues(t)}function d(c){o.$$.not_equal(i.streetViewImagery,c)&&(i.streetViewImagery=c,Be.set(i))}return o.$$set=c=>{"displayEnableButton"in c&&l(1,n=c.displayEnableButton),"isInactive"in c&&l(0,s=c.isInactive)},[s,n,f,u,i,r,d]}class _l extends z{constructor(e){super(),Z(this,e,ll,tl,D,{displayEnableButton:1,isInactive:0,handleMapClickEvent:5,enableStreetView:2,disableStreetView:3})}get handleMapClickEvent(){return this.$$.ctx[5]}get enableStreetView(){return this.$$.ctx[2]}get disableStreetView(){return this.$$.ctx[3]}}export{St as C,rl as L,cl as M,_l as S,dl as a,ol as b,Kt as c,il as d,sl as e,fl as f,al as g,ml as l,J as m,ul as u};
