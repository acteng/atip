import{S as j,i as K,s as Q,aL as de,e as p,h as u,j as B,k as v,aM as me,aN as _e,aO as he,t as T,n as S,o as R,d as A,ap as je,w as F,aF as Se,b7 as qt,b0 as se,F as Zt,g as q,m as Z,p as D,E as Dt,aC as Ae,a0 as Ie,aG as Nt,bc as et,aD as jt,bd as Kt,v as Le,u as $,C as we,be as Qt,b as Ue,c as Ke,l as Qe,q as Ve,aS as tt,aJ as ge,H as G,aK as fe,D as Y,bf as We,bg as Jt,as as ue,at as ce,bh as Xt,a3 as Yt,aP as xt,aQ as $t,B as kt,r as el,bi as tl,aV as ll,a5 as Pe,bj as nl,bk as il,a$ as sl,aU as rl,ar as lt,R as al,aT as ol,bl as fl,a as vt}from"./index-df641f5c.js";function ul(l){let e,t,n;const i=l[3].default,r=de(i,l,l[2],null);return{c(){e=p("fieldset"),t=p("div"),r&&r.c(),u(t,"class",l[0]),u(t,"data-module","govuk-checkboxes"),u(e,"class","govuk-fieldset")},m(s,a){B(s,e,a),v(e,t),r&&r.m(t,null),n=!0},p(s,[a]){r&&r.p&&(!n||a&4)&&me(r,i,s,s[2],n?he(i,s[2],a,null):_e(s[2]),null)},i(s){n||(T(r,s),n=!0)},o(s){S(r,s),n=!1},d(s){s&&R(e),r&&r.d(s)}}}function cl(l,e,t){let{$$slots:n={},$$scope:i}=e,{small:r=!1}=e,s=r?"govuk-checkboxes--small":"govuk-checkboxes";return l.$$set=a=>{"small"in a&&t(1,r=a.small),"$$scope"in a&&t(2,i=a.$$scope)},[s,r,i,n]}class yn extends j{constructor(e){super(),K(this,e,cl,ul,Q,{small:1})}}const dl=l=>({}),nt=l=>({});function ml(l){let e,t,n,i,r,s,a,o,f;const d=l[5].default,_=de(d,l,l[4],null),m=l[5].right,g=de(m,l,l[4],nt);return{c(){e=p("div"),t=p("input"),n=A(),i=p("label"),_&&_.c(),r=A(),s=p("span"),g&&g.c(),u(t,"type","checkbox"),u(t,"class","govuk-checkboxes__input"),u(t,"id",l[1]),u(i,"class","govuk-label govuk-checkboxes__label"),u(i,"for",l[1]),u(i,"title",l[2]),je(s,"float","right"),u(e,"class","govuk-checkboxes__item"),u(e,"style",l[3])},m(y,w){B(y,e,w),v(e,t),t.checked=l[0],v(e,n),v(e,i),_&&_.m(i,null),v(e,r),v(e,s),g&&g.m(s,null),a=!0,o||(f=[F(t,"change",l[7]),F(t,"change",l[6])],o=!0)},p(y,[w]){(!a||w&2)&&u(t,"id",y[1]),w&1&&(t.checked=y[0]),_&&_.p&&(!a||w&16)&&me(_,d,y,y[4],a?he(d,y[4],w,null):_e(y[4]),null),(!a||w&2)&&u(i,"for",y[1]),(!a||w&4)&&u(i,"title",y[2]),g&&g.p&&(!a||w&16)&&me(g,m,y,y[4],a?he(m,y[4],w,dl):_e(y[4]),nt)},i(y){a||(T(_,y),T(g,y),a=!0)},o(y){S(_,y),S(g,y),a=!1},d(y){y&&R(e),_&&_.d(y),g&&g.d(y),o=!1,Se(f)}}}function _l(l,e,t){let{$$slots:n={},$$scope:i}=e;const r=qt(n);let{id:s}=e,{checked:a}=e,{hint:o=null}=e,d=r.right!==void 0?"float: none":"";function _(g){se.call(this,l,g)}function m(){a=this.checked,t(0,a)}return l.$$set=g=>{"id"in g&&t(1,s=g.id),"checked"in g&&t(0,a=g.checked),"hint"in g&&t(2,o=g.hint),"$$scope"in g&&t(4,i=g.$$scope)},[a,s,o,d,i,n,_,m]}class kn extends j{constructor(e){super(),K(this,e,_l,ml,Q,{id:1,checked:0,hint:2})}}function it(l,e,t){const n=l.slice();return n[9]=e[t][0],n[10]=e[t][1],n}function st(l){let e;return{c(){e=p("option"),e.__value="",Le(e,e.__value)},m(t,n){B(t,e,n)},d(t){t&&R(e)}}}function rt(l){let e,t=l[10]+"",n,i;return{c(){e=p("option"),n=$(t),e.__value=i=l[9],Le(e,e.__value)},m(r,s){B(r,e,s),v(e,n)},p(r,s){s&8&&t!==(t=r[10]+"")&&we(n,t),s&8&&i!==(i=r[9])&&(e.__value=i,Le(e,e.__value))},d(r){r&&R(e)}}}function hl(l){let e,t,n,i,r,s,a;e=new Dt({props:{errorMessage:l[6]}});let o=l[4]&&st(),f=Ae(l[3]),d=[];for(let _=0;_<f.length;_+=1)d[_]=rt(it(l,f,_));return{c(){q(e.$$.fragment),t=A(),n=p("select"),o&&o.c(),i=Ie();for(let _=0;_<d.length;_+=1)d[_].c();u(n,"class","govuk-select"),u(n,"id",l[2]),n.disabled=l[5],l[0]===void 0&&Nt(()=>l[8].call(n))},m(_,m){Z(e,_,m),B(_,t,m),B(_,n,m),o&&o.m(n,null),v(n,i);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(n,null);et(n,l[0],!0),r=!0,s||(a=[F(n,"change",l[8]),F(n,"change",l[7])],s=!0)},p(_,m){const g={};if(m&64&&(g.errorMessage=_[6]),e.$set(g),_[4]?o||(o=st(),o.c(),o.m(n,i)):o&&(o.d(1),o=null),m&8){f=Ae(_[3]);let y;for(y=0;y<f.length;y+=1){const w=it(_,f,y);d[y]?d[y].p(w,m):(d[y]=rt(w),d[y].c(),d[y].m(n,null))}for(;y<d.length;y+=1)d[y].d(1);d.length=f.length}(!r||m&4)&&u(n,"id",_[2]),(!r||m&32)&&(n.disabled=_[5]),m&9&&et(n,_[0])},i(_){r||(T(e.$$.fragment,_),r=!0)},o(_){S(e.$$.fragment,_),r=!1},d(_){_&&(R(t),R(n)),D(e,_),o&&o.d(),jt(d,_),s=!1,Se(a)}}}function gl(l){let e,t;return e=new Zt({props:{label:l[1],id:l[2],$$slots:{default:[hl]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},m(n,i){Z(e,n,i),t=!0},p(n,[i]){const r={};i&2&&(r.label=n[1]),i&4&&(r.id=n[2]),i&8317&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function bl(l,e,t){let{label:n}=e,{id:i}=e,{choices:r}=e,{emptyOption:s=!1}=e,{disabled:a=!1}=e,{errorMessage:o=""}=e,{value:f}=e;function d(m){se.call(this,l,m)}function _(){f=Kt(this),t(0,f),t(3,r)}return l.$$set=m=>{"label"in m&&t(1,n=m.label),"id"in m&&t(2,i=m.id),"choices"in m&&t(3,r=m.choices),"emptyOption"in m&&t(4,s=m.emptyOption),"disabled"in m&&t(5,a=m.disabled),"errorMessage"in m&&t(6,o=m.errorMessage),"value"in m&&t(0,f=m.value)},[f,n,i,r,s,a,o,d,_]}class yl extends j{constructor(e){super(),K(this,e,bl,gl,Q,{label:1,id:2,choices:3,emptyOption:4,disabled:5,errorMessage:6,value:0})}}function kl(l){let e,t,n;function i(s){l[2](s)}let r={label:"Basemap",id:"basemap",choices:Qt(),disabled:l[0]};return l[1]!==void 0&&(r.value=l[1]),e=new yl({props:r}),Ue.push(()=>Ke(e,"value",i)),{c(){q(e.$$.fragment)},m(s,a){Z(e,s,a),n=!0},p(s,[a]){const o={};a&1&&(o.disabled=s[0]),!t&&a&2&&(t=!0,o.value=s[1],Qe(()=>t=!1)),e.$set(o)},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function vl(l,e,t){let n;Ve(l,tt,s=>t(1,n=s));let{disabled:i=!1}=e;function r(s){n=s,tt.set(n)}return l.$$set=s=>{"disabled"in s&&t(0,i=s.disabled)},[i,n,r]}class vn extends j{constructor(e){super(),K(this,e,vl,kl,Q,{disabled:0})}}function wl(l){let e,t,n,i,r,s,a;const o=l[3].default,f=de(o,l,l[2],null);return{c(){e=p("details"),t=p("summary"),n=p("span"),i=$(l[0]),r=A(),s=p("div"),f&&f.c(),u(n,"class","govuk-details__summary-text"),u(t,"class","govuk-details__summary"),u(s,"class","govuk-details__text"),e.open=l[1],u(e,"class","govuk-details"),u(e,"data-module","govuk-details")},m(d,_){B(d,e,_),v(e,t),v(t,n),v(n,i),v(e,r),v(e,s),f&&f.m(s,null),a=!0},p(d,[_]){(!a||_&1)&&we(i,d[0]),f&&f.p&&(!a||_&4)&&me(f,o,d,d[2],a?he(o,d[2],_,null):_e(d[2]),null),(!a||_&2)&&(e.open=d[1])},i(d){a||(T(f,d),a=!0)},o(d){S(f,d),a=!1},d(d){d&&R(e),f&&f.d(d)}}}function Ml(l,e,t){let{$$slots:n={},$$scope:i}=e,{label:r}=e,{open:s=!1}=e;return l.$$set=a=>{"label"in a&&t(0,r=a.label),"open"in a&&t(1,s=a.open),"$$scope"in a&&t(2,i=a.$$scope)},[r,s,i,n]}class pl extends j{constructor(e){super(),K(this,e,Ml,wl,Q,{label:0,open:1})}}function Tl(l){let e,t;return{c(){e=ge("svg"),t=ge("path"),u(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),u(e,"viewBox","0 0 60.006 21.412"),u(e,"width","14"),u(e,"height","20"),u(e,"class","svelte-en2qvf")},m(n,i){B(n,e,i),v(e,t)},p:G,i:G,o:G,d(n){n&&R(e)}}}class Cl extends j{constructor(e){super(),K(this,e,null,Tl,Q,{})}}function Ll(l){let e,t;return{c(){e=p("img"),Y(e.src,t=l[3]+"area.svg")||u(e,"src",t),u(e,"alt",l[6]),u(e,"class","svelte-ltkwvy")},m(n,i){B(n,e,i)},p(n,i){i&8&&!Y(e.src,t=n[3]+"area.svg")&&u(e,"src",t),i&64&&u(e,"alt",n[6])},d(n){n&&R(e)}}}function Sl(l){let e,t;return{c(){e=p("img"),Y(e.src,t=l[3]+"poi.svg")||u(e,"src",t),u(e,"alt",l[6]),u(e,"class","svelte-ltkwvy")},m(n,i){B(n,e,i)},p(n,i){i&8&&!Y(e.src,t=n[3]+"poi.svg")&&u(e,"src",t),i&64&&u(e,"alt",n[6])},d(n){n&&R(e)}}}function Il(l){let e,t;return{c(){e=p("img"),Y(e.src,t=l[3]+"postal_code.svg")||u(e,"src",t),u(e,"alt",l[6]),u(e,"class","svelte-ltkwvy")},m(n,i){B(n,e,i)},p(n,i){i&8&&!Y(e.src,t=n[3]+"postal_code.svg")&&u(e,"src",t),i&64&&u(e,"alt",n[6])},d(n){n&&R(e)}}}function Bl(l){let e,t;return{c(){e=p("img"),Y(e.src,t=l[3]+"street.svg")||u(e,"src",t),u(e,"alt",l[6]),u(e,"class","svelte-ltkwvy")},m(n,i){B(n,e,i)},p(n,i){i&8&&!Y(e.src,t=n[3]+"street.svg")&&u(e,"src",t),i&64&&u(e,"alt",n[6])},d(n){n&&R(e)}}}function Rl(l){let e,t;return{c(){e=p("img"),Y(e.src,t=l[3]+"road.svg")||u(e,"src",t),u(e,"alt",l[6]),u(e,"class","svelte-ltkwvy")},m(n,i){B(n,e,i)},p(n,i){i&8&&!Y(e.src,t=n[3]+"road.svg")&&u(e,"src",t),i&64&&u(e,"alt",n[6])},d(n){n&&R(e)}}}function zl(l){let e,t;return{c(){e=p("img"),Y(e.src,t=l[3]+"housenumber.svg")||u(e,"src",t),u(e,"alt",l[6]),u(e,"class","svelte-ltkwvy")},m(n,i){B(n,e,i)},p(n,i){i&8&&!Y(e.src,t=n[3]+"housenumber.svg")&&u(e,"src",t),i&64&&u(e,"alt",n[6])},d(n){n&&R(e)}}}function El(l){let e,t,n,i;return{c(){e=p("img"),Y(e.src,t=l[5])||u(e,"src",t),u(e,"alt",l[4]),u(e,"class","svelte-ltkwvy")},m(r,s){B(r,e,s),n||(i=F(e,"error",l[12]),n=!0)},p(r,s){s&32&&!Y(e.src,t=r[5])&&u(e,"src",t),s&16&&u(e,"alt",r[4])},d(r){r&&R(e),n=!1,i()}}}function at(l){let e,t;return{c(){e=p("span"),t=$(l[6]),u(e,"class","secondary svelte-ltkwvy")},m(n,i){B(n,e,i),v(e,t)},p(n,i){i&64&&we(t,n[6])},d(n){n&&R(e)}}}function Pl(l){var ee,H;let e,t,n,i,r,s,a,o,f=l[0].place_name.replace(/,.*/,"")+"",d,_,m=l[2]==="always"||l[2]&&!l[0].address&&((ee=l[0].properties)==null?void 0:ee.kind)!=="road"&&((H=l[0].properties)==null?void 0:H.kind)!=="road_relation"&&!l[0].id.startsWith("address.")&&!l[0].id.startsWith("postal_code.")&&(!l[0].id.startsWith("poi.")||!l[5]),g,y,w=l[0].place_name.replace(/[^,]*,?\s*/,"")+"",M,E,C;function O(L,h){var te,b;return h&1&&(t=null),h&1&&(n=null),h&1&&(i=null),L[5]?El:L[0].address?zl:((te=L[0].properties)==null?void 0:te.kind)==="road"||((b=L[0].properties)==null?void 0:b.kind)==="road_relation"?Rl:(t==null&&(t=!!L[0].id.startsWith("address.")),t?Bl:(n==null&&(n=!!L[0].id.startsWith("postal_code.")),n?Il:(i==null&&(i=!!L[0].id.startsWith("poi.")),i?Sl:Ll)))}let N=O(l,-1),k=N(l),I=m&&at(l);return{c(){e=p("li"),k.c(),r=A(),s=p("span"),a=p("span"),o=p("span"),d=$(f),_=A(),I&&I.c(),g=A(),y=p("span"),M=$(w),u(o,"class","primary svelte-ltkwvy"),u(a,"class","svelte-ltkwvy"),u(y,"class","line2 svelte-ltkwvy"),u(s,"class","texts svelte-ltkwvy"),u(e,"tabindex","0"),u(e,"data-selected",l[1]),u(e,"class","svelte-ltkwvy"),fe(e,"selected",l[1])},m(L,h){B(L,e,h),k.m(e,null),v(e,r),v(e,s),v(s,a),v(a,o),v(o,d),v(a,_),I&&I.m(a,null),v(s,g),v(s,y),v(y,M),E||(C=[F(e,"mouseenter",l[10]),F(e,"focus",l[11])],E=!0)},p(L,[h]){var te,b;N===(N=O(L,h))&&k?k.p(L,h):(k.d(1),k=N(L),k&&(k.c(),k.m(e,r))),h&1&&f!==(f=L[0].place_name.replace(/,.*/,"")+"")&&we(d,f),h&37&&(m=L[2]==="always"||L[2]&&!L[0].address&&((te=L[0].properties)==null?void 0:te.kind)!=="road"&&((b=L[0].properties)==null?void 0:b.kind)!=="road_relation"&&!L[0].id.startsWith("address.")&&!L[0].id.startsWith("postal_code.")&&(!L[0].id.startsWith("poi.")||!L[5])),m?I?I.p(L,h):(I=at(L),I.c(),I.m(a,null)):I&&(I.d(1),I=null),h&1&&w!==(w=L[0].place_name.replace(/[^,]*,?\s*/,"")+"")&&we(M,w),h&2&&u(e,"data-selected",L[1]),h&2&&fe(e,"selected",L[1])},i:G,o:G,d(L){L&&R(e),k.d(),I&&I.d(),E=!1,Se(C)}}}function Al(l,e,t){var E;let n,i,{feature:r}=e,{selected:s=!1}=e,{showPlaceType:a}=e,{missingIconsCache:o}=e,{iconsBaseUrl:f}=e;const d=(E=r.properties)==null?void 0:E.categories;let _,m;function g(C){m&&o.add(m),t(9,n--,n)}function y(C){se.call(this,l,C)}function w(C){se.call(this,l,C)}const M=C=>g(C.currentTarget);return l.$$set=C=>{"feature"in C&&t(0,r=C.feature),"selected"in C&&t(1,s=C.selected),"showPlaceType"in C&&t(2,a=C.showPlaceType),"missingIconsCache"in C&&t(8,o=C.missingIconsCache),"iconsBaseUrl"in C&&t(3,f=C.iconsBaseUrl)},l.$$.update=()=>{var C,O,N,k;if(l.$$.dirty&824)do t(9,n--,n),t(4,_=d==null?void 0:d[n]),t(5,m=_?f+_.replace(/ /g,"_")+".svg":void 0);while(n>-1&&(!m||o.has(m)));l.$$.dirty&1&&t(6,i=r.id.startsWith("poi.")?(O=(C=r.properties)==null?void 0:C.categories)==null?void 0:O.join(", "):((k=(N=r.properties)==null?void 0:N.place_type_name)==null?void 0:k[0])??r.place_type[0])},t(9,n=(d==null?void 0:d.length)??0),[r,s,a,f,_,m,i,g,o,n,y,w,M]}class Vl extends j{constructor(e){super(),K(this,e,Al,Pl,Q,{feature:0,selected:1,showPlaceType:2,missingIconsCache:8,iconsBaseUrl:3})}}function Wl(l){let e;return{c(){e=p("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',u(e,"class","svelte-7cmwmc")},m(t,n){B(t,e,n)},p:G,i:G,o:G,d(t){t&&R(e)}}}class Ul extends j{constructor(e){super(),K(this,e,null,Wl,Q,{})}}function Fl(l){let e,t;return{c(){e=ge("svg"),t=ge("path"),u(t,"d","M13.101 14.261 8.74 9.899a4.797 4.797 0 0 1-1.425.748 5.165 5.165 0 0 1-1.603.248c-1.446 0-2.677-.5-3.693-1.503S.495 7.164.495 5.717c0-1.446.508-2.678 1.524-3.693C3.035 1.008 4.266.5 5.712.5c1.448 0 2.672.508 3.675 1.524 1.002 1.015 1.503 2.247 1.503 3.693 0 .558-.08 1.092-.239 1.603-.159.512-.411.98-.757 1.405l4.382 4.4a.74.74 0 0 1 .229.568.81.81 0 0 1-.249.568.787.787 0 0 1-.577.239.787.787 0 0 1-.578-.239ZM5.712 9.223c.97 0 1.796-.342 2.48-1.026a3.378 3.378 0 0 0 1.026-2.48c0-.982-.34-1.818-1.016-2.509-.677-.69-1.507-1.035-2.49-1.035a3.42 3.42 0 0 0-2.509 1.035 3.42 3.42 0 0 0-1.035 2.51c0 .982.345 1.812 1.035 2.488.691.678 1.527 1.017 2.51 1.017Z"),u(e,"width","14"),u(e,"height","14"),u(e,"viewBox","0 0 15 15"),u(e,"class","svelte-en2qvf")},m(n,i){B(n,e,i),v(e,t)},p:G,i:G,o:G,d(n){n&&R(e)}}}class Gl extends j{constructor(e){super(),K(this,e,null,Fl,Q,{})}}function Hl(l){let e,t;return{c(){e=ge("svg"),t=ge("path"),u(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),u(e,"viewBox","0 0 14 14"),u(e,"width","13"),u(e,"height","13"),u(e,"class","svelte-en2qvf")},m(n,i){B(n,e,i),v(e,t)},p:G,i:G,o:G,d(n){n&&R(e)}}}class wt extends j{constructor(e){super(),K(this,e,null,Hl,Q,{})}}function Ol(l){let e,t;return{c(){e=ge("svg"),t=ge("path"),u(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),u(e,"viewBox","0 0 30 30"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","svelte-d2loi5")},m(n,i){B(n,e,i),v(e,t)},p:G,i:G,o:G,d(n){n&&R(e)}}}class Mt extends j{constructor(e){super(),K(this,e,null,Ol,Q,{})}}function ot(l,e,t){const n=l.slice();return n[75]=e[t],n[77]=t,n}function ft(l){let e,t;return e=new Ul({}),{c(){q(e.$$.fragment)},m(n,i){Z(e,n,i),t=!0},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function ut(l){let e,t,n,i,r;return t=new Cl({}),{c(){e=p("button"),q(t.$$.fragment),u(e,"type","button"),u(e,"title",l[9]),u(e,"class","svelte-1r7dvt7"),fe(e,"active",l[0])},m(s,a){B(s,e,a),Z(t,e,null),n=!0,i||(r=F(e,"click",l[61]),i=!0)},p(s,a){(!n||a[0]&512)&&u(e,"title",s[9]),(!n||a[0]&1)&&fe(e,"active",s[0])},i(s){n||(T(t.$$.fragment,s),n=!0)},o(s){S(t.$$.fragment,s),n=!1},d(s){s&&R(e),D(t),i=!1,r()}}}function ql(l){let e,t=[],n=new Map,i,r,s,a=Ae(l[13]);const o=f=>f[75].id+(f[75].address?","+f[75].address:"");for(let f=0;f<a.length;f+=1){let d=ot(l,a,f),_=o(d);n.set(_,t[f]=ct(_,d))}return{c(){e=p("ul");for(let f=0;f<t.length;f+=1)t[f].c();u(e,"class","svelte-1r7dvt7")},m(f,d){B(f,e,d);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);i=!0,r||(s=[F(e,"mouseleave",l[65]),F(e,"blur",l[66])],r=!0)},p(f,d){d[0]&8940544&&(a=Ae(f[13]),ue(),t=xt(t,d,o,1,f,a,n,e,$t,ct,null,ot),ce())},i(f){if(!i){for(let d=0;d<a.length;d+=1)T(t[d]);i=!0}},o(f){for(let d=0;d<t.length;d+=1)S(t[d]);i=!1},d(f){f&&R(e);for(let d=0;d<t.length;d+=1)t[d].d();r=!1,Se(s)}}}function Zl(l){let e,t,n,i,r,s;return t=new Mt({}),{c(){e=p("div"),q(t.$$.fragment),n=A(),i=p("div"),r=$(l[7]),u(i,"class","svelte-1r7dvt7"),u(e,"class","no-results svelte-1r7dvt7")},m(a,o){B(a,e,o),Z(t,e,null),v(e,n),v(e,i),v(i,r),s=!0},p(a,o){(!s||o[0]&128)&&we(r,a[7])},i(a){s||(T(t.$$.fragment,a),s=!0)},o(a){S(t.$$.fragment,a),s=!1},d(a){a&&R(e),D(t)}}}function Dl(l){let e="",t;return{c(){t=$(e)},m(n,i){B(n,t,i)},p:G,i:G,o:G,d(n){n&&R(t)}}}function Nl(l){let e,t,n,i,r,s,a,o,f,d,_;return t=new Mt({}),o=new wt({}),{c(){e=p("div"),q(t.$$.fragment),n=A(),i=p("div"),r=$(l[6]),s=A(),a=p("button"),q(o.$$.fragment),u(i,"class","svelte-1r7dvt7"),u(a,"class","svelte-1r7dvt7"),u(e,"class","error svelte-1r7dvt7")},m(m,g){B(m,e,g),Z(t,e,null),v(e,n),v(e,i),v(i,r),v(e,s),v(e,a),Z(o,a,null),f=!0,d||(_=F(a,"click",l[62]),d=!0)},p(m,g){(!f||g[0]&64)&&we(r,m[6])},i(m){f||(T(t.$$.fragment,m),T(o.$$.fragment,m),f=!0)},o(m){S(t.$$.fragment,m),S(o.$$.fragment,m),f=!1},d(m){m&&R(e),D(t),D(o),d=!1,_()}}}function ct(l,e){let t,n,i;function r(){return e[63](e[77])}function s(){return e[64](e[75])}return n=new Vl({props:{feature:e[75],showPlaceType:e[10],selected:e[14]===e[77],missingIconsCache:e[19],iconsBaseUrl:e[11]}}),n.$on("mouseenter",r),n.$on("focus",s),{key:l,first:null,c(){t=Ie(),q(n.$$.fragment),this.first=t},m(a,o){B(a,t,o),Z(n,a,o),i=!0},p(a,o){e=a;const f={};o[0]&8192&&(f.feature=e[75]),o[0]&1024&&(f.showPlaceType=e[10]),o[0]&24576&&(f.selected=e[14]===e[77]),o[0]&2048&&(f.iconsBaseUrl=e[11]),n.$set(f)},i(a){i||(T(n.$$.fragment,a),i=!0)},o(a){S(n.$$.fragment,a),i=!1},d(a){a&&R(t),D(n,a)}}}function jl(l){let e,t,n,i,r,s,a,o,f,d,_,m,g,y,w,M,E,C,O,N;i=new Gl({}),d=new wt({});let k=l[18]&&ft(),I=l[5]===!0&&ut(l);const ee=l[53].default,H=de(ee,l,l[52],null),L=[Nl,Dl,Zl,ql],h=[];function te(b,V){var re,be;return b[17]?0:b[15]?((re=b[13])==null?void 0:re.length)===0?2:b[15]&&((be=b[13])!=null&&be.length)?3:-1:1}return~(w=te(l))&&(M=h[w]=L[w](l)),{c(){e=p("form"),t=p("div"),n=p("button"),q(i.$$.fragment),r=A(),s=p("input"),a=A(),o=p("div"),f=p("button"),q(d.$$.fragment),_=A(),k&&k.c(),m=A(),I&&I.c(),g=A(),H&&H.c(),y=A(),M&&M.c(),u(n,"class","search-button svelte-1r7dvt7"),u(n,"type","button"),u(s,"placeholder",l[8]),u(s,"aria-label",l[8]),u(s,"class","svelte-1r7dvt7"),u(f,"type","button"),u(f,"title",l[3]),u(f,"class","svelte-1r7dvt7"),u(o,"class","clear-button-container svelte-1r7dvt7"),fe(o,"displayable",l[1]!==""),u(t,"class","input-group svelte-1r7dvt7"),u(e,"tabindex","0"),u(e,"class",E=We(l[2])+" svelte-1r7dvt7"),fe(e,"can-collapse",l[4]&&l[1]==="")},m(b,V){B(b,e,V),v(e,t),v(t,n),Z(i,n,null),v(t,r),v(t,s),l[55](s),Le(s,l[1]),v(t,a),v(t,o),v(o,f),Z(d,f,null),v(o,_),k&&k.m(o,null),v(t,m),I&&I.m(t,null),v(t,g),H&&H.m(t,null),v(e,y),~w&&h[w].m(e,null),C=!0,O||(N=[F(n,"click",l[54]),F(s,"input",l[56]),F(s,"focus",l[57]),F(s,"blur",l[58]),F(s,"keydown",l[21]),F(s,"input",l[59]),F(f,"click",l[60]),F(e,"submit",Jt(l[20]))],O=!0)},p(b,V){(!C||V[0]&256)&&u(s,"placeholder",b[8]),(!C||V[0]&256)&&u(s,"aria-label",b[8]),V[0]&2&&s.value!==b[1]&&Le(s,b[1]),(!C||V[0]&8)&&u(f,"title",b[3]),b[18]?k?V[0]&262144&&T(k,1):(k=ft(),k.c(),T(k,1),k.m(o,null)):k&&(ue(),S(k,1,1,()=>{k=null}),ce()),(!C||V[0]&2)&&fe(o,"displayable",b[1]!==""),b[5]===!0?I?(I.p(b,V),V[0]&32&&T(I,1)):(I=ut(b),I.c(),T(I,1),I.m(t,g)):I&&(ue(),S(I,1,1,()=>{I=null}),ce()),H&&H.p&&(!C||V[1]&2097152)&&me(H,ee,b,b[52],C?he(ee,b[52],V,null):_e(b[52]),null);let re=w;w=te(b),w===re?~w&&h[w].p(b,V):(M&&(ue(),S(h[re],1,1,()=>{h[re]=null}),ce()),~w?(M=h[w],M?M.p(b,V):(M=h[w]=L[w](b),M.c()),T(M,1),M.m(e,null)):M=null),(!C||V[0]&4&&E!==(E=We(b[2])+" svelte-1r7dvt7"))&&u(e,"class",E),(!C||V[0]&22)&&fe(e,"can-collapse",b[4]&&b[1]==="")},i(b){C||(T(i.$$.fragment,b),T(d.$$.fragment,b),T(k),T(I),T(H,b),T(M),C=!0)},o(b){S(i.$$.fragment,b),S(d.$$.fragment,b),S(k),S(I),S(H,b),S(M),C=!1},d(b){b&&R(e),D(i),l[55](null),D(d),k&&k.d(),I&&I.d(),H&&H.d(b),~w&&h[w].d(),O=!1,Se(N)}}}function Kl(l,e,t){const n=e[1],i=e[0],r=n-i;return l===n&&t?l:((l-i)%r+r)%r+i}function dt(l){let e=[...l];return e[2]<e[0]&&(e[2]+=360),e}function Ql(l,e,t){let n,{$$slots:i={},$$scope:r}=e,{class:s=void 0}=e,{apiKey:a}=e,{bbox:o=void 0}=e,{clearButtonTitle:f="clear"}=e,{clearOnBlur:d=!1}=e,{collapsed:_=!1}=e,{country:m=void 0}=e,{debounceSearch:g=200}=e,{enableReverse:y=!1}=e,{errorMessage:w="Something went wrong…"}=e,{filter:M=()=>!0}=e,{flyTo:E=!0}=e,{fuzzyMatch:C=!0}=e,{language:O=void 0}=e,{limit:N=void 0}=e,{mapController:k=void 0}=e,{minLength:I=2}=e,{noResultsMessage:ee="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:H="Search"}=e,{proximity:L=void 0}=e,{reverseActive:h=y==="always"}=e,{reverseButtonTitle:te="toggle reverse geocoding"}=e,{searchValue:b=""}=e,{showFullGeometry:V=!0}=e,{showPlaceType:re="ifNeeded"}=e,{showResultsWhileTyping:be=!0}=e,{trackProximity:Be=!0}=e,{types:ye=void 0}=e,{zoom:Re=16}=e,{maxZoom:Ce=18}=e,{apiUrl:Fe="https://api.maptiler.com/geocoding"}=e,{fetchParameters:Ge={}}=e,{iconsBaseUrl:Je="https://cdn.maptiler.com/maptiler-geocoding-control/v0.0.99/icons/"}=e;function pt(){le.focus()}function Tt(){le.blur()}function Xe(c,U=!0){t(1,b=c),U?(t(14,W=-1),xe()):(qe(),setTimeout(()=>{le.focus(),le.select()}))}let Me=!1,P,J,z,Ye="",le,W=-1,ne,ze=[],ke,pe,Ee,He;const Ct=new Set,ae=Xt();Yt(()=>{k&&(k.setEventHandler(void 0),k.indicateReverse(!1),k.setSelectedMarker(-1),k.setMarkers(void 0,void 0))});function xe(c){if(pe&&(clearTimeout(pe),pe=void 0),W>-1&&P)t(49,z=P[W]),t(1,b=z.place_name.replace(/,.*/,"")),t(17,ne=void 0),t(48,J=void 0),t(14,W=-1);else if(b){const U=c||!$e();Oe(b,{exact:!0}).then(()=>{t(48,J=P),t(49,z=void 0),U&&Lt()}).catch(ie=>t(17,ne=ie))}}function $e(){return/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/.test(b)}async function Oe(c,{byId:U=!1,exact:ie=!1}={}){t(17,ne=void 0);const Te=$e(),x=new URLSearchParams;O!=null&&x.set("language",Array.isArray(O)?O.join(","):O),ye&&x.set("types",ye.join(",")),Te||(o&&x.set("bbox",o.map(oe=>oe.toFixed(6)).join(",")),m&&x.set("country",Array.isArray(m)?m.join(","):m)),U||(L&&x.set("proximity",L.map(oe=>oe.toFixed(6)).join(",")),(ie||!be)&&x.set("autocomplete","false"),x.set("fuzzyMatch",String(C))),N!==void 0&&(!Te||(ye==null?void 0:ye.length)===1)&&x.set("limit",String(N)),x.set("key",a);const ve=Fe+"/"+encodeURIComponent(c)+".json?"+x.toString();if(ve===Ye){U?(t(13,P=void 0),t(49,z=ze[0])):t(13,P=ze);return}Ye=ve,ke==null||ke.abort();const X=new AbortController;t(18,ke=X);let De;try{De=await fetch(ve,{signal:X.signal,...Ge}).finally(()=>{X===ke&&t(18,ke=void 0)})}catch(oe){if(oe&&typeof oe=="object"&&"name"in oe&&oe.name==="AbortError")return;throw new Error}if(!De.ok)throw new Error;const Ne=await De.json();ae("response",{url:ve,featureCollection:Ne}),U?(t(13,P=void 0),t(49,z=Ne.features[0]),ze=[z]):(t(13,P=Ne.features.filter(M)),ze=P,Te&&le.focus())}function Lt(){var ie,Te,x,ve;if(!(J!=null&&J.length)||!E)return;const c=[180,90,-180,-90],U=!J.some(X=>!X.matching_text);for(const X of J)(U||!X.matching_text)&&(c[0]=Math.min(c[0],((ie=X.bbox)==null?void 0:ie[0])??X.center[0]),c[1]=Math.min(c[1],((Te=X.bbox)==null?void 0:Te[1])??X.center[1]),c[2]=Math.max(c[2],((x=X.bbox)==null?void 0:x[2])??X.center[0]),c[3]=Math.max(c[3],((ve=X.bbox)==null?void 0:ve[3])??X.center[1]));k&&J.length>0&&(z&&c[0]===c[2]&&c[1]===c[3]?k.flyTo(z.center,Re):k.fitBounds(dt(c),50,Ce))}function St(c){t(0,h=y==="always"),Xe(Kl(c[0],[-180,180],!0).toFixed(6)+","+c[1].toFixed(6))}function It(c){if(!P)return;let U=c.key==="ArrowDown"?1:c.key==="ArrowUp"?-1:0;U?(W===-1&&U===-1&&t(14,W=P.length),t(14,W+=U),W>=P.length&&t(14,W=-1),c.preventDefault()):["ArrowLeft","ArrowRight","Home","End"].includes(c.key)&&t(14,W=-1)}function qe(c=!0){if(t(17,ne=void 0),be){if(pe&&clearTimeout(pe),b.length<I)return;const U=b;pe=window.setTimeout(()=>{Oe(U).catch(ie=>t(17,ne=ie))},c?g:0)}else t(13,P=void 0),t(17,ne=void 0)}function Ze(c){t(49,z=c),t(1,b=c.place_name),t(14,W=-1)}const Bt=()=>le.focus();function Rt(c){Ue[c?"unshift":"push"](()=>{le=c,t(16,le)})}function zt(){b=this.value,t(1,b),t(12,Me),t(27,d)}const Et=()=>t(12,Me=!0),Pt=()=>t(12,Me=!1),At=()=>qe(),Vt=()=>{t(1,b=""),le.focus()},Wt=()=>t(0,h=!h),Ut=()=>t(17,ne=void 0),Ft=c=>t(14,W=c),Gt=c=>Ze(c),Ht=()=>t(14,W=-1),Ot=()=>{};return l.$$set=c=>{"class"in c&&t(2,s=c.class),"apiKey"in c&&t(25,a=c.apiKey),"bbox"in c&&t(26,o=c.bbox),"clearButtonTitle"in c&&t(3,f=c.clearButtonTitle),"clearOnBlur"in c&&t(27,d=c.clearOnBlur),"collapsed"in c&&t(4,_=c.collapsed),"country"in c&&t(28,m=c.country),"debounceSearch"in c&&t(29,g=c.debounceSearch),"enableReverse"in c&&t(5,y=c.enableReverse),"errorMessage"in c&&t(6,w=c.errorMessage),"filter"in c&&t(30,M=c.filter),"flyTo"in c&&t(31,E=c.flyTo),"fuzzyMatch"in c&&t(32,C=c.fuzzyMatch),"language"in c&&t(33,O=c.language),"limit"in c&&t(34,N=c.limit),"mapController"in c&&t(35,k=c.mapController),"minLength"in c&&t(36,I=c.minLength),"noResultsMessage"in c&&t(7,ee=c.noResultsMessage),"placeholder"in c&&t(8,H=c.placeholder),"proximity"in c&&t(24,L=c.proximity),"reverseActive"in c&&t(0,h=c.reverseActive),"reverseButtonTitle"in c&&t(9,te=c.reverseButtonTitle),"searchValue"in c&&t(1,b=c.searchValue),"showFullGeometry"in c&&t(37,V=c.showFullGeometry),"showPlaceType"in c&&t(10,re=c.showPlaceType),"showResultsWhileTyping"in c&&t(38,be=c.showResultsWhileTyping),"trackProximity"in c&&t(39,Be=c.trackProximity),"types"in c&&t(40,ye=c.types),"zoom"in c&&t(41,Re=c.zoom),"maxZoom"in c&&t(42,Ce=c.maxZoom),"apiUrl"in c&&t(43,Fe=c.apiUrl),"fetchParameters"in c&&t(44,Ge=c.fetchParameters),"iconsBaseUrl"in c&&t(11,Je=c.iconsBaseUrl),"$$scope"in c&&t(52,r=c.$$scope)},l.$$.update=()=>{if(l.$$.dirty[1]&256&&(Be||t(24,L=void 0)),l.$$.dirty[0]&134221824&&setTimeout(()=>{t(15,Ee=Me),d&&!Me&&t(1,b="")}),l.$$.dirty[0]&8194|l.$$.dirty[1]&32&&b.length<I&&(t(49,z=void 0),t(13,P=void 0),t(17,ne=void 0),t(48,J=P)),l.$$.dirty[1]&262208&&V&&z&&!z.address&&z.geometry.type==="Point"&&Oe(z.id,{byId:!0}).catch(c=>t(17,ne=c)),l.$$.dirty[1]&789521&&(k&&z&&z.id!==He&&E&&(!z.bbox||z.bbox[0]===z.bbox[2]&&z.bbox[1]===z.bbox[3]?k.flyTo(z.center,z.id.startsWith("poi.")||z.id.startsWith("address.")?Ce:Re):k.fitBounds(dt(z.bbox),50,Ce),t(13,P=void 0),t(48,J=void 0),t(14,W=-1)),t(50,He=z==null?void 0:z.id)),l.$$.dirty[0]&8192|l.$$.dirty[1]&131072&&J!==P&&t(48,J=void 0),l.$$.dirty[1]&393232&&k&&k.setMarkers(J,z),l.$$.dirty[0]&2&&t(14,W=-1),l.$$.dirty[0]&40961|l.$$.dirty[1]&272&&k&&k.setEventHandler(c=>{switch(c.type){case"mapClick":h&&St(c.coordinates);break;case"proximityChange":t(24,L=Be?c.proximity:void 0);break;case"markerClick":{const U=P==null?void 0:P.find(ie=>ie.id===c.id);U&&Ze(U)}break;case"markerMouseEnter":t(14,W=Ee?(P==null?void 0:P.findIndex(U=>U.id===c.id))??-1:-1);break;case"markerMouseLeave":t(14,W=-1);break}}),l.$$.dirty[0]&16384|l.$$.dirty[1]&16&&(k==null||k.setSelectedMarker(W)),l.$$.dirty[0]&24576&&t(51,n=P==null?void 0:P[W]),l.$$.dirty[0]&2|l.$$.dirty[1]&16){const c=/^(-?\d+(?:\.\d*)?),(-?\d+(?:\.\d*)?)$/.exec(b);k==null||k.setReverseMarker(c?[Number(c[1]),Number(c[2])]:void 0)}l.$$.dirty[1]&1048576&&ae("select",n),l.$$.dirty[1]&262144&&ae("pick",z),l.$$.dirty[0]&40960&&ae("optionsVisibilityChange",Ee&&!!P),l.$$.dirty[0]&8192&&ae("featuresListed",P),l.$$.dirty[1]&131072&&ae("featuresMarked",J),l.$$.dirty[0]&1&&ae("reverseToggle",h),l.$$.dirty[0]&2&&ae("queryChange",b),l.$$.dirty[0]&1|l.$$.dirty[1]&16&&k&&k.indicateReverse(h)},[h,b,s,f,_,y,w,ee,H,te,re,Je,Me,P,W,Ee,le,ne,ke,Ct,xe,It,qe,Ze,L,a,o,d,m,g,M,E,C,O,N,k,I,V,be,Be,ye,Re,Ce,Fe,Ge,pt,Tt,Xe,J,z,He,n,r,i,Bt,Rt,zt,Et,Pt,At,Vt,Wt,Ut,Ft,Gt,Ht,Ot]}class Jl extends j{constructor(e){super(),K(this,e,Ql,jl,Q,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:24,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:37,showPlaceType:10,showResultsWhileTyping:38,trackProximity:39,types:40,zoom:41,maxZoom:42,apiUrl:43,fetchParameters:44,iconsBaseUrl:11,focus:45,blur:46,setQuery:47},null,[-1,-1,-1])}get focus(){return this.$$.ctx[45]}get blur(){return this.$$.ctx[46]}get setQuery(){return this.$$.ctx[47]}}function mt(l){let e,t,n;return t=new Jl({props:{mapController:l[0],apiKey:"MZEJTanw3WpxRvt7qDfo",country:"gb"}}),{c(){e=p("div"),q(t.$$.fragment),u(e,"class","svelte-ixhnie")},m(i,r){B(i,e,r),Z(t,e,null),n=!0},p(i,r){const s={};r&1&&(s.mapController=i[0]),t.$set(s)},i(i){n||(T(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){i&&R(e),D(t)}}}function Xl(l){let e,t,n=l[0]&&mt(l);return{c(){n&&n.c(),e=Ie()},m(i,r){n&&n.m(i,r),B(i,e,r),t=!0},p(i,[r]){i[0]?n?(n.p(i,r),r&1&&T(n,1)):(n=mt(i),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(ue(),S(n,1,1,()=>{n=null}),ce())},i(i){t||(T(n),t=!0)},o(i){S(n),t=!1},d(i){i&&R(e),n&&n.d(i)}}}function Yl(l,e,t){let n;Ve(l,kt,r=>t(1,n=r));let i;return el(()=>{t(0,i=tl(n,ll))}),[i]}class wn extends j{constructor(e){super(),K(this,e,Yl,Xl,Q,{})}}const xl=l=>({}),_t=l=>({}),$l=l=>({}),ht=l=>({});function en(l){let e,t,n,i,r,s,a,o,f,d,_;const m=l[4].sidebar,g=de(m,l,l[3],ht),y=l[4].main,w=de(y,l,l[3],_t);return{c(){e=p("div"),t=p("aside"),n=p("div"),g&&g.c(),i=A(),r=p("button"),r.textContent="→",a=A(),o=p("main"),w&&w.c(),u(n,"class","sidebar-content content-container svelte-1n0etgd"),u(r,"type","button"),u(r,"class","sidebar-toggle rounded-rect svelte-1n0etgd"),u(t,"class",s=We(l[1]?"":"collapsed")+" svelte-1n0etgd"),je(t,"--sidebarWidth",l[0]),u(o,"class","svelte-1n0etgd"),u(e,"class","overall-layout svelte-1n0etgd")},m(M,E){B(M,e,E),v(e,t),v(t,n),g&&g.m(n,null),v(t,i),v(t,r),v(e,a),v(e,o),w&&w.m(o,null),f=!0,d||(_=F(r,"click",l[2]),d=!0)},p(M,[E]){g&&g.p&&(!f||E&8)&&me(g,m,M,M[3],f?he(m,M[3],E,$l):_e(M[3]),ht),(!f||E&2&&s!==(s=We(M[1]?"":"collapsed")+" svelte-1n0etgd"))&&u(t,"class",s),(!f||E&1)&&je(t,"--sidebarWidth",M[0]),w&&w.p&&(!f||E&8)&&me(w,y,M,M[3],f?he(y,M[3],E,xl):_e(M[3]),_t)},i(M){f||(T(g,M),T(w,M),f=!0)},o(M){S(g,M),S(w,M),f=!1},d(M){M&&R(e),g&&g.d(M),w&&w.d(M),d=!1,_()}}}function tn(l,e,t){let{$$slots:n={},$$scope:i}=e,{sidebarWidth:r="25rem"}=e,s=!0;function a(){t(1,s=!s)}return l.$$set=o=>{"sidebarWidth"in o&&t(0,r=o.sidebarWidth),"$$scope"in o&&t(3,i=o.$$scope)},[r,s,a,i,n]}class Mn extends j{constructor(e){super(),K(this,e,tn,en,Q,{sidebarWidth:0})}}function gt(l){if(!l)throw new Error("coord is required");if(!Array.isArray(l)){if(l.type==="Feature"&&l.geometry!==null&&l.geometry.type==="Point")return l.geometry.coordinates;if(l.type==="Point")return l.coordinates}if(Array.isArray(l)&&l.length>=2&&!Array.isArray(l[0])&&!Array.isArray(l[1]))return l;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function pn(l){if(Array.isArray(l))return l;if(l.type==="Feature"){if(l.geometry!==null)return l.geometry.coordinates}else if(l.coordinates)return l.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Tn(l,e){return l.type==="FeatureCollection"?"FeatureCollection":l.type==="GeometryCollection"?"GeometryCollection":l.type==="Feature"&&l.geometry!==null?l.geometry.type:l.type}function ln(l,e,t){t===void 0&&(t={});var n=gt(l),i=gt(e),r=Pe(i[1]-n[1]),s=Pe(i[0]-n[0]),a=Pe(n[1]),o=Pe(i[1]),f=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(o);return nl(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),t.units)}function Cn(l,e){return e===void 0&&(e={}),il(l,function(t,n){var i=n.geometry.coordinates;return t+ln(i[0],i[1],e)},0)}const nn={area:"#D94324",route:"#555F5E",crossing:"#4daf4a",other:"#984ea3",preapp:"#e41a1c",outline:"#377eb8","reserved matters":"#4daf4a","local plan":"#984ea3",hovering:"black",lineEndpointColor:"black",streetview:"blue",measuringLine:"cyan"},Ln=10,Sn=10;function sn(l){let e;const t=l[14].default,n=de(t,l,l[22],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&4194304)&&me(n,t,i,i[22],e?he(t,i[22],r,null):_e(i[22]),null)},i(i){e||(T(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function rn(l){let e,t,n;function i(s){l[15](s)}let r={id:l[1],type:"line",source:l[2],sourceLayer:l[3],beforeId:l[4],beforeLayerType:l[5],paint:l[6],layout:l[7],filter:l[8],minzoom:l[9],maxzoom:l[10],hoverCursor:l[11],manageHoverState:l[12],eventsIfTopMost:l[13],$$slots:{default:[sn]},$$scope:{ctx:l}};return l[0]!==void 0&&(r.hovered=l[0]),e=new sl({props:r}),Ue.push(()=>Ke(e,"hovered",i)),e.$on("click",l[16]),e.$on("dblclick",l[17]),e.$on("contextmenu",l[18]),e.$on("mouseenter",l[19]),e.$on("mousemove",l[20]),e.$on("mouseleave",l[21]),{c(){q(e.$$.fragment)},m(s,a){Z(e,s,a),n=!0},p(s,[a]){const o={};a&2&&(o.id=s[1]),a&4&&(o.source=s[2]),a&8&&(o.sourceLayer=s[3]),a&16&&(o.beforeId=s[4]),a&32&&(o.beforeLayerType=s[5]),a&64&&(o.paint=s[6]),a&128&&(o.layout=s[7]),a&256&&(o.filter=s[8]),a&512&&(o.minzoom=s[9]),a&1024&&(o.maxzoom=s[10]),a&2048&&(o.hoverCursor=s[11]),a&4096&&(o.manageHoverState=s[12]),a&8192&&(o.eventsIfTopMost=s[13]),a&4194304&&(o.$$scope={dirty:a,ctx:s}),!t&&a&1&&(t=!0,o.hovered=s[0],Qe(()=>t=!1)),e.$set(o)},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function an(l,e,t){let{$$slots:n={},$$scope:i}=e,{id:r=rl("line")}=e,{source:s=void 0}=e,{sourceLayer:a=void 0}=e,{beforeId:o=void 0}=e,{beforeLayerType:f=void 0}=e,{paint:d}=e,{layout:_=void 0}=e,{filter:m=void 0}=e,{minzoom:g=void 0}=e,{maxzoom:y=void 0}=e,{hoverCursor:w=void 0}=e,{manageHoverState:M=!1}=e,{hovered:E=null}=e,{eventsIfTopMost:C=!1}=e;function O(h){E=h,t(0,E)}function N(h){se.call(this,l,h)}function k(h){se.call(this,l,h)}function I(h){se.call(this,l,h)}function ee(h){se.call(this,l,h)}function H(h){se.call(this,l,h)}function L(h){se.call(this,l,h)}return l.$$set=h=>{"id"in h&&t(1,r=h.id),"source"in h&&t(2,s=h.source),"sourceLayer"in h&&t(3,a=h.sourceLayer),"beforeId"in h&&t(4,o=h.beforeId),"beforeLayerType"in h&&t(5,f=h.beforeLayerType),"paint"in h&&t(6,d=h.paint),"layout"in h&&t(7,_=h.layout),"filter"in h&&t(8,m=h.filter),"minzoom"in h&&t(9,g=h.minzoom),"maxzoom"in h&&t(10,y=h.maxzoom),"hoverCursor"in h&&t(11,w=h.hoverCursor),"manageHoverState"in h&&t(12,M=h.manageHoverState),"hovered"in h&&t(0,E=h.hovered),"eventsIfTopMost"in h&&t(13,C=h.eventsIfTopMost),"$$scope"in h&&t(22,i=h.$$scope)},[E,r,s,a,o,f,d,_,m,g,y,w,M,C,n,O,N,k,I,ee,H,L,i]}class In extends j{constructor(e){super(),K(this,e,an,rn,Q,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13})}}const on="/atip/update-boundaries/assets/camera_cursor-824d29b6.svg";function bt(l){let e,t,n,i;const r=[un,fn],s=[];function a(o,f){return o[0]?0:1}return e=a(l),t=s[e]=r[e](l),{c(){t.c(),n=Ie()},m(o,f){s[e].m(o,f),B(o,n,f),i=!0},p(o,f){let d=e;e=a(o),e===d?s[e].p(o,f):(ue(),S(s[d],1,1,()=>{s[d]=null}),ce(),t=s[e],t?t.p(o,f):(t=s[e]=r[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){i||(T(t),i=!0)},o(o){S(t),i=!1},d(o){o&&R(n),s[e].d(o)}}}function fn(l){let e,t;return e=new vt({props:{$$slots:{default:[cn]},$$scope:{ctx:l}}}),e.$on("click",l[3]),{c(){q(e.$$.fragment)},m(n,i){Z(e,n,i),t=!0},p(n,i){const r={};i&512&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function un(l){let e,t;return e=new vt({props:{$$slots:{default:[dn]},$$scope:{ctx:l}}}),e.$on("click",l[2]),{c(){q(e.$$.fragment)},m(n,i){Z(e,n,i),t=!0},p(n,i){const r={};i&512&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function cn(l){let e;return{c(){e=$("Disable Street View")},m(t,n){B(t,e,n)},d(t){t&&R(e)}}}function dn(l){let e;return{c(){e=$("Enable Street View")},m(t,n){B(t,e,n)},d(t){t&&R(e)}}}function yt(l){let e,t,n,i,r;function s(o){l[6](o)}let a={legend:"Source",id:"streetViewImagery",choices:[["google","Google Street View"],["bing","Bing Streetside"]]};return l[4].streetViewImagery!==void 0&&(a.value=l[4].streetViewImagery),e=new al({props:a}),Ue.push(()=>Ke(e,"value",s)),i=new pl({props:{label:"Help",$$slots:{default:[_n]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment),n=A(),q(i.$$.fragment)},m(o,f){Z(e,o,f),B(o,n,f),Z(i,o,f),r=!0},p(o,f){const d={};!t&&f&16&&(t=!0,d.value=o[4].streetViewImagery,Qe(()=>t=!1)),e.$set(d);const _={};f&512&&(_.$$scope={dirty:f,ctx:o}),i.$set(_)},i(o){r||(T(e.$$.fragment,o),T(i.$$.fragment,o),r=!0)},o(o){S(e.$$.fragment,o),S(i.$$.fragment,o),r=!1},d(o){o&&R(n),D(e,o),D(i,o)}}}function mn(l){let e;return{c(){e=$("Luc Chaissac")},m(t,n){B(t,e,n)},d(t){t&&R(e)}}}function _n(l){let e,t,n,i,r,s,a,o,f;return o=new ol({props:{href:"https://icon-icons.com/icon/screenshot-cursor-camera/100181",$$slots:{default:[mn]},$$scope:{ctx:l}}}),{c(){e=p("ul"),t=p("li"),t.innerHTML=`<b>Click</b>
        on the map to open a new tab with a 3rd-party imagery provider`,n=A(),i=p("li"),i.innerHTML=`Press <b>Escape</b>
        to exit this mode`,r=A(),s=p("li"),a=$("Cursor by "),q(o.$$.fragment)},m(d,_){B(d,e,_),v(e,t),v(e,n),v(e,i),v(e,r),v(e,s),v(s,a),Z(o,s,null),f=!0},p(d,_){const m={};_&512&&(m.$$scope={dirty:_,ctx:d}),o.$set(m)},i(d){f||(T(o.$$.fragment,d),f=!0)},o(d){S(o.$$.fragment,d),f=!1},d(d){d&&R(e),D(o)}}}function hn(l){let e,t,n,i=l[1]&&bt(l),r=!l[0]&&yt(l);return{c(){i&&i.c(),e=A(),r&&r.c(),t=Ie()},m(s,a){i&&i.m(s,a),B(s,e,a),r&&r.m(s,a),B(s,t,a),n=!0},p(s,[a]){s[1]?i?(i.p(s,a),a&2&&T(i,1)):(i=bt(s),i.c(),T(i,1),i.m(e.parentNode,e)):i&&(ue(),S(i,1,1,()=>{i=null}),ce()),s[0]?r&&(ue(),S(r,1,1,()=>{r=null}),ce()):r?(r.p(s,a),a&1&&T(r,1)):(r=yt(s),r.c(),T(r,1),r.m(t.parentNode,t))},i(s){n||(T(i),T(r),n=!0)},o(s){S(i),S(r),n=!1},d(s){s&&(R(e),R(t)),i&&i.d(s),r&&r.d(s)}}}function gn(l,e,t){let n,i;Ve(l,kt,m=>t(8,n=m)),Ve(l,lt,m=>t(4,i=m));let{displayEnableButton:r}=e,{isInactive:s}=e,a=[];function o(m){if(s)return;let g=m.lngLat.lng,y=m.lngLat.lat;i.streetViewImagery=="google"?window.open(`http://maps.google.com/maps?q=&layer=c&cbll=${y},${g}&cbp=11,0,0,0,0`,"_blank"):i.streetViewImagery=="bing"&&window.open(`https://www.bing.com/maps?cp=${y}~${g}&style=x`,"_blank")}function f(){t(0,s=!1),n.on("click",o),n.getCanvas().style.cursor=`url(${on}), auto`,a=fl();for(let m of a)m.setProperty(n,"line-color",nn.streetview)}function d(){t(0,s=!0),n.off("click",o),n.getCanvas().style.cursor="inherit";for(let m of a)m.returnToDefaultPaintValues(n)}function _(m){l.$$.not_equal(i.streetViewImagery,m)&&(i.streetViewImagery=m,lt.set(i))}return l.$$set=m=>{"displayEnableButton"in m&&t(1,r=m.displayEnableButton),"isInactive"in m&&t(0,s=m.isInactive)},[s,r,f,d,i,o,_]}class Bn extends j{constructor(e){super(),K(this,e,gn,hn,Q,{displayEnableButton:1,isInactive:0,handleMapClickEvent:5,enableStreetView:2,disableStreetView:3})}get handleMapClickEvent(){return this.$$.ctx[5]}get enableStreetView(){return this.$$.ctx[2]}get disableStreetView(){return this.$$.ctx[3]}}export{vn as B,pl as C,wn as G,In as L,Bn as S,Ln as a,pn as b,nn as c,ln as d,yn as e,kn as f,gt as g,Tn as h,Cn as i,Mn as j,yl as k,Sn as l};
