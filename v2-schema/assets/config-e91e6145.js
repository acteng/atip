import{S as D,i as V,s as z,Y as Xe,e as E,b as W,c as b,Z as xe,_ as et,$ as tt,t as d,p as v,d as $,aw as _e,j as q,o as N,u as F,aT as ue,E as $e,f as he,a as C,am as X,an as ee,x as J,m as R,B as ae,ao as nt,ap as it,a8 as Oe,aU as Me,a9 as ct,aV as Ue,g as A,h as L,R as ce,V as ie,r as B,v as ve,au as Ce,C as te,q as ne,n as be,ag as ke,y as we,z as rt,aN as pt,K as le,W as _t,aW as fe,aR as mt}from"./files-33dd6d99.js";import{S as je,p as ge,a as pe,C as dt,g as gt,b as ht,t as bt,r as Ie}from"./colors-f1e534f2.js";function $t(t){let e,i;const n=t[1].default,s=Xe(n,t,t[0],null);return{c(){e=E("div"),s&&s.c(),W(e,"class","govuk-button-group")},m(u,r){b(u,e,r),s&&s.m(e,null),i=!0},p(u,[r]){s&&s.p&&(!i||r&1)&&xe(s,n,u,u[0],i?tt(n,u[0],r,null):et(u[0]),null)},i(u){i||(d(s,u),i=!0)},o(u){v(s,u),i=!1},d(u){u&&$(e),s&&s.d(u)}}}function vt(t,e,i){let{$$slots:n={},$$scope:s}=e;return t.$$set=u=>{"$$scope"in u&&i(0,s=u.$$scope)},[s,n]}class kt extends D{constructor(e){super(),V(this,e,vt,$t,z,{})}}function Te(t){let e,i,n=ye(t[0])+"",s;return{c(){e=E("div"),i=J("Â£"),s=J(n),W(e,"class","govuk-hint")},m(u,r){b(u,e,r),R(e,i),R(e,s)},p(u,r){r&1&&n!==(n=ye(u[0])+"")&&ae(s,n)},d(u){u&&$(e)}}}function wt(t){let e;return{c(){e=J("multiply by 1 million")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function yt(t){let e,i,n,s,u,r,f,l,o;e=new $e({props:{errorMessage:Ae(t[2])}});let a=t[0]!=null&&Te(t);return r=new he({props:{disabled:t[0]==null||t[0]>1e3,$$slots:{default:[wt]},$$scope:{ctx:t}}}),r.$on("click",t[4]),{c(){q(e.$$.fragment),i=C(),a&&a.c(),n=C(),s=E("input"),u=C(),q(r.$$.fragment),W(s,"type","text"),W(s,"inputmode","numeric"),W(s,"class","govuk-input govuk-input--width-10"),W(s,"id",t[3])},m(p,c){N(e,p,c),b(p,i,c),a&&a.m(p,c),b(p,n,c),b(p,s,c),X(s,t[2]),b(p,u,c),N(r,p,c),f=!0,l||(o=ee(s,"input",t[5]),l=!0)},p(p,c){const w={};c&4&&(w.errorMessage=Ae(p[2])),e.$set(w),p[0]!=null?a?a.p(p,c):(a=Te(p),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),c&4&&s.value!==p[2]&&X(s,p[2]);const M={};c&1&&(M.disabled=p[0]==null||p[0]>1e3),c&128&&(M.$$scope={dirty:c,ctx:p}),r.$set(M)},i(p){f||(d(e.$$.fragment,p),d(r.$$.fragment,p),f=!0)},o(p){v(e.$$.fragment,p),v(r.$$.fragment,p),f=!1},d(p){p&&($(i),$(n),$(s),$(u)),F(e,p),a&&a.d(p),F(r,p),l=!1,o()}}}function St(t){let e,i;return e=new _e({props:{label:t[1],id:t[3],$$slots:{default:[yt]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,[s]){const u={};s&2&&(u.label=n[1]),s&133&&(u.$$scope={dirty:s,ctx:n}),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function st(t){if(t!="")return parseFloat(t.replaceAll(",",""))}function Ae(t){let e=st(t);return e==null?"":isNaN(e)?"Please enter a valid number":e<0?"Please enter a positive number":""}function ye(t){return t.toLocaleString()}function jt(t,e,i){let{label:n}=e,{value:s}=e,u=ue(),r=s==null?"":ye(s);function f(a){i(0,s=st(a))}function l(){i(2,r=ye(s*1e6))}function o(){r=this.value,i(2,r)}return t.$$set=a=>{"label"in a&&i(1,n=a.label),"value"in a&&i(0,s=a.value)},t.$$.update=()=>{t.$$.dirty&4&&f(r)},[s,n,r,u,l,o]}class qt extends D{constructor(e){super(),V(this,e,jt,St,z,{label:1,value:0})}}function Nt(t){let e,i,n,s,u,r,f;return e=new $e({props:{errorMessage:t[5](t[2])}}),{c(){q(e.$$.fragment),i=C(),n=E("input"),W(n,"type","text"),W(n,"inputmode","numeric"),W(n,"class",s=`govuk-input govuk-input--width-${t[1]}`),W(n,"id",t[3])},m(l,o){N(e,l,o),b(l,i,o),b(l,n,o),X(n,t[2]),u=!0,r||(f=[ee(n,"input",t[9]),ee(n,"change",t[4])],r=!0)},p(l,o){const a={};o&4&&(a.errorMessage=l[5](l[2])),e.$set(a),(!u||o&2&&s!==(s=`govuk-input govuk-input--width-${l[1]}`))&&W(n,"class",s),o&4&&n.value!==l[2]&&X(n,l[2])},i(l){u||(d(e.$$.fragment,l),u=!0)},o(l){v(e.$$.fragment,l),u=!1},d(l){l&&($(i),$(n)),F(e,l),r=!1,nt(f)}}}function Ft(t){let e,i;return e=new _e({props:{label:t[0],id:t[3],$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,[s]){const u={};s&1&&(u.label=n[0]),s&1030&&(u.$$scope={dirty:s,ctx:n}),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function Ot(t,e,i){let{label:n}=e,{value:s}=e,{width:u}=e,{min:r=void 0}=e,{max:f=void 0}=e,l=s==null?void 0:s.toString(),o=ue();function a(){i(6,s=l==null?void 0:parseInt(l,10))}function p(w){if(w==""||w==null)return"";if(w.includes("."))return"Please enter a number without decimals";let M=Number(w);return isNaN(M)?"Please enter a valid number":r!=null&&M<r?`Please enter a number that's at least ${r};`:f!=null&&M>f?`Please enter a number that's at most ${f};`:""}function c(){l=this.value,i(2,l)}return t.$$set=w=>{"label"in w&&i(0,n=w.label),"value"in w&&i(6,s=w.value),"width"in w&&i(1,u=w.width),"min"in w&&i(7,r=w.min),"max"in w&&i(8,f=w.max)},[n,u,l,o,a,p,s,r,f,c]}class Fe extends D{constructor(e){super(),V(this,e,Ot,Ft,z,{label:0,value:6,width:1,min:7,max:8})}}function Le(t){let e,i;return{c(){e=E("div"),i=J(t[2]),W(e,"class","govuk-hint")},m(n,s){b(n,e,s),R(e,i)},p(n,s){s&4&&ae(i,n[2])},d(n){n&&$(e)}}}function Ct(t){let e,i,n,s,u,r,f;e=new $e({props:{errorMessage:t[4]}});let l=t[2]&&Le(t);return{c(){q(e.$$.fragment),i=C(),l&&l.c(),n=C(),s=E("textarea"),W(s,"class","govuk-textarea"),W(s,"id",t[5]),W(s,"rows",t[3])},m(o,a){N(e,o,a),b(o,i,a),l&&l.m(o,a),b(o,n,a),b(o,s,a),X(s,t[0]),u=!0,r||(f=ee(s,"input",t[6]),r=!0)},p(o,a){const p={};a&16&&(p.errorMessage=o[4]),e.$set(p),o[2]?l?l.p(o,a):(l=Le(o),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),(!u||a&8)&&W(s,"rows",o[3]),a&1&&X(s,o[0])},i(o){u||(d(e.$$.fragment,o),u=!0)},o(o){v(e.$$.fragment,o),u=!1},d(o){o&&($(i),$(n),$(s)),F(e,o),l&&l.d(o),r=!1,f()}}}function Pt(t){let e,i;return e=new _e({props:{label:t[1],id:t[5],$$slots:{default:[Ct]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,[s]){const u={};s&2&&(u.label=n[1]),s&157&&(u.$$scope={dirty:s,ctx:n}),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function Mt(t,e,i){let{label:n}=e,{hint:s=""}=e,{value:u}=e,{rows:r=5}=e,{errorMessage:f=""}=e,l=ue();function o(){u=this.value,i(0,u)}return t.$$set=a=>{"label"in a&&i(1,n=a.label),"hint"in a&&i(2,s=a.hint),"value"in a&&i(0,u=a.value),"rows"in a&&i(3,r=a.rows),"errorMessage"in a&&i(4,f=a.errorMessage)},[u,n,s,r,f,l,o]}class qe extends D{constructor(e){super(),V(this,e,Mt,Pt,z,{label:1,hint:2,value:0,rows:3,errorMessage:4})}}function Ut(t){let e,i,n,s,u,r;return e=new $e({props:{errorMessage:t[2]}}),{c(){q(e.$$.fragment),i=C(),n=E("input"),W(n,"type","text"),W(n,"class","govuk-input"),W(n,"id",t[3])},m(f,l){N(e,f,l),b(f,i,l),b(f,n,l),X(n,t[0]),s=!0,u||(r=[ee(n,"input",t[6]),ee(n,"change",t[5])],u=!0)},p(f,l){const o={};l&4&&(o.errorMessage=f[2]),e.$set(o),l&1&&n.value!==f[0]&&X(n,f[0])},i(f){s||(d(e.$$.fragment,f),s=!0)},o(f){v(e.$$.fragment,f),s=!1},d(f){f&&($(i),$(n)),F(e,f),u=!1,nt(r)}}}function It(t){let e,i;return e=new _e({props:{label:t[1],id:t[3],$$slots:{default:[Ut]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,[s]){const u={};s&2&&(u.label=n[1]),s&133&&(u.$$scope={dirty:s,ctx:n}),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function Tt(t,e,i){let n,{label:s}=e,{value:u}=e,{required:r=!1}=e,f=ue();function l(a){it.call(this,t,a)}function o(){u=this.value,i(0,u)}return t.$$set=a=>{"label"in a&&i(1,s=a.label),"value"in a&&i(0,u=a.value),"required"in a&&i(4,r=a.required)},t.$$.update=()=>{t.$$.dirty&17&&i(2,n=r&&(u==null||u=="")?"Required":"")},[u,s,n,f,r,l,o]}class Pe extends D{constructor(e){super(),V(this,e,Tt,It,z,{label:1,value:0,required:4})}}function At(t){let e,i,n,s;const u=t[2].default,r=Xe(u,t,t[1],null);let f=[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},t[0]],l={};for(let o=0;o<f.length;o+=1)l=Oe(l,f[o]);return{c(){e=E("button"),r&&r.c(),Me(e,l)},m(o,a){b(o,e,a),r&&r.m(e,null),e.autofocus&&e.focus(),i=!0,n||(s=ee(e,"click",t[3]),n=!0)},p(o,[a]){r&&r.p&&(!i||a&2)&&xe(r,u,o,o[1],i?tt(u,o[1],a,null):et(o[1]),null),Me(e,l=ct(f,[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},a&1&&o[0]]))},i(o){i||(d(r,o),i=!0)},o(o){v(r,o),i=!1},d(o){o&&$(e),r&&r.d(o),n=!1,s()}}}function Lt(t,e,i){let{$$slots:n={},$$scope:s}=e;function u(r){it.call(this,t,r)}return t.$$set=r=>{i(0,e=Oe(Oe({},e),Ue(r))),"$$scope"in r&&i(1,s=r.$$scope)},e=Ue(e),[e,s,n,u]}class Bt extends D{constructor(e){super(),V(this,e,Lt,At,z,{})}}function Be(t){let e,i;return e=new he({props:{disabled:!t[2],$$slots:{default:[Wt]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,s){const u={};s&4&&(u.disabled=!n[2]),s&4096&&(u.$$scope={dirty:s,ctx:n}),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function Wt(t){let e;return{c(){e=J("Auto-fill")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function Rt(t){let e,i,n,s,u,r,f=t[0].length_meters&&Be(t);return{c(){e=E("input"),i=C(),f&&f.c(),n=ie(),W(e,"type","text"),W(e,"class","govuk-input"),W(e,"id",t[5])},m(l,o){b(l,e,o),X(e,t[0].name),b(l,i,o),f&&f.m(l,o),b(l,n,o),s=!0,u||(r=ee(e,"input",t[6]),u=!0)},p(l,o){o&1&&e.value!==l[0].name&&X(e,l[0].name),l[0].length_meters?f?(f.p(l,o),o&1&&d(f,1)):(f=Be(l),f.c(),d(f,1),f.m(n.parentNode,n)):f&&(te(),v(f,1,1,()=>{f=null}),ne())},i(l){s||(d(f),s=!0)},o(l){v(f),s=!1},d(l){l&&($(e),$(i),$(n)),f&&f.d(l),u=!1,r()}}}function We(t){let e,i,n=ge(t[0].length_meters)+"",s;return{c(){e=E("p"),i=J("Length: "),s=J(n)},m(u,r){b(u,e,r),R(e,i),R(e,s)},p(u,r){r&1&&n!==(n=ge(u[0].length_meters)+"")&&ae(s,n)},d(u){u&&$(e)}}}function Et(t){let e,i,n,s,u,r,f,l,o,a,p,c,w;e=new _e({props:{label:"Name",id:t[5],$$slots:{default:[Rt]},$$scope:{ctx:t}}});function M(j){t[9](j)}let U={label:"Scheme",choices:Object.values(t[3].schemes).map(t[8])};t[0].scheme_reference!==void 0&&(U.value=t[0].scheme_reference),n=new je({props:U}),A.push(()=>L(n,"value",M));function P(j){t[10](j)}let k={label:"Type",choices:[["area","Area"],["route","Route"],["crossing","Crossing"],["other","Other"]],inlineSmall:!0,required:!0};t[0].intervention_type!==void 0&&(k.value=t[0].intervention_type),r=new ce({props:k}),A.push(()=>L(r,"value",P));function m(j){t[11](j)}let S={label:"Description"};t[0].description!==void 0&&(S.value=t[0].description),o=new qe({props:S}),A.push(()=>L(o,"value",m));let I=t[0].length_meters&&We(t);return{c(){q(e.$$.fragment),i=C(),q(n.$$.fragment),u=C(),q(r.$$.fragment),l=C(),q(o.$$.fragment),p=C(),I&&I.c(),c=ie()},m(j,T){N(e,j,T),b(j,i,T),N(n,j,T),b(j,u,T),N(r,j,T),b(j,l,T),N(o,j,T),b(j,p,T),I&&I.m(j,T),b(j,c,T),w=!0},p(j,[T]){const y={};T&4101&&(y.$$scope={dirty:T,ctx:j}),e.$set(y);const H={};T&8&&(H.choices=Object.values(j[3].schemes).map(j[8])),!s&&T&1&&(s=!0,H.value=j[0].scheme_reference,B(()=>s=!1)),n.$set(H);const Q={};!f&&T&1&&(f=!0,Q.value=j[0].intervention_type,B(()=>f=!1)),r.$set(Q);const K={};!a&&T&1&&(a=!0,K.value=j[0].description,B(()=>a=!1)),o.$set(K),j[0].length_meters?I?I.p(j,T):(I=We(j),I.c(),I.m(c.parentNode,c)):I&&(I.d(1),I=null)},i(j){w||(d(e.$$.fragment,j),d(n.$$.fragment,j),d(r.$$.fragment,j),d(o.$$.fragment,j),w=!0)},o(j){v(e.$$.fragment,j),v(n.$$.fragment,j),v(r.$$.fragment,j),v(o.$$.fragment,j),w=!1},d(j){j&&($(i),$(u),$(l),$(p),$(c)),F(e,j),F(n,j),F(r,j),F(o,j),I&&I.d(j)}}}function Jt(t,e,i){let n,s,u=be,r=()=>(u(),u=ke(f,k=>i(3,s=k)),f);ve(t,Ce,k=>i(2,n=k)),t.$$.on_destroy.push(()=>u());let{gjSchemes:f}=e;r();let{props:l}=e;function o(){try{i(0,l.name=n.inner.routeNameForWaypoints(l.waypoints),l)}catch(k){window.alert(`Couldn't auto-name route: ${k}`)}}let a=ue();function p(){l.name=this.value,i(0,l)}const c=()=>o(),w=k=>[k.scheme_reference,Ne(k)];function M(k){t.$$.not_equal(l.scheme_reference,k)&&(l.scheme_reference=k,i(0,l))}function U(k){t.$$.not_equal(l.intervention_type,k)&&(l.intervention_type=k,i(0,l))}function P(k){t.$$.not_equal(l.description,k)&&(l.description=k,i(0,l))}return t.$$set=k=>{"gjSchemes"in k&&r(i(1,f=k.gjSchemes)),"props"in k&&i(0,l=k.props)},[l,f,n,s,o,a,p,c,w,M,U,P]}class Gt extends D{constructor(e){super(),V(this,e,Jt,Et,z,{gjSchemes:1,props:0})}}function Re(t){let e,i;return e=new he({props:{disabled:!t[3],$$slots:{default:[Dt]},$$scope:{ctx:t}}}),e.$on("click",t[8]),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,s){const u={};s&8&&(u.disabled=!n[3]),s&16384&&(u.$$scope={dirty:s,ctx:n}),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function Dt(t){let e;return{c(){e=J("Auto-fill")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function Vt(t){let e,i,n,s,u,r,f=t[0].length_meters&&Re(t);return{c(){e=E("input"),i=C(),f&&f.c(),n=ie(),W(e,"type","text"),W(e,"class","govuk-input"),W(e,"id",t[6])},m(l,o){b(l,e,o),X(e,t[0].name),b(l,i,o),f&&f.m(l,o),b(l,n,o),s=!0,u||(r=ee(e,"input",t[7]),u=!0)},p(l,o){o&1&&e.value!==l[0].name&&X(e,l[0].name),l[0].length_meters?f?(f.p(l,o),o&1&&d(f,1)):(f=Re(l),f.c(),d(f,1),f.m(n.parentNode,n)):f&&(te(),v(f,1,1,()=>{f=null}),ne())},i(l){s||(d(f),s=!0)},o(l){v(f),s=!1},d(l){l&&($(e),$(i),$(n)),f&&f.d(l),u=!1,r()}}}function zt(t){let e;return{c(){e=J("Is this for cyclists?")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function Ht(t){let e;return{c(){e=J("Is this for pedestrians?")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function Ee(t){let e,i,n=ge(t[0].length_meters)+"",s;return{c(){e=E("p"),i=J("Length: "),s=J(n)},m(u,r){b(u,e,r),R(e,i),R(e,s)},p(u,r){r&1&&n!==(n=ge(u[0].length_meters)+"")&&ae(s,n)},d(u){u&&$(e)}}}function Qt(t){let e,i,n,s,u,r,f,l,o,a,p,c,w,M,U,P,k,m,S,I;e=new _e({props:{label:"Name",id:t[6],$$slots:{default:[Vt]},$$scope:{ctx:t}}});function j(_){t[10](_)}let T={label:"Scheme",choices:Object.values(t[4].schemes).map(t[9])};t[0].scheme_reference!==void 0&&(T.value=t[0].scheme_reference),n=new je({props:T}),A.push(()=>L(n,"value",j));function y(_){t[11](_)}let H={label:"Type",choices:[["area","Area"],["route","Route"],["crossing","Crossing"],["modal filter","Modal Filter"],["junction treatment","Junction Treatment"],["other","Other"]],inlineSmall:!0};t[2].intervention_type!==void 0&&(H.value=t[2].intervention_type),r=new ce({props:H}),A.push(()=>L(r,"value",y));function Q(_){t[12](_)}let K={label:"Description"};t[0].description!==void 0&&(K.value=t[0].description),o=new qe({props:K}),A.push(()=>L(o,"value",Q)),c=new pe({props:{checked:t[2].for_cyclists,$$slots:{default:[zt]},$$scope:{ctx:t}}}),M=new pe({props:{checked:t[2].for_pedestrians,$$slots:{default:[Ht]},$$scope:{ctx:t}}});function x(_){t[13](_)}let g={label:"Is this work new, improvements to an existing scheme, or mapping something which already exists and will be unchanged?",choices:[["new","New"],["improvements to existing","Improvements to existing"],["existing, no changes planned","No changes planned"]],inlineSmall:!0};t[2].work_type!==void 0&&(g.value=t[2].work_type),P=new ce({props:g}),A.push(()=>L(P,"value",x));let h=t[0].length_meters&&Ee(t);return{c(){q(e.$$.fragment),i=C(),q(n.$$.fragment),u=C(),q(r.$$.fragment),l=C(),q(o.$$.fragment),p=C(),q(c.$$.fragment),w=C(),q(M.$$.fragment),U=C(),q(P.$$.fragment),m=C(),h&&h.c(),S=ie()},m(_,O){N(e,_,O),b(_,i,O),N(n,_,O),b(_,u,O),N(r,_,O),b(_,l,O),N(o,_,O),b(_,p,O),N(c,_,O),b(_,w,O),N(M,_,O),b(_,U,O),N(P,_,O),b(_,m,O),h&&h.m(_,O),b(_,S,O),I=!0},p(_,[O]){const G={};O&16393&&(G.$$scope={dirty:O,ctx:_}),e.$set(G);const Z={};O&16&&(Z.choices=Object.values(_[4].schemes).map(_[9])),!s&&O&1&&(s=!0,Z.value=_[0].scheme_reference,B(()=>s=!1)),n.$set(Z);const Y={};!f&&O&4&&(f=!0,Y.value=_[2].intervention_type,B(()=>f=!1)),r.$set(Y);const se={};!a&&O&1&&(a=!0,se.value=_[0].description,B(()=>a=!1)),o.$set(se);const me={};O&4&&(me.checked=_[2].for_cyclists),O&16384&&(me.$$scope={dirty:O,ctx:_}),c.$set(me);const oe={};O&4&&(oe.checked=_[2].for_pedestrians),O&16384&&(oe.$$scope={dirty:O,ctx:_}),M.$set(oe);const de={};!k&&O&4&&(k=!0,de.value=_[2].work_type,B(()=>k=!1)),P.$set(de),_[0].length_meters?h?h.p(_,O):(h=Ee(_),h.c(),h.m(S.parentNode,S)):h&&(h.d(1),h=null)},i(_){I||(d(e.$$.fragment,_),d(n.$$.fragment,_),d(r.$$.fragment,_),d(o.$$.fragment,_),d(c.$$.fragment,_),d(M.$$.fragment,_),d(P.$$.fragment,_),I=!0)},o(_){v(e.$$.fragment,_),v(n.$$.fragment,_),v(r.$$.fragment,_),v(o.$$.fragment,_),v(c.$$.fragment,_),v(M.$$.fragment,_),v(P.$$.fragment,_),I=!1},d(_){_&&($(i),$(u),$(l),$(p),$(w),$(U),$(m),$(S)),F(e,_),F(n,_),F(r,_),F(o,_),F(c,_),F(M,_),F(P,_),h&&h.d(_)}}}function Zt(t,e,i){let n,s,u=be,r=()=>(u(),u=ke(f,S=>i(4,s=S)),f);ve(t,Ce,S=>i(3,n=S)),t.$$.on_destroy.push(()=>u());let{gjSchemes:f}=e;r();let{props:l}=e;console.log(l),l.v2=l.v2||{intervention_type:"",for_cyclists:!1,for_pedestrians:!1,work_type:""};let o=l.v2;console.log(l);function a(){try{i(0,l.name=n.inner.routeNameForWaypoints(l.waypoints),l)}catch(S){window.alert(`Couldn't auto-name route: ${S}`)}}let p=ue();function c(){l.name=this.value,i(0,l)}const w=()=>a(),M=S=>[S.scheme_reference,Ne(S)];function U(S){t.$$.not_equal(l.scheme_reference,S)&&(l.scheme_reference=S,i(0,l))}function P(S){t.$$.not_equal(o.intervention_type,S)&&(o.intervention_type=S,i(2,o))}function k(S){t.$$.not_equal(l.description,S)&&(l.description=S,i(0,l))}function m(S){t.$$.not_equal(o.work_type,S)&&(o.work_type=S,i(2,o))}return t.$$set=S=>{"gjSchemes"in S&&r(i(1,f=S.gjSchemes)),"props"in S&&i(0,l=S.props)},[l,f,o,n,s,a,p,c,w,M,U,P,k,m]}class Kt extends D{constructor(e){super(),V(this,e,Zt,Qt,z,{gjSchemes:1,props:0})}}function Yt(t){let e,i,n;function s(r){t[2](r)}let u={label:t[1],choices:[re("New segregated cycling facility"),re("New junction treatment"),re("New permanent footway"),["New shared use facilities","New shared use (walking and cycling) facilities"],["Improvements to existing route","Improvements to make an existing walking/cycle route safer"],["Area-wide traffic management","Area-wide traffic management (including by TROs - both permanent and experimental)"],["Bus priority measures","Bus priority measures that also enable active travel (for example, bus gates)"],["Secure cycle parking","Provision of secure cycle parking facilities"],re("New road crossings"),re("Restriction or reduction of car parking availability"),re("School streets"),re("Quiet mixed traffic streets"),re("Traffic free routes"),re("Not specified in LCWIP")],emptyOption:!0};return t[0]!==void 0&&(u.value=t[0]),e=new je({props:u}),A.push(()=>L(e,"value",s)),{c(){q(e.$$.fragment)},m(r,f){N(e,r,f),n=!0},p(r,[f]){const l={};f&2&&(l.label=r[1]),!i&&f&1&&(i=!0,l.value=r[0],B(()=>i=!1)),e.$set(l)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function re(t){return[t,t]}function Xt(t,e,i){let{label:n}=e,{value:s}=e;function u(r){s=r,i(0,s)}return t.$$set=r=>{"label"in r&&i(1,n=r.label),"value"in r&&i(0,s=r.value)},[s,n,u]}class lt extends D{constructor(e){super(),V(this,e,Xt,Yt,z,{label:1,value:0})}}function xt(t){let e,i,n,s,u,r,f,l,o,a,p,c,w,M,U,P,k,m;function S(h){t[3](h)}let I={label:"Status",choices:[["","Unknown"],["aspiration","Aspiration"],["planned","Planned"],["in development","In development"],["in construction","In construction"],["completed","Completed"]],inlineSmall:!0,required:t[1]};t[0].status!==void 0&&(I.value=t[0].status),s=new ce({props:I}),A.push(()=>L(s,"value",S));function j(h){t[4](h)}let T={label:"Timescale",choices:[["","Unknown"],["short","Short (1-3 years)"],["medium","Medium (3-6 years)"],["long","Long (6-10 years)"]],inlineSmall:!0,required:t[1]};t[0].timescale!==void 0&&(T.value=t[0].timescale),f=new ce({props:T}),A.push(()=>L(f,"value",j));function y(h){t[5](h)}let H={label:"Estimated completion year (if known)",width:4,min:2010,max:2100};t[0].timescale_year!==void 0&&(H.value=t[0].timescale_year),a=new Fe({props:H}),A.push(()=>L(a,"value",y));function Q(h){t[6](h)}let K={label:"What year was this scheme most recently published?",width:4,min:2010,max:2100};t[0].year_published!==void 0&&(K.value=t[0].year_published),w=new Fe({props:K}),A.push(()=>L(w,"value",Q));function x(h){t[7](h)}let g={label:"What year was this scheme most recently consulted on?",width:4,min:2010,max:2100};return t[0].year_consulted!==void 0&&(g.value=t[0].year_consulted),P=new Fe({props:g}),A.push(()=>L(P,"value",x)),{c(){e=E("fieldset"),i=E("legend"),i.textContent="Timing and status",n=C(),q(s.$$.fragment),r=C(),q(f.$$.fragment),o=C(),q(a.$$.fragment),c=C(),q(w.$$.fragment),U=C(),q(P.$$.fragment),W(i,"class","govuk-fieldset__legend"),W(e,"class","govuk-fieldset svelte-1bxyfcq")},m(h,_){b(h,e,_),R(e,i),R(e,n),N(s,e,null),R(e,r),N(f,e,null),R(e,o),N(a,e,null),R(e,c),N(w,e,null),R(e,U),N(P,e,null),m=!0},p(h,[_]){const O={};_&2&&(O.required=h[1]),!u&&_&1&&(u=!0,O.value=h[0].status,B(()=>u=!1)),s.$set(O);const G={};_&2&&(G.required=h[1]),!l&&_&1&&(l=!0,G.value=h[0].timescale,B(()=>l=!1)),f.$set(G);const Z={};!p&&_&1&&(p=!0,Z.value=h[0].timescale_year,B(()=>p=!1)),a.$set(Z);const Y={};!M&&_&1&&(M=!0,Y.value=h[0].year_published,B(()=>M=!1)),w.$set(Y);const se={};!k&&_&1&&(k=!0,se.value=h[0].year_consulted,B(()=>k=!1)),P.$set(se)},i(h){m||(d(s.$$.fragment,h),d(f.$$.fragment,h),d(a.$$.fragment,h),d(w.$$.fragment,h),d(P.$$.fragment,h),m=!0)},o(h){v(s.$$.fragment,h),v(f.$$.fragment,h),v(a.$$.fragment,h),v(w.$$.fragment,h),v(P.$$.fragment,h),m=!1},d(h){h&&$(e),F(s),F(f),F(a),F(w),F(P)}}}function en(t,e,i){let{data:n}=e,{required:s}=e,{onUpdate:u}=e;function r(c){u()}function f(c){t.$$.not_equal(n.status,c)&&(n.status=c,i(0,n))}function l(c){t.$$.not_equal(n.timescale,c)&&(n.timescale=c,i(0,n))}function o(c){t.$$.not_equal(n.timescale_year,c)&&(n.timescale_year=c,i(0,n))}function a(c){t.$$.not_equal(n.year_published,c)&&(n.year_published=c,i(0,n))}function p(c){t.$$.not_equal(n.year_consulted,c)&&(n.year_consulted=c,i(0,n))}return t.$$set=c=>{"data"in c&&i(0,n=c.data),"required"in c&&i(1,s=c.required),"onUpdate"in c&&i(2,u=c.onUpdate)},t.$$.update=()=>{t.$$.dirty&1&&r()},[n,s,u,f,l,o,a,p]}class ut extends D{constructor(e){super(),V(this,e,en,xt,z,{data:0,required:1,onUpdate:2})}}function Je(t,e,i){const n=t.slice();return n[9]=e[i],n[10]=e,n[11]=i,n}function tn(t){let e;return{c(){e=J("Is the development fully funded?")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function nn(t){let e;return{c(){e=J("Is the construction fully funded?")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function rn(t){let e,i,n;function s(r){t[6](r,t[9])}let u={$$slots:{default:[sn]},$$scope:{ctx:t}};return t[0].funding_sources[t[9]]!==void 0&&(u.checked=t[0].funding_sources[t[9]]),e=new pe({props:u}),A.push(()=>L(e,"checked",s)),{c(){q(e.$$.fragment)},m(r,f){N(e,r,f),n=!0},p(r,f){t=r;const l={};f&4096&&(l.$$scope={dirty:f,ctx:t}),!i&&f&3&&(i=!0,l.checked=t[0].funding_sources[t[9]],B(()=>i=!1)),e.$set(l)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function sn(t){let e=t[9].toUpperCase()+"",i,n;return{c(){i=J(e),n=C()},m(s,u){b(s,i,u),b(s,n,u)},p:be,d(s){s&&($(i),$(n))}}}function Ge(t){let e,i,n=t[9]!="other"&&rn(t);return{c(){n&&n.c(),e=ie()},m(s,u){n&&n.m(s,u),b(s,e,u),i=!0},p(s,u){s[9]!="other"&&n.p(s,u)},i(s){i||(d(n),i=!0)},o(s){v(n),i=!1},d(s){s&&$(e),n&&n.d(s)}}}function ln(t){let e,i,n=we(t[1]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ge(Je(t,n,r));const u=r=>v(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=ie()},m(r,f){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(r,f);b(r,e,f),i=!0},p(r,f){if(f&3){n=we(r[1]);let l;for(l=0;l<n.length;l+=1){const o=Je(r,n,l);s[l]?(s[l].p(o,f),d(s[l],1)):(s[l]=Ge(o),s[l].c(),d(s[l],1),s[l].m(e.parentNode,e))}for(te(),l=n.length;l<s.length;l+=1)u(l);ne()}},i(r){if(!i){for(let f=0;f<n.length;f+=1)d(s[f]);i=!0}},o(r){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)v(s[f]);i=!1},d(r){r&&$(e),rt(s,r)}}}function un(t){let e,i,n,s,u,r,f,l,o,a,p,c,w,M,U,P,k,m,S;function I(g){t[3](g)}let j={label:"Cost (GBP)"};t[0].budget!==void 0&&(j.value=t[0].budget),s=new qt({props:j}),A.push(()=>L(s,"value",I));function T(g){t[4](g)}let y={$$slots:{default:[tn]},$$scope:{ctx:t}};t[0].development_funded!==void 0&&(y.checked=t[0].development_funded),f=new pe({props:y}),A.push(()=>L(f,"checked",T));function H(g){t[5](g)}let Q={$$slots:{default:[nn]},$$scope:{ctx:t}};t[0].construction_funded!==void 0&&(Q.checked=t[0].construction_funded),a=new pe({props:Q}),A.push(()=>L(a,"checked",H)),U=new dt({props:{$$slots:{default:[ln]},$$scope:{ctx:t}}});function K(g){t[7](g)}let x={label:"Other funding sources"};return t[0].funding_sources.other!==void 0&&(x.value=t[0].funding_sources.other),k=new Pe({props:x}),A.push(()=>L(k,"value",K)),{c(){e=E("fieldset"),i=E("legend"),i.textContent="Budget",n=C(),q(s.$$.fragment),r=C(),q(f.$$.fragment),o=C(),q(a.$$.fragment),c=C(),w=E("p"),w.textContent="Funding sources",M=C(),q(U.$$.fragment),P=C(),q(k.$$.fragment),W(i,"class","govuk-fieldset__legend"),W(e,"class","govuk-fieldset svelte-1bxyfcq")},m(g,h){b(g,e,h),R(e,i),R(e,n),N(s,e,null),R(e,r),N(f,e,null),R(e,o),N(a,e,null),R(e,c),R(e,w),R(e,M),N(U,e,null),R(e,P),N(k,e,null),S=!0},p(g,[h]){const _={};!u&&h&1&&(u=!0,_.value=g[0].budget,B(()=>u=!1)),s.$set(_);const O={};h&4096&&(O.$$scope={dirty:h,ctx:g}),!l&&h&1&&(l=!0,O.checked=g[0].development_funded,B(()=>l=!1)),f.$set(O);const G={};h&4096&&(G.$$scope={dirty:h,ctx:g}),!p&&h&1&&(p=!0,G.checked=g[0].construction_funded,B(()=>p=!1)),a.$set(G);const Z={};h&4097&&(Z.$$scope={dirty:h,ctx:g}),U.$set(Z);const Y={};!m&&h&1&&(m=!0,Y.value=g[0].funding_sources.other,B(()=>m=!1)),k.$set(Y)},i(g){S||(d(s.$$.fragment,g),d(f.$$.fragment,g),d(a.$$.fragment,g),d(U.$$.fragment,g),d(k.$$.fragment,g),S=!0)},o(g){v(s.$$.fragment,g),v(f.$$.fragment,g),v(a.$$.fragment,g),v(U.$$.fragment,g),v(k.$$.fragment,g),S=!1},d(g){g&&$(e),F(s),F(f),F(a),F(U),F(k)}}}function on(t,e,i){let{data:n}=e,{onUpdate:s}=e;function u(c){s()}let r=["atf2","atf3","atf4","atf4e","crsts","luf"];function f(c){t.$$.not_equal(n.budget,c)&&(n.budget=c,i(0,n))}function l(c){t.$$.not_equal(n.development_funded,c)&&(n.development_funded=c,i(0,n))}function o(c){t.$$.not_equal(n.construction_funded,c)&&(n.construction_funded=c,i(0,n))}function a(c,w){t.$$.not_equal(n.funding_sources[w],c)&&(n.funding_sources[w]=c,i(0,n))}function p(c){t.$$.not_equal(n.funding_sources.other,c)&&(n.funding_sources.other=c,i(0,n))}return t.$$set=c=>{"data"in c&&i(0,n=c.data),"onUpdate"in c&&i(2,s=c.onUpdate)},t.$$.update=()=>{t.$$.dirty&1&&u()},[n,r,s,f,l,o,a,p]}class ot extends D{constructor(e){super(),V(this,e,on,un,z,{data:0,onUpdate:2})}}function De(t){let e,i;return e=new he({props:{disabled:!t[2],$$slots:{default:[fn]},$$scope:{ctx:t}}}),e.$on("click",t[8]),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,s){const u={};s&4&&(u.disabled=!n[2]),s&262144&&(u.$$scope={dirty:s,ctx:n}),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function fn(t){let e;return{c(){e=J("Auto-fill with street names")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function an(t){let e,i,n,s,u,r,f,l,o=t[0].length_meters&&De(t);return{c(){e=E("div"),e.textContent="Use the name from the LCWIP if possible",i=C(),n=E("input"),s=C(),o&&o.c(),u=ie(),W(e,"class","govuk-hint"),W(n,"type","text"),W(n,"class","govuk-input"),W(n,"id",t[6])},m(a,p){b(a,e,p),b(a,i,p),b(a,n,p),X(n,t[0].name),b(a,s,p),o&&o.m(a,p),b(a,u,p),r=!0,f||(l=ee(n,"input",t[7]),f=!0)},p(a,p){p&1&&n.value!==a[0].name&&X(n,a[0].name),a[0].length_meters?o?(o.p(a,p),p&1&&d(o,1)):(o=De(a),o.c(),d(o,1),o.m(u.parentNode,u)):o&&(te(),v(o,1,1,()=>{o=null}),ne())},i(a){r||(d(o),r=!0)},o(a){v(o),r=!1},d(a){a&&($(e),$(i),$(n),$(s),$(u)),o&&o.d(a),f=!1,l()}}}function Ve(t){let e,i,n=ge(t[0].length_meters)+"",s;return{c(){e=E("p"),i=J("Length: "),s=J(n)},m(u,r){b(u,e,r),R(e,i),R(e,s)},p(u,r){r&1&&n!==(n=ge(u[0].length_meters)+"")&&ae(s,n)},d(u){u&&$(e)}}}function ze(t){let e,i,n,s,u,r,f,l,o,a,p,c,w,M,U,P;function k(g){t[12](g)}let m={label:"Type"};t[0].pipeline.atf4_type!==void 0&&(m.value=t[0].pipeline.atf4_type),e=new lt({props:m}),A.push(()=>L(e,"value",k));function S(g){t[13](g)}let I={label:"Accuracy of mapped data",choices:[["high","High"],["medium","Medium"],["low","Low"]],required:!0,inlineSmall:!0};t[0].pipeline.accuracy!==void 0&&(I.value=t[0].pipeline.accuracy),s=new ce({props:I}),A.push(()=>L(s,"value",S));function j(g){t[14](g)}let T={$$slots:{default:[cn]},$$scope:{ctx:t}};t[0].pipeline.is_alternative!==void 0&&(T.checked=t[0].pipeline.is_alternative),f=new pe({props:T}),A.push(()=>L(f,"checked",j));let y=t[4]&&t[0].is_coverage_polygon!==void 0&&He(t);function H(g){t[16](g)}let Q={required:!1,onUpdate:mn};t[0].pipeline!==void 0&&(Q.data=t[0].pipeline),p=new ut({props:Q}),A.push(()=>L(p,"data",H));function K(g){t[17](g)}let x={onUpdate:dn};return t[0].pipeline!==void 0&&(x.data=t[0].pipeline),M=new ot({props:x}),A.push(()=>L(M,"data",K)),{c(){q(e.$$.fragment),n=C(),q(s.$$.fragment),r=C(),q(f.$$.fragment),o=C(),y&&y.c(),a=C(),q(p.$$.fragment),w=C(),q(M.$$.fragment)},m(g,h){N(e,g,h),b(g,n,h),N(s,g,h),b(g,r,h),N(f,g,h),b(g,o,h),y&&y.m(g,h),b(g,a,h),N(p,g,h),b(g,w,h),N(M,g,h),P=!0},p(g,h){const _={};!i&&h&1&&(i=!0,_.value=g[0].pipeline.atf4_type,B(()=>i=!1)),e.$set(_);const O={};!u&&h&1&&(u=!0,O.value=g[0].pipeline.accuracy,B(()=>u=!1)),s.$set(O);const G={};h&262144&&(G.$$scope={dirty:h,ctx:g}),!l&&h&1&&(l=!0,G.checked=g[0].pipeline.is_alternative,B(()=>l=!1)),f.$set(G),g[4]&&g[0].is_coverage_polygon!==void 0?y?(y.p(g,h),h&1&&d(y,1)):(y=He(g),y.c(),d(y,1),y.m(a.parentNode,a)):y&&(te(),v(y,1,1,()=>{y=null}),ne());const Z={};!c&&h&1&&(c=!0,Z.data=g[0].pipeline,B(()=>c=!1)),p.$set(Z);const Y={};!U&&h&1&&(U=!0,Y.data=g[0].pipeline,B(()=>U=!1)),M.$set(Y)},i(g){P||(d(e.$$.fragment,g),d(s.$$.fragment,g),d(f.$$.fragment,g),d(y),d(p.$$.fragment,g),d(M.$$.fragment,g),P=!0)},o(g){v(e.$$.fragment,g),v(s.$$.fragment,g),v(f.$$.fragment,g),v(y),v(p.$$.fragment,g),v(M.$$.fragment,g),P=!1},d(g){g&&($(n),$(r),$(o),$(a),$(w)),F(e,g),F(s,g),F(f,g),y&&y.d(g),F(p,g),F(M,g)}}}function cn(t){let e;return{c(){e=J("Is this an alternative route and not the default option?")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function He(t){let e,i,n;function s(r){t[15](r)}let u={$$slots:{default:[pn]},$$scope:{ctx:t}};return t[0].is_coverage_polygon!==void 0&&(u.checked=t[0].is_coverage_polygon),e=new pe({props:u}),A.push(()=>L(e,"checked",s)),{c(){q(e.$$.fragment)},m(r,f){N(e,r,f),n=!0},p(r,f){const l={};f&262144&&(l.$$scope={dirty:f,ctx:r}),!i&&f&1&&(i=!0,l.checked=r[0].is_coverage_polygon,B(()=>i=!1)),e.$set(l)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function pn(t){let e;return{c(){e=J(`Does this polygon show the coverage of the scheme? (All area considered
      while making the scheme)`)},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function _n(t){let e,i,n,s,u,r,f,l,o,a,p;e=new _e({props:{label:"Name",id:t[6],$$slots:{default:[an]},$$scope:{ctx:t}}});function c(m){t[10](m)}let w={label:"Scheme",choices:Object.values(t[3].schemes).map(t[9])};t[0].scheme_reference!==void 0&&(w.value=t[0].scheme_reference),n=new je({props:w}),A.push(()=>L(n,"value",c));function M(m){t[11](m)}let U={label:"Description"};t[0].description!==void 0&&(U.value=t[0].description),r=new qe({props:U}),A.push(()=>L(r,"value",M));let P=t[0].length_meters&&Ve(t),k=t[0].pipeline&&ze(t);return{c(){q(e.$$.fragment),i=C(),q(n.$$.fragment),u=C(),q(r.$$.fragment),l=C(),P&&P.c(),o=C(),k&&k.c(),a=ie()},m(m,S){N(e,m,S),b(m,i,S),N(n,m,S),b(m,u,S),N(r,m,S),b(m,l,S),P&&P.m(m,S),b(m,o,S),k&&k.m(m,S),b(m,a,S),p=!0},p(m,[S]){const I={};S&262149&&(I.$$scope={dirty:S,ctx:m}),e.$set(I);const j={};S&8&&(j.choices=Object.values(m[3].schemes).map(m[9])),!s&&S&1&&(s=!0,j.value=m[0].scheme_reference,B(()=>s=!1)),n.$set(j);const T={};!f&&S&1&&(f=!0,T.value=m[0].description,B(()=>f=!1)),r.$set(T),m[0].length_meters?P?P.p(m,S):(P=Ve(m),P.c(),P.m(o.parentNode,o)):P&&(P.d(1),P=null),m[0].pipeline?k?(k.p(m,S),S&1&&d(k,1)):(k=ze(m),k.c(),d(k,1),k.m(a.parentNode,a)):k&&(te(),v(k,1,1,()=>{k=null}),ne())},i(m){p||(d(e.$$.fragment,m),d(n.$$.fragment,m),d(r.$$.fragment,m),d(k),p=!0)},o(m){v(e.$$.fragment,m),v(n.$$.fragment,m),v(r.$$.fragment,m),v(k),p=!1},d(m){m&&($(i),$(u),$(l),$(o),$(a)),F(e,m),F(n,m),F(r,m),P&&P.d(m),k&&k.d(m)}}}const mn=()=>{},dn=()=>{};function gn(t,e,i){let n,s,u=be,r=()=>(u(),u=ke(f,y=>i(3,s=y)),f);ve(t,Ce,y=>i(2,n=y)),t.$$.on_destroy.push(()=>u());let{gjSchemes:f}=e;r();let{props:l}=e;l.pipeline||(l.pipeline={atf4_type:"",accuracy:"",is_alternative:!1,development_funded:!1,construction_funded:!1,funding_sources:Se(),status:"",timescale:""}),l.is_coverage_polygon||(l.is_coverage_polygon=!1);const o=(s.features.filter(y=>y.properties.is_coverage_polygon).length==0||l.is_coverage_polygon===!0)&&l.intervention_type==="area";function a(){try{i(0,l.name=n.inner.routeNameForWaypoints(l.waypoints),l)}catch(y){window.alert(`Couldn't auto-name route: ${y}`)}}let p=ue();function c(){l.name=this.value,i(0,l)}const w=()=>a(),M=y=>[y.scheme_reference,Ne(y)];function U(y){t.$$.not_equal(l.scheme_reference,y)&&(l.scheme_reference=y,i(0,l))}function P(y){t.$$.not_equal(l.description,y)&&(l.description=y,i(0,l))}function k(y){t.$$.not_equal(l.pipeline.atf4_type,y)&&(l.pipeline.atf4_type=y,i(0,l))}function m(y){t.$$.not_equal(l.pipeline.accuracy,y)&&(l.pipeline.accuracy=y,i(0,l))}function S(y){t.$$.not_equal(l.pipeline.is_alternative,y)&&(l.pipeline.is_alternative=y,i(0,l))}function I(y){t.$$.not_equal(l.is_coverage_polygon,y)&&(l.is_coverage_polygon=y,i(0,l))}function j(y){t.$$.not_equal(l.pipeline,y)&&(l.pipeline=y,i(0,l))}function T(y){t.$$.not_equal(l.pipeline,y)&&(l.pipeline=y,i(0,l))}return t.$$set=y=>{"gjSchemes"in y&&r(i(1,f=y.gjSchemes)),"props"in y&&i(0,l=y.props)},[l,f,n,s,o,a,p,c,w,M,U,P,k,m,S,I,j,T]}class hn extends D{constructor(e){super(),V(this,e,gn,_n,z,{gjSchemes:1,props:0})}}function Qe(t,e,i){const n=t.slice();return n[7]=e[i][0],n[8]=e[i][1],n}function Ze(t){let e,i;return e=new he({props:{$$slots:{default:[bn]},$$scope:{ctx:t}}}),e.$on("click",t[4]),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,s){const u={};s&2048&&(u.$$scope={dirty:s,ctx:n}),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function bn(t){let e;return{c(){e=J("Handle extra GeoJSON properties")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function Ke(t){let e,i,n=t[7]+"",s,u,r=JSON.stringify(t[8])+"",f,l;return{c(){e=E("li"),i=E("b"),s=J(n),u=J(`
        = `),f=J(r),l=C()},m(o,a){b(o,e,a),R(e,i),R(i,s),R(e,u),R(e,f),R(e,l)},p(o,a){a&2&&n!==(n=o[7]+"")&&ae(s,n),a&2&&r!==(r=JSON.stringify(o[8])+"")&&ae(f,r)},d(o){o&&$(e)}}}function $n(t){let e;return{c(){e=J("Remove these properties")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function vn(t){let e;return{c(){e=J("Cancel")},m(i,n){b(i,e,n)},d(i){i&&$(e)}}}function kn(t){let e,i,n,s;return e=new Bt({props:{$$slots:{default:[$n]},$$scope:{ctx:t}}}),e.$on("click",t[2]),n=new he({props:{$$slots:{default:[vn]},$$scope:{ctx:t}}}),n.$on("click",t[5]),{c(){q(e.$$.fragment),i=C(),q(n.$$.fragment)},m(u,r){N(e,u,r),b(u,i,r),N(n,u,r),s=!0},p(u,r){const f={};r&2048&&(f.$$scope={dirty:r,ctx:u}),e.$set(f);const l={};r&2048&&(l.$$scope={dirty:r,ctx:u}),n.$set(l)},i(u){s||(d(e.$$.fragment,u),d(n.$$.fragment,u),s=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),s=!1},d(u){u&&$(i),F(e,u),F(n,u)}}}function wn(t){let e,i,n,s,u,r,f=we(Object.entries(t[1])),l=[];for(let o=0;o<f.length;o+=1)l[o]=Ke(Qe(t,f,o));return u=new kt({props:{$$slots:{default:[kn]},$$scope:{ctx:t}}}),{c(){e=E("p"),e.textContent="The unexpected properties:",i=C(),n=E("ul");for(let o=0;o<l.length;o+=1)l[o].c();s=C(),q(u.$$.fragment)},m(o,a){b(o,e,a),b(o,i,a),b(o,n,a);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(n,null);b(o,s,a),N(u,o,a),r=!0},p(o,a){if(a&2){f=we(Object.entries(o[1]));let c;for(c=0;c<f.length;c+=1){const w=Qe(o,f,c);l[c]?l[c].p(w,a):(l[c]=Ke(w),l[c].c(),l[c].m(n,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=f.length}const p={};a&2049&&(p.$$scope={dirty:a,ctx:o}),u.$set(p)},i(o){r||(d(u.$$.fragment,o),r=!0)},o(o){v(u.$$.fragment,o),r=!1},d(o){o&&($(e),$(i),$(n),$(s)),rt(l,o),F(u,o)}}}function yn(t){let e=Object.entries(t[1]).length>0,i,n,s,u,r=e&&Ze(t);function f(o){t[6](o)}let l={title:"This imported GeoJSON feature has unexpected properties",$$slots:{default:[wn]},$$scope:{ctx:t}};return t[0]!==void 0&&(l.open=t[0]),n=new pt({props:l}),A.push(()=>L(n,"open",f)),{c(){r&&r.c(),i=C(),q(n.$$.fragment)},m(o,a){r&&r.m(o,a),b(o,i,a),N(n,o,a),u=!0},p(o,[a]){a&2&&(e=Object.entries(o[1]).length>0),e?r?(r.p(o,a),a&2&&d(r,1)):(r=Ze(o),r.c(),d(r,1),r.m(i.parentNode,i)):r&&(te(),v(r,1,1,()=>{r=null}),ne());const p={};a&2051&&(p.$$scope={dirty:a,ctx:o}),!s&&a&1&&(s=!0,p.open=o[0],B(()=>s=!1)),n.$set(p)},i(o){u||(d(r),d(n.$$.fragment,o),u=!0)},o(o){v(r),v(n.$$.fragment,o),u=!1},d(o){o&&$(i),r&&r.d(o),F(n,o)}}}function Sn(t,e,i){let n,{props:s}=e,u=!1;function r(){i(0,u=!1);for(let a of Object.keys(n))delete s[a];i(3,s)}const f=()=>i(0,u=!0),l=()=>i(0,u=!1);function o(a){u=a,i(0,u)}return t.$$set=a=>{"props"in a&&i(3,s=a.props)},t.$$.update=()=>{t.$$.dirty&8&&i(1,n=at(s))},[u,n,r,s,f,l,o]}class jn extends D{constructor(e){super(),V(this,e,Sn,yn,z,{props:3})}}function Ye(t){let e,i,n;function s(r){t[5](r)}let u={};return t[0]!==void 0&&(u.props=t[0]),e=new jn({props:u}),A.push(()=>L(e,"props",s)),{c(){q(e.$$.fragment)},m(r,f){N(e,r,f),n=!0},p(r,f){const l={};!i&&f&1&&(i=!0,l.props=r[0],B(()=>i=!1)),e.$set(l)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function qn(t){let e,i,n;function s(r){t[8](r)}let u={gjSchemes:t[1]};return t[0]!==void 0&&(u.props=t[0]),e=new Kt({props:u}),A.push(()=>L(e,"props",s)),{c(){q(e.$$.fragment)},m(r,f){N(e,r,f),n=!0},p(r,f){const l={};f&2&&(l.gjSchemes=r[1]),!i&&f&1&&(i=!0,l.props=r[0],B(()=>i=!1)),e.$set(l)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function Nn(t){let e,i,n;function s(r){t[7](r)}let u={gjSchemes:t[1]};return t[0]!==void 0&&(u.props=t[0]),e=new hn({props:u}),A.push(()=>L(e,"props",s)),{c(){q(e.$$.fragment)},m(r,f){N(e,r,f),n=!0},p(r,f){const l={};f&2&&(l.gjSchemes=r[1]),!i&&f&1&&(i=!0,l.props=r[0],B(()=>i=!1)),e.$set(l)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function Fn(t){let e,i,n;function s(r){t[6](r)}let u={gjSchemes:t[1]};return t[0]!==void 0&&(u.props=t[0]),e=new Gt({props:u}),A.push(()=>L(e,"props",s)),{c(){q(e.$$.fragment)},m(r,f){N(e,r,f),n=!0},p(r,f){const l={};f&2&&(l.gjSchemes=r[1]),!i&&f&1&&(i=!0,l.props=r[0],B(()=>i=!1)),e.$set(l)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function On(t){let e,i,n,s,u,r=t[2]!=null&&Ye(t);const f=[Fn,Nn,qn],l=[];function o(a,p){return a[3]=="v1"?0:a[3]=="pipeline"?1:a[3]=="v2"?2:-1}return~(i=o(t))&&(n=l[i]=f[i](t)),{c(){r&&r.c(),e=C(),n&&n.c(),s=ie()},m(a,p){r&&r.m(a,p),b(a,e,p),~i&&l[i].m(a,p),b(a,s,p),u=!0},p(a,[p]){a[2]!=null?r?(r.p(a,p),p&4&&d(r,1)):(r=Ye(a),r.c(),d(r,1),r.m(e.parentNode,e)):r&&(te(),v(r,1,1,()=>{r=null}),ne());let c=i;i=o(a),i===c?~i&&l[i].p(a,p):(n&&(te(),v(l[c],1,1,()=>{l[c]=null}),ne()),~i?(n=l[i],n?n.p(a,p):(n=l[i]=f[i](a),n.c()),d(n,1),n.m(s.parentNode,s)):n=null)},i(a){u||(d(r),d(n),u=!0)},o(a){v(r),v(n),u=!1},d(a){a&&($(e),$(s)),r&&r.d(a),~i&&l[i].d(a)}}}function Cn(t,e,i){let n;ve(t,le,c=>i(3,n=c));let{cfg:s}=e,{gjSchemes:u}=e,{id:r}=e,{props:f}=e;function l(c){f=c,i(0,f)}function o(c){f=c,i(0,f)}function a(c){f=c,i(0,f)}function p(c){f=c,i(0,f)}return t.$$set=c=>{"cfg"in c&&i(4,s=c.cfg),"gjSchemes"in c&&i(1,u=c.gjSchemes),"id"in c&&i(2,r=c.id),"props"in c&&i(0,f=c.props)},[f,u,r,n,s,l,o,a,p]}class Pn extends D{constructor(e){super(),V(this,e,Cn,On,z,{cfg:4,gjSchemes:1,id:2,props:0})}}function Mn(t){let e,i,n;function s(r){t[3](r)}let u={label:"Scheme name",required:!0};return t[2].schemes[t[1]].scheme_name!==void 0&&(u.value=t[2].schemes[t[1]].scheme_name),e=new Pe({props:u}),A.push(()=>L(e,"value",s)),{c(){q(e.$$.fragment)},m(r,f){N(e,r,f),n=!0},p(r,[f]){const l={};!i&&f&6&&(i=!0,l.value=r[2].schemes[r[1]].scheme_name,B(()=>i=!1)),e.$set(l)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function Un(t,e,i){let n,s=be,u=()=>(s(),s=ke(r,o=>i(2,n=o)),r);t.$$.on_destroy.push(()=>s());let{gjSchemes:r}=e;u();let{scheme_reference:f}=e;function l(o){t.$$.not_equal(n.schemes[f].scheme_name,o)&&(n.schemes[f].scheme_name=o,r.set(n))}return t.$$set=o=>{"gjSchemes"in o&&u(i(0,r=o.gjSchemes)),"scheme_reference"in o&&i(1,f=o.scheme_reference)},[r,f,n,l]}class In extends D{constructor(e){super(),V(this,e,Un,Mn,z,{gjSchemes:0,scheme_reference:1})}}function Tn(t){let e,i,n,s,u,r,f,l,o,a,p,c,w,M,U,P,k,m,S,I,j;e=new $e({props:{errorMessage:t[4]}});function T(_){t[6](_)}let y={label:"Scheme name",required:!0};t[5].schemes[t[1]].scheme_name!==void 0&&(y.value=t[5].schemes[t[1]].scheme_name),n=new Pe({props:y}),A.push(()=>L(n,"value",T));function H(_){t[7](_)}let Q={label:"Scheme type",choices:[["cycling route","Cycling route"],["walking route","Walking route"],["shared-use route","Shared-use route"],["cycling and walking route","Cycling and walking route, not shared use"],["area-based scheme","Area-based scheme"],["intersection","Intersection/junction scheme"]],inlineSmall:!0,required:!0};t[2].scheme_type!==void 0&&(Q.value=t[2].scheme_type),o=new ce({props:Q}),A.push(()=>L(o,"value",H));function K(_){t[8](_)}let x={label:"Type of the main intervention"};t[2].atf4_lead_type!==void 0&&(x.value=t[2].atf4_lead_type),c=new lt({props:x}),A.push(()=>L(c,"value",K));function g(_){t[9](_)}let h={label:"Scheme description (150 words max)"};return t[2].scheme_description!==void 0&&(h.value=t[2].scheme_description),U=new qe({props:h}),A.push(()=>L(U,"value",g)),m=new ut({props:{data:t[2],required:!0,onUpdate:t[10]}}),I=new ot({props:{data:t[2],onUpdate:t[11]}}),{c(){q(e.$$.fragment),i=C(),q(n.$$.fragment),u=C(),r=E("fieldset"),f=E("legend"),f.textContent="Basic information",l=C(),q(o.$$.fragment),p=C(),q(c.$$.fragment),M=C(),q(U.$$.fragment),k=C(),q(m.$$.fragment),S=C(),q(I.$$.fragment),W(f,"class","govuk-fieldset__legend"),W(r,"class","govuk-fieldset svelte-1bxyfcq")},m(_,O){N(e,_,O),b(_,i,O),N(n,_,O),b(_,u,O),b(_,r,O),R(r,f),R(r,l),N(o,r,null),R(r,p),N(c,r,null),R(r,M),N(U,r,null),b(_,k,O),N(m,_,O),b(_,S,O),N(I,_,O),j=!0},p(_,[O]){const G={};O&16&&(G.errorMessage=_[4]),e.$set(G);const Z={};!s&&O&34&&(s=!0,Z.value=_[5].schemes[_[1]].scheme_name,B(()=>s=!1)),n.$set(Z);const Y={};!a&&O&4&&(a=!0,Y.value=_[2].scheme_type,B(()=>a=!1)),o.$set(Y);const se={};!w&&O&4&&(w=!0,se.value=_[2].atf4_lead_type,B(()=>w=!1)),c.$set(se);const me={};!P&&O&4&&(P=!0,me.value=_[2].scheme_description,B(()=>P=!1)),U.$set(me);const oe={};O&4&&(oe.data=_[2]),O&8&&(oe.onUpdate=_[10]),m.$set(oe);const de={};O&4&&(de.data=_[2]),O&8&&(de.onUpdate=_[11]),I.$set(de)},i(_){j||(d(e.$$.fragment,_),d(n.$$.fragment,_),d(o.$$.fragment,_),d(c.$$.fragment,_),d(U.$$.fragment,_),d(m.$$.fragment,_),d(I.$$.fragment,_),j=!0)},o(_){v(e.$$.fragment,_),v(n.$$.fragment,_),v(o.$$.fragment,_),v(c.$$.fragment,_),v(U.$$.fragment,_),v(m.$$.fragment,_),v(I.$$.fragment,_),j=!1},d(_){_&&($(i),$(u),$(r),$(k),$(S)),F(e,_),F(n,_),F(o),F(c),F(U),F(m,_),F(I,_)}}}function An(t,e,i){let n,s,u=be,r=()=>(u(),u=ke(f,m=>i(5,s=m)),f);t.$$.on_destroy.push(()=>u());let{gjSchemes:f}=e;r();let{scheme_reference:l}=e,o=s.schemes[l].pipeline,a=0;_t(()=>{f.update(m=>(Object.hasOwn(m.schemes,l)&&(m.schemes[l].pipeline=o),m))});function p(m,S){return o.scheme_type&&o.status&&o.timescale?"":"Missing some required data"}function c(m){t.$$.not_equal(s.schemes[l].scheme_name,m)&&(s.schemes[l].scheme_name=m,f.set(s))}function w(m){t.$$.not_equal(o.scheme_type,m)&&(o.scheme_type=m,i(2,o))}function M(m){t.$$.not_equal(o.atf4_lead_type,m)&&(o.atf4_lead_type=m,i(2,o))}function U(m){t.$$.not_equal(o.scheme_description,m)&&(o.scheme_description=m,i(2,o))}const P=()=>i(3,a++,a),k=()=>i(3,a++,a);return t.$$set=m=>{"gjSchemes"in m&&r(i(0,f=m.gjSchemes)),"scheme_reference"in m&&i(1,l=m.scheme_reference)},t.$$.update=()=>{t.$$.dirty&12&&i(4,n=p())},[f,l,o,a,n,s,c,w,M,U,P,k]}class Ln extends D{constructor(e){super(),V(this,e,An,Tn,z,{gjSchemes:0,scheme_reference:1})}}function Bn(t){let e,i;return e=new In({props:{gjSchemes:t[0],scheme_reference:t[1]}}),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,s){const u={};s&1&&(u.gjSchemes=n[0]),s&2&&(u.scheme_reference=n[1]),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function Wn(t){let e,i;return e=new Ln({props:{gjSchemes:t[0],scheme_reference:t[1]}}),{c(){q(e.$$.fragment)},m(n,s){N(e,n,s),i=!0},p(n,s){const u={};s&1&&(u.gjSchemes=n[0]),s&2&&(u.scheme_reference=n[1]),e.$set(u)},i(n){i||(d(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){F(e,n)}}}function Rn(t){let e,i,n,s;const u=[Wn,Bn],r=[];function f(l,o){return l[2]=="pipeline"?0:1}return e=f(t),i=r[e]=u[e](t),{c(){i.c(),n=ie()},m(l,o){r[e].m(l,o),b(l,n,o),s=!0},p(l,[o]){let a=e;e=f(l),e===a?r[e].p(l,o):(te(),v(r[a],1,1,()=>{r[a]=null}),ne(),i=r[e],i?i.p(l,o):(i=r[e]=u[e](l),i.c()),d(i,1),i.m(n.parentNode,n))},i(l){s||(d(i),s=!0)},o(l){v(i),s=!1},d(l){l&&$(n),r[e].d(l)}}}function En(t,e,i){let n;ve(t,le,r=>i(2,n=r));let{gjSchemes:s}=e,{scheme_reference:u}=e;return t.$$set=r=>{"gjSchemes"in r&&i(0,s=r.gjSchemes),"scheme_reference"in r&&i(1,u=r.scheme_reference)},[s,u,n]}class Jn extends D{constructor(e){super(),V(this,e,En,Rn,z,{gjSchemes:0,scheme_reference:1})}}let Zn={interventionName:Vn,schemeName:Ne,backfill:Gn,initializeEmptyScheme:Dn,interventionWarning:zn,editFeatureForm:Pn,editSchemeForm:Jn,newPointFeature:t=>{t.properties.intervention_type="other"},newPolygonFeature:t=>{t.properties.intervention_type="area",t.properties.is_coverage_polygon=!1},newLineStringFeature:t=>{t.properties.intervention_type="route",t.properties.route_name&&!t.properties.name&&fe(le)!="pipeline"&&(t.properties.name=t.properties.route_name),delete t.properties.route_name,delete t.properties.full_path},updateFeature:(t,e)=>{e.properties.route_name&&!t.properties.name&&fe(le)!="pipeline"&&(t.properties.name=e.properties.route_name)},getStreetViewRoadLayerNames:t=>gt(t,fe(mt)),layerZorder:ht};function Gn(t){var n,s,u,r,f,l,o,a;let e=fe(le),i=1;for(let p of t.features)p.properties||(p.properties={name:"",scheme_reference:"",description:"",intervention_type:"other",is_coverage_polygon:!1}),(e=="pipeline"||e=="v2")&&!p.properties.intervention_type&&(p.properties.intervention_type=new Map([["LineString","route"],["Polygon","area"]]).get(p.geometry.type)??"other"),p.geometry.type=="LineString"&&!p.properties.length_meters&&(p.properties.length_meters=bt(p,{units:"kilometers"})*1e3),p.id=i++;if(!t.schemes){let p=ue();t.schemes={},t.schemes[p]={scheme_reference:p,color:Ie()},t.scheme_name&&(t.schemes[p].scheme_name=t.scheme_name,delete t.scheme_name),t.pipeline&&(t.schemes[p].pipeline=t.pipeline,delete t.pipeline);for(let c of t.features)c.properties.scheme_reference=p}for(let p of Object.values(t.schemes)){let c=p;if(c.color??(c.color=Ie()),e=="pipeline"){c.pipeline??(c.pipeline=ft()),(n=c.pipeline).development_funded??(n.development_funded=!1),(s=c.pipeline).construction_funded??(s.construction_funded=!1),(u=c.pipeline).funding_sources??(u.funding_sources=Se()),delete c.pipeline.budget_funded,delete c.pipeline.budget_unfunded,delete c.pipeline.funding_source,delete c.pipeline.funded;for(let w of t.features)w.properties.pipeline&&((r=w.properties.pipeline).development_funded??(r.development_funded=!1),(f=w.properties.pipeline).construction_funded??(f.construction_funded=!1),(l=w.properties.pipeline).funding_sources??(l.funding_sources=Se()),(o=w.properties.pipeline).status??(o.status=""),(a=w.properties.pipeline).timescale??(a.timescale=""))}e=="v2"&&(c.v2={})}return t}function Dn(t){let e=t,i=fe(le);return i=="pipeline"&&(e.pipeline=ft()),i=="v2"&&(e.v2={}),e}function ft(){return{scheme_type:"",atf4_lead_type:"",scheme_description:"",status:"",timescale:"",development_funded:!1,construction_funded:!1,funding_sources:Se()}}function Se(){return{atf2:!1,atf3:!1,atf4:!1,atf4e:!1,crsts:!1,luf:!1,other:""}}function Vn(t){if(t.properties.name)return t.properties.name;var e=t.properties.intervention_type;return e=="other"&&(t.geometry.type=="Point"?e="point":t.geometry.type=="LineString"?e="line":e="polygon"),`Untitled ${e}`}function Ne(t){return t.scheme_name??"Untitled scheme"}function zn(t){var n;let e=fe(le);if(!t.name)return"No name";if(!new Set(["route","area","crossing","other"]).has(t.intervention_type))return"No intervention type";if(e=="pipeline"&&!((n=t.pipeline)!=null&&n.accuracy))return"Accuracy not specified";let i=at(t);return Object.entries(i).length>0?`Extra GeoJSON properties: ${Object.keys(i).join(", ")}`:null}function at(t){let e=fe(le),i=JSON.parse(JSON.stringify(t));for(let n of["name","description","intervention_type","length_meters","waypoints","hide_while_editing","is_coverage_polygon","scheme_reference"])delete i[n];if(e=="pipeline"&&i.pipeline){for(let n of["atf4_type","accuracy","is_alternative","budget","development_funded","construction_funded","funding_sources","status","timescale","timescale_year","year_published","year_consulted"])delete i.pipeline[n];Object.entries(i.pipeline).length==0&&delete i.pipeline}if(e=="v2"&&i.v2){for(let n of["intervention_type","for_cyclists","for_pedestrians","work_type"])delete i.v2[n];Object.entries(i.v2).length==0&&delete i.v2}return i}export{kt as B,Bt as W,Gn as b,Zn as c};
